(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
!function(e,r){"use strict";function t(e,r){if(u(e)){r=r||[];for(var t=0,n=e.length;t<n;t++)r[t]=e[t]}else if(s(e)){r=r||{};for(var a in e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(r[a]=e[a])}return r||e}function n(){function e(e,t){return r.extend(Object.create(e),t)}function n(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,r,t,n){var i="?"===n||"*?"===n?"?":null,o="*"===n||"*?"===n?"*":null;return a.push({name:t,optional:!!i}),r=r||"",(i?"":r)+"(?:"+(i?r:"")+(o&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",t?"i":""),n}u=r.isArray,s=r.isObject,l=r.isDefined,f=r.noop;var a={};this.when=function(e,i){var o=t(i);if(r.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),r.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),a[e]=r.extend(o,e&&n(e,o)),e){var c="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";a[c]=r.extend({redirectTo:e},n(c,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},h=!0,this.eagerInstantiationEnabled=function(e){return l(e)?(h=e,this):h},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(t,n,i,o,c,u,s,l){function h(e,r){var t=r.keys,n={};if(!r.regexp)return null;var a=r.regexp.exec(e);if(!a)return null;for(var i=1,o=a.length;i<o;++i){var c=t[i-1],u=a[i];c&&u&&(n[c.name]=u)}return n}function d(e){var n=y.current;R=C(),(x=R&&n&&R.$$route===n.$$route&&r.equals(R.pathParams,n.pathParams)&&!R.reloadOnSearch&&!S)||!n&&!R||t.$broadcast("$routeChangeStart",R,n).defaultPrevented&&e&&e.preventDefault()}function p(){var e=y.current,n=R;if(x)e.params=n.params,r.copy(e.params,i),t.$broadcast("$routeUpdate",e);else if(n||e){S=!1,y.current=n;var a=o.resolve(n);l.$$incOutstandingRequestCount(),a.then(v).then(g).then(function(o){return o&&a.then(m).then(function(a){n===y.current&&(n&&(n.locals=a,r.copy(n.params,i)),t.$broadcast("$routeChangeSuccess",n,e))})}).catch(function(r){n===y.current&&t.$broadcast("$routeChangeError",n,e,r)}).finally(function(){l.$$completeOutstandingRequest(f)})}}function v(e){var t={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(r.isString(e.redirectTo))t.path=P(e.redirectTo,e.params),t.search=e.params,t.hasRedirection=!0;else{var a=n.path(),i=n.search(),u=e.redirectTo(e.pathParams,a,i);r.isDefined(u)&&(t.url=u,t.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(c.invoke(e.resolveRedirectTo)).then(function(e){return r.isDefined(e)&&(t.url=e,t.hasRedirection=!0),t});return t}function g(e){var r=!0;if(e.route!==y.current)r=!1;else if(e.hasRedirection){var t=n.url(),a=e.url;a?n.url(a).replace():a=n.path(e.path).search(e.search).replace().url(),a!==t&&(r=!1)}return r}function m(e){if(e){var t=r.extend({},e.resolve);r.forEach(t,function(e,n){t[n]=r.isString(e)?c.get(e):c.invoke(e,null,null,n)});var n=w(e);return r.isDefined(n)&&(t.$template=n),o.all(t)}}function w(e){var t,n;return r.isDefined(t=e.template)?r.isFunction(t)&&(t=t(e.params)):r.isDefined(n=e.templateUrl)&&(r.isFunction(n)&&(n=n(e.params)),r.isDefined(n)&&(e.loadedTemplateUrl=s.valueOf(n),t=u(n))),t}function C(){var t,i;return r.forEach(a,function(a,o){!i&&(t=h(n.path(),a))&&(i=e(a,{params:r.extend({},n.search(),t),pathParams:t}),i.$$route=a)}),i||a[null]&&e(a[null],{params:{},pathParams:{}})}function P(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),i=a[1];n.push(t[i]),n.push(a[2]||""),delete t[i]}}),n.join("")}var R,x,S=!1,y={routes:a,reload:function(){S=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,S=!1}};t.$evalAsync(function(){d(e),e.defaultPrevented||p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw $("norout","Tried updating route when with no current route");e=r.extend({},this.current.params,e),n.path(P(this.current.$$route.originalPath,e)),n.search(e)}};return t.$on("$locationChangeStart",d),t.$on("$locationChangeSuccess",p),y}]}function a(e){h&&e.get("$route")}function i(){this.$get=function(){return{}}}function o(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,i,o,c,u){function s(){d&&(n.cancel(d),d=null),f&&(f.$destroy(),f=null),h&&(d=n.leave(h),d.done(function(e){!1!==e&&(d=null)}),h=null)}function l(){var o=e.current&&e.current.locals,c=o&&o.$template;if(r.isDefined(c)){var l=a.$new(),d=e.current,v=u(l,function(e){n.enter(e,null,h||i).done(function(e){!1===e||!r.isDefined($)||$&&!a.$eval($)||t()}),s()});h=v,f=d.scope=l,f.$emit("$viewContentLoaded"),f.$eval(p)}else s()}var f,h,d,$=o.autoscroll,p=o.onload||"";a.$on("$routeChangeSuccess",l),l()}}}function c(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var i=t.current,o=i.locals;a.html(o.$template);var c=e(a.contents());if(i.controller){o.$scope=n;var u=r(i.controller,o);i.controllerAs&&(n[i.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}n[i.resolveAs||"$resolve"]=o,c(n)}}}var u,s,l,f,h,d=r.module("ngRoute",[]).info({angularVersion:"1.6.7"}).provider("$route",n).run(a),$=r.$$minErr("ngRoute");a.$inject=["$injector"],d.provider("$routeParams",i),d.directive("ngView",o),d.directive("ngView",c),o.$inject=["$route","$anchorScroll","$animate"],c.$inject=["$compile","$controller","$route"]}(window,window.angular);
},{}],2:[function(require,module,exports){
require("./angular-route"),module.exports="ngRoute";
},{"./angular-route":1}],3:[function(require,module,exports){
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,a){var i=a.has("$animateCss")?a.get("$animateCss"):null;return{link:function(a,o,r){function l(e){return g?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function s(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(d(a)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(o[0])}).start().finally(u):e.addClass(o,"in",{css:{overflow:"hidden"},to:l(o[0])}).then(u)},angular.noop)}function u(){o.removeClass("collapsing").addClass("collapse").css(b),m(a)}function p(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return c();t.resolve(f(a)).then(function(){o.css(l(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:v}).start().finally(c):e.removeClass(o,"in",{to:v}).then(c)},angular.noop)}function c(){o.css(v),o.removeClass("collapsing").addClass("collapse"),h(a)}var d=n(r.expanding),m=n(r.expanded),f=n(r.collapsing),h=n(r.collapsed),g=!1,b={},v={};!function(){g=!!("horizontal"in r),g?(b={width:""},v={width:"0"}):(b={height:""},v={height:"0"}),a.$eval(r.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(b)}(),a.$watch(r.uibCollapse,function(e){e?p():s()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){t.addClass("panel"),a.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,a,i){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?a(n.dismissOnTimeout)(e.$parent):null;o&&i(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,a,i){var o=i[0],r=i[1],l=e(a.uibUncheckable);n.find("input").css({display:"none"}),r.$render=function(){n.toggleClass(o.activeClass,angular.equals(r.$modelValue,t.$eval(a.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!a.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(a.uncheckable)||t.$apply(function(){r.$setViewValue(e?null:t.$eval(a.uibBtnRadio)),r.$render()})}}),a.uibUncheckable&&t.$watch(l,function(e){a.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,a){function i(){return r(n.btnCheckboxTrue,!0)}function o(){return r(n.btnCheckboxFalse,!1)}function r(t,n){return angular.isDefined(t)?e.$eval(t):n}var l=a[0],s=a[1];t.find("input").css({display:"none"}),s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,i()))},t.on(l.toggleEvent,function(){n.disabled||e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?o():i()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,a,i){function o(e){for(var t=0;t<h.length;t++)h[t].slide.active=t===e}function r(n,a,r){if(!v){if(angular.extend(n,{direction:r}),angular.extend(h[b].slide||{},{direction:r}),i.enabled(t)&&!e.$currentTransition&&h[a].element&&f.slides.length>1){h[a].element.data(g,n.direction);var l=f.getCurrentIndex();angular.isNumber(l)&&h[l].element&&h[l].element.data(g,n.direction),e.$currentTransition=!0,i.on("addClass",h[a].element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))})}e.active=n.index,b=n.index,o(a),p()}}function l(e){for(var t=0;t<h.length;t++)if(h[t].slide===e)return t}function s(){d&&(n.cancel(d),d=null)}function u(t){t.length||(e.$currentTransition=null)}function p(){s();var t=+e.interval;!isNaN(t)&&t>0&&(d=n(c,t))}function c(){var t=+e.interval;m&&!isNaN(t)&&t>0&&h.length?e.next():e.pause()}var d,m,f=this,h=f.slides=e.slides=[],g="uib-slideDirection",b=e.active,v=!1;t.addClass("carousel"),f.addSlide=function(t,n){h.push({slide:t,element:n}),h.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===h.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),b=t.index,e.active=t.index,o(b),f.select(h[l(t)]),1===h.length&&e.play())},f.getCurrentIndex=function(){for(var e=0;e<h.length;e++)if(h[e].slide.index===b)return e},f.next=e.next=function(){var t=(f.getCurrentIndex()+1)%h.length;return 0===t&&e.noWrap()?void e.pause():f.select(h[t],"next")},f.prev=e.prev=function(){var t=f.getCurrentIndex()-1<0?h.length-1:f.getCurrentIndex()-1;return e.noWrap()&&t===h.length-1?void e.pause():f.select(h[t],"prev")},f.removeSlide=function(t){var n=l(t);h.splice(n,1),h.length>0&&b===n?n>=h.length?(b=h.length-1,e.active=b,o(b),f.select(h[h.length-1])):(b=n,e.active=b,o(b),f.select(h[n])):b>n&&(b--,e.active=b),0===h.length&&(b=null,e.active=null)},f.select=e.select=function(t,n){var a=l(t.slide);void 0===n&&(n=a>f.getCurrentIndex()?"next":"prev"),t.slide.index===b||e.$currentTransition||r(t.slide,a,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===h.length-1&&e.noWrap()},e.pause=function(){e.noPause||(m=!1,s())},e.play=function(){m||(m=!0,p())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){v=!0,s()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",p),e.$watchCollection("slides",u),e.$watch("active",function(e){if(angular.isNumber(e)&&b!==e){for(var t=0;t<h.length;t++)if(h[t].slide.index===e){e=t;break}h[e]&&(o(e),f.select(h[e]),b=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,a,i){n.addClass("item"),i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(n,a,i){if("active"===a){var o=!1,r=n.data("uib-slideDirection"),l="next"===r?"left":"right",s=t.bind(this,n,l+" "+r,i);return n.addClass(r),e(n,{addClass:l}).start().done(s),function(){o=!0}}i()},beforeRemoveClass:function(n,a,i){if("active"===a){var o=!1,r=n.data("uib-slideDirection"),l="next"===r?"left":"right",s=t.bind(this,n,l,i);return e(n,{addClass:l}).start().done(s),function(){o=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,a,i){function o(e){return i(v,{key:e},!0)[0]}function r(e){var t=[],n=e.split(""),i=e.indexOf("'");if(i>-1){var o=!1;e=e.split("");for(var r=i;r<e.length;r++)o?("'"===e[r]&&(r+1<e.length&&"'"===e[r+1]?(e[r+1]="$",n[r+1]=""):(n[r]="",o=!1)),e[r]="$"):"'"===e[r]&&(e[r]="$",n[r]="",o=!0);e=e.join("")}return angular.forEach(v,function(a){var i=e.indexOf(a.key);if(i>-1){e=e.split(""),n[i]="("+a.regex+")",e[i]="$";for(var o=i+1,r=i+a.key.length;o<r;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:i,key:a.key,apply:a.apply,matcher:a.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:a(t,"index")}}function l(e){for(var t,n,a=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(a.push(s(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=u(e,n),a.push(t),n=t.endIdx;i++}else"'"!==e.charAt(i)?(t=u(e,i),a.push(t.parser),i=t.endIdx):(n=i,i++);return a}function s(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),a=0;a<v.length;a++)if(new RegExp("^"+v[a].key).test(n)){var i=v[a];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function p(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function c(e){return parseInt(e,10)}function d(e,t){return e&&t?g(e,t):e}function m(e,t){return e&&t?g(e,t,!0):e}function f(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function h(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function g(e,t,n){n=n?-1:1;var a=e.getTimezoneOffset();return h(e,n*(f(t,a)-a))}var b,v,$=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){b=t.id,this.parsers={},this.formatters={},v=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return/^[0-9]$/.test(e.getMonth())?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return/^[1-9]$/.test(e.getDate())?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],a=t[2],i=t[3];this.hours+=c(n+a),this.minutes+=c(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&v.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=o(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==b&&this.init(),this.formatters[n]||(this.formatters[n]=l(n)),this.formatters[n].reduce(function(t,n){return t+n(e)},"")):""},this.parse=function(n,a,i){if(!angular.isString(n)||!a)return n;a=t.DATETIME_FORMATS[a]||a,a=a.replace($,"\\$&"),t.id!==b&&this.init(),this.parsers[a]||(this.parsers[a]=r(a));var o=this.parsers[a],l=o.regex,s=o.map,u=n.match(l),c=!1;if(u&&u.length){var d,m;angular.isDate(i)&&!isNaN(i.getTime())?d={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&e.warn("dateparser:","baseDate is not a valid date"),d={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,h=u.length;f<h;f++){var g=s[f-1];"Z"===g.matcher&&(c=!0),g.apply&&g.apply.call(d,u[f])}var v=c?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,y=c?Date.prototype.setUTCHours:Date.prototype.setHours;return p(d.year,d.month,d.date)&&(!angular.isDate(i)||isNaN(i.getTime())||c?(m=new Date(0),v.call(m,d.year,d.month,d.date),y.call(m,d.hours||0,d.minutes||0,d.seconds||0,d.milliseconds||0)):(m=new Date(i),v.call(m,d.year,d.month,d.date),y.call(m,d.hours,d.minutes,d.seconds,d.milliseconds))),m}},this.toTimezone=d,this.fromTimezone=m,this.timezoneToOffset=f,this.addDateMinutes=h,this.convertTimezoneToLocal=g}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(a,i){function o(e,t,n){s.push(e),u.push({scope:e,element:t}),f.forEach(function(t,n){r(t,e)}),e.$on("$destroy",l)}function r(t,a){var i=t.match(n),o=a.$eval(i[1]),r=i[2],l=p[t];if(!l){var s=function(t){var n=null;u.some(function(e){if(e.scope.$eval(d)===t)return n=e,!0}),l.lastActivated!==n&&(l.lastActivated&&e.removeClass(l.lastActivated.element,o),n&&e.addClass(n.element,o),l.lastActivated=n)};p[t]=l={lastActivated:null,scope:a,watchFn:s,compareWithExp:r,watcher:a.$watch(r,s)}}l.watchFn(a.$eval(r))}function l(e){var t=e.targetScope,n=s.indexOf(t);if(s.splice(n,1),u.splice(n,1),s.length){var a=s[0];angular.forEach(p,function(e){e.scope===t&&(e.watcher=a.$watch(e.compareWithExp,e.watchFn),e.scope=a)})}else p={}}var s=[],u=[],p={},c=i.uibIsClass.match(t),d=c[2],m=c[1],f=m.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,a,i,o,r,l,s,u,p,c){function d(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function m(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||s.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var a=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(s.ngModelOptions?s.ngModelOptions.timezone:null);n=t.$options.createChild(s.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:a})}return n}var f=this,h={$setViewValue:angular.noop},g={},b=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):s[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?f.startingDay=e.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?f.startingDay=s.startingDay:f.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?f[t]=c.fromTimezone(new Date(e),g.getOption("timezone")):(u&&r.warn("Literal date support has been deprecated, please switch to date object usage"),f[t]=new Date(l(e,"medium"))):f[t]=s[t]?c.fromTimezone(new Date(s[t]),g.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){f[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)<f.modes.indexOf(f[t])||"maxMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)>f.modes.indexOf(f[t]))&&(e.datepickerMode=f[t],e.datepickerOptions.datepickerMode=f[t])}):f[t]=e[t]=s[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&b.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,f.refreshView()})),e.isActive=function(t){return 0===f.compare(t.date,f.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){h=t,g=m(h),e.datepickerOptions.initDate?(f.activeDate=c.fromTimezone(e.datepickerOptions.initDate,g.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(f.activeDate=c.fromTimezone(e,g.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=h.$modelValue?new Date(h.$modelValue):new Date;this.activeDate=isNaN(n)?c.fromTimezone(new Date,g.getOption("timezone")):c.fromTimezone(n,g.getOption("timezone")),h.$render=function(){f.render()}},this.render=function(){if(h.$viewValue){var e=new Date(h.$viewValue);!isNaN(e)?this.activeDate=c.fromTimezone(e,g.getOption("timezone")):p||r.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=h.$viewValue?new Date(h.$viewValue):null;t=c.fromTimezone(t,g.getOption("timezone")),h.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var a=h.$viewValue?new Date(h.$viewValue):null;a=c.fromTimezone(a,g.getOption("timezone"));var i=new Date;i=c.fromTimezone(i,g.getOption("timezone"));var o=this.compare(t,i),r={date:t,label:c.filter(t,n),selected:a&&0===this.compare(t,a),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return a&&0===this.compare(t,a)&&(e.selectedDt=r),f.activeDate&&0===this.compare(r.date,f.activeDate)&&(e.activeDt=r),r},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===f.minMode){var n=h.$viewValue?c.fromTimezone(new Date(h.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=c.toTimezone(n,g.getOption("timezone")),h.$setViewValue(n),h.$render()}else f.activeDate=t,d(f.modes[f.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=f.activeDate.getFullYear()+e*(f.step.years||0),n=f.activeDate.getMonth()+e*(f.step.months||0);f.activeDate.setFullYear(t,n,1),f.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===f.maxMode&&1===t||e.datepickerMode===f.minMode&&-1===t||(d(f.modes[f.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var v=function(){f.element[0].focus()};e.$on("uib:datepicker.focus",v),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),f.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;e.select(f.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,t),f.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;b.length;)b.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function a(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,a=new Array(t),i=new Date(e),o=0;o<t;)n=new Date(i),a[o++]=n,i.setDate(i.getDate()+1);return a},this._refreshView=function(){var t=this.activeDate.getFullYear(),a=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,a,1);var r=this.startingDay-o.getDay(),l=r>0?7-r:-r,s=new Date(o);l>0&&s.setDate(1-l);for(var u=this.getDates(s,42),p=0;p<42;p++)u[p]=angular.extend(this.createDateObject(u[p],this.formatDay),{secondary:u[p].getMonth()!==a,uid:e.uniqueId+"-"+p});e.labels=new Array(7);for(var c=0;c<7;c++)e.labels[c]={abbr:n(u[c].date,this.formatDayHeader),full:n(u[c].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var d=(11-this.startingDay)%7,m=e.rows.length,f=0;f<m;f++)e.weekNumbers.push(i(e.rows[f][d].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(a(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=a(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,a=new Array(12),i=this.activeDate.getFullYear(),o=0;o<12;o++)t=new Date(this.activeDate),t.setFullYear(i,o,1),a[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(a,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),a=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(a)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function a(e){return parseInt((e-1)/o,10)*o+1}var i,o;this.element=t,this.yearpickerInit=function(){i=this.yearColumns,o=this.yearRows*i,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),r=0,l=a(this.activeDate.getFullYear());r<o;r++)t=new Date(this.activeDate),t.setFullYear(l+r,0,1),n[r]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=a(this.activeDate.getFullYear()):"end"===e&&(n=a(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",
link:function(e,t,n,a){var i=a[0];a[1].init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,a){var i=a[0];a[1].init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,a){var i=a[0];angular.extend(i,a[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,a,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){n=this.getRawNode(n);for(var a=n.offsetParent||e[0].documentElement;a&&a!==e[0].documentElement&&function(e){return"static"===(t.getComputedStyle(e).position||"static")}(a);)a=a.offsetParent;return a||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(a)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),a=t.innerWidth-o[0].clientWidth,a=isFinite(a)?a:0,o.removeClass("uib-position-body-scrollbar-measure")}return a}if(angular.isUndefined(n)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(r),n=r[0].offsetWidth-r[0].clientWidth,n=isFinite(n)?n:0,r.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),a=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),l=this.scrollbarWidth(r.test(o.tagName));return{scrollbarWidth:l,widthOverflow:o.scrollWidth>o.clientWidth,right:a+l,originalRight:a,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+l,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var a=n?i.hidden:i.normal,o=t.getComputedStyle(e);return a.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,a,o){n=this.getRawNode(n);var r=a?i.hidden:i.normal,l=e[0].documentElement,s=t.getComputedStyle(n);if(o&&r.test(s.overflow+s.overflowY+s.overflowX))return n;var u="absolute"===s.position,p=n.parentElement||l;if(p===l||"fixed"===s.position)return l;for(;p.parentElement&&p!==l;){var c=t.getComputedStyle(p);if(u&&"static"!==c.position&&(u=!1),!u&&r.test(c.overflow+c.overflowY+c.overflowX))break;p=p.parentElement}return p},position:function(n,a){n=this.getRawNode(n);var i=this.offset(n);if(a){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var r=this.offsetParent(n),l={top:0,left:0};return r!==e[0].documentElement&&(l=this.offset(r),l.top+=r.clientTop-r.scrollTop,l.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-l.top),left:Math.round(i.left-l.left)}},offset:function(n){n=this.getRawNode(n);var a=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(a.width)?a.width:n.offsetWidth),height:Math.round(angular.isNumber(a.height)?a.height:n.offsetHeight),top:Math.round(a.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(a.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,a,i){n=this.getRawNode(n),i=!1!==i;var o=n.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},l=a?e[0].documentElement:this.scrollParent(n),s=l.getBoundingClientRect();if(r.top=s.top+l.clientTop,r.left=s.left+l.clientLeft,l===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+l.clientHeight,r.right=r.left+l.clientWidth,i){var u=t.getComputedStyle(l);r.top+=this.parseStyle(u.paddingTop),r.bottom-=this.parseStyle(u.paddingBottom),r.left+=this.parseStyle(u.paddingLeft),r.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-r.top),bottom:Math.round(r.bottom-o.bottom),left:Math.round(o.left-r.left),right:Math.round(r.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,a,i){e=this.getRawNode(e),n=this.getRawNode(n);var r=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),l=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");a=this.parsePlacement(a);var s=i?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(a[2]){var p=this.viewportOffset(e,i),c=t.getComputedStyle(n),d={width:r+Math.round(Math.abs(this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom)))};if(a[0]="top"===a[0]&&d.height>p.top&&d.height<=p.bottom?"bottom":"bottom"===a[0]&&d.height>p.bottom&&d.height<=p.top?"top":"left"===a[0]&&d.width>p.left&&d.width<=p.right?"right":"right"===a[0]&&d.width>p.right&&d.width<=p.left?"left":a[0],a[1]="top"===a[1]&&d.height-s.height>p.bottom&&d.height-s.height<=p.top?"bottom":"bottom"===a[1]&&d.height-s.height>p.top&&d.height-s.height<=p.bottom?"top":"left"===a[1]&&d.width-s.width>p.right&&d.width-s.width<=p.left?"right":"right"===a[1]&&d.width-s.width>p.left&&d.width-s.width<=p.right?"left":a[1],"center"===a[1])if(o.vertical.test(a[0])){var m=s.width/2-r/2;p.left+m<0&&d.width-s.width<=p.right?a[1]="left":p.right+m<0&&d.width-s.width<=p.left&&(a[1]="right")}else{var f=s.height/2-d.height/2;p.top+f<0&&d.height-s.height<=p.bottom?a[1]="top":p.bottom+f<0&&d.height-s.height<=p.top&&(a[1]="bottom")}}switch(a[0]){case"top":u.top=s.top-l;break;case"bottom":u.top=s.top+s.height;break;case"left":u.left=s.left-r;break;case"right":u.left=s.left+s.width}switch(a[1]){case"top":u.top=s.top;break;case"bottom":u.top=s.top+s.height-l;break;case"left":u.left=s.left;break;case"right":u.left=s.left+s.width-r;break;case"center":o.vertical.test(a[0])?u.left=s.left+s.width/2-r/2:u.top=s.top+s.height/2-l/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===a[1]?a[0]:a[0]+"-"+a[1],u},adjustTop:function(e,t,n,a){if(-1!==e.indexOf("top")&&n!==a)return{top:t.top-a+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var a=e.querySelector(".tooltip-inner, .popover-inner");if(a){var i=angular.element(a).hasClass("tooltip-inner"),r=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(r){var l={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(r).css(l);var s="border-"+n[0]+"-width",u=t.getComputedStyle(r)[s],p="border-";o.vertical.test(n[0])?p+=n[0]+"-"+n[1]:p+=n[1]+"-"+n[0],p+="-radius";var c=t.getComputedStyle(i?a:e)[p];switch(n[0]){case"top":l.bottom=i?"0":"-"+u;break;case"bottom":l.top=i?"0":"-"+u;break;case"left":l.right=i?"0":"-"+u;break;case"right":l.left=i?"0":"-"+u}l[n[1]]=c,angular.element(r).css(l)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,a,i,o,r,l,s,u,p,c,d,m,f,h){function g(t){var n=c.parse(t,D,e.date);if(isNaN(n))for(var a=0;a<N.length;a++)if(n=c.parse(t,N[a],e.date),!isNaN(n))return n;return n}function b(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return c.toTimezone(t,I.getOption("timezone"))}return I.getOption("allowInvalid")?e:void 0}function v(e,t){var a=e||t;return!n.ngRequired&&!a||(angular.isNumber(a)&&(a=new Date(a)),!a||(!(!angular.isDate(a)||isNaN(a))||!!angular.isString(a)&&!isNaN(g(a))))}function $(n){if(e.isOpen||!e.disabled){var a=U[0],i=t[0].contains(n.target),o=void 0!==a.contains&&a.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function y(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function w(){if(e.isOpen){var a=angular.element(U[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:d.placement,o=u.positionElements(t,a,i,C);a.css({top:o.top+"px",left:o.left+"px"}),a.hasClass("uib-position-measure")&&a.removeClass("uib-position-measure")}}function k(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var D,x,C,M,T,O,S,P,E,A,I,U,N,F=!1,H=[];this.init=function(i){if(A=i,I=k(A),x=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):d.closeOnDateSelection,C=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):d.appendToBody,M=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):d.onOpenFocus,T=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:d.datepickerPopupTemplateUrl,O=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:d.datepickerTemplateUrl,N=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):d.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):d.showButtonBar,d.html5Types[n.type]?(D=d.html5Types[n.type],F=!0):(D=n.uibDatepickerPopup||d.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||d.datepickerPopup;if(n!==D&&(D=n,A.$modelValue=null,!D))throw new Error("uibDatepickerPopup must have a date format specified.")})),!D)throw new Error("uibDatepickerPopup must have a date format specified.");if(F&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");S=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),S.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":T}),P=angular.element(S.children()[0]),P.attr("template-url",O),e.datepickerOptions||(e.datepickerOptions={}),F&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),P.attr("datepicker-options","datepickerOptions"),F?A.$formatters.push(function(t){return e.date=c.fromTimezone(t,I.getOption("timezone")),t}):(A.$$parserName="date",A.$validators.date=v,A.$parsers.unshift(b),A.$formatters.push(function(t){return A.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=c.fromTimezone(t,I.getOption("timezone")),c.filter(e.date,D))})),A.$viewChangeListeners.push(function(){e.date=g(A.$viewValue)}),t.on("keydown",y),U=a(S)(e),S.remove(),C?l.find("body").append(U):t.after(U),e.$on("$destroy",function(){for(!0===e.isOpen&&(s.$$phase||e.$apply(function(){e.isOpen=!1})),U.remove(),t.off("keydown",y),l.off("click",$),E&&E.off("scroll",w),angular.element(r).off("resize",w);H.length;)H.shift()()})},e.getText=function(t){return e[t+"Text"]||d[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=c.fromTimezone(new Date,I.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(h&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(p(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var a=e.date?c.filter(e.date,D):null;t.val(a),A.$setViewValue(a),x&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var a=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate())):(t=c.fromTimezone(a,I.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&H.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(a){a?e.disabled?e.isOpen=!1:m(function(){w(),M&&e.$broadcast("uib:datepicker.focus"),l.on("click",$);var a=n.popupPlacement?n.popupPlacement:d.placement;C||u.parsePlacement(a)[2]?(E=E||angular.element(u.scrollParent(t)))&&E.on("scroll",w):E=null,angular.element(r).on("resize",w)},0,!1):(l.off("click",$),E&&E.off("scroll",w),angular.element(r).off("resize",w))}),e.$on("uib:datepicker.mode",function(){m(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,a){var i=a[0];a[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var a;return function(){var i=this,o=Array.prototype.slice.call(arguments);a&&e.cancel(a),a=e(function(){t.apply(i,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var a=null,i=n.createNew();this.isOnlyOpen=function(e,t){var n=i.get(t);if(n){if(n.reduce(function(t,n){return n.scope===e?n:t},{}))return 1===n.length}return!1},this.open=function(t,n,r){if(a||e.on("click",o),a&&a!==t&&(a.isOpen=!1),a=t,r){var l=i.get(r);if(l){-1===l.map(function(e){return e.scope}).indexOf(t)&&i.put(r,{scope:t})}else i.put(r,{scope:t})}},this.close=function(t,n,r){if(a===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),a=null),r){var l=i.get(r);if(l){var s=l.reduce(function(e,n){return n.scope===t?n:e},{});s&&i.remove(r,s)}}};var o=function(e){if(a&&a.isOpen&&!(e&&"disabled"===a.getAutoClose()||e&&3===e.which)){var n=a.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var i=a.getDropdownElement();e&&"outsideClick"===a.getAutoClose()&&i&&i[0].contains(e.target)||(a.focusToggleElement(),a.isOpen=!1,t.$$phase||a.$apply())}}};this.keybindFilter=function(e){if(a){var t=a.getDropdownElement(),n=a.getToggleElement(),i=t&&t[0].contains(e.target),r=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),a.focusToggleElement(),o()):a.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&a.isOpen&&(i||r)&&(e.preventDefault(),e.stopPropagation(),a.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,a,i,o,r,l,s,u,p){function c(){t.append(f.dropdownMenu)}var d,m,f=this,h=e.$new(),g=i.appendToOpenClass,b=i.openClass,v=angular.noop,$=n.onToggle?a(n.onToggle):angular.noop,y=!1,w=s.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(m=a(n.isOpen),v=m.assign,e.$watch(m,function(e){h.isOpen=!!e})),y=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return h.isOpen=arguments.length?!!e:!h.isOpen,angular.isFunction(v)&&v(h,h.isOpen),h.isOpen},this.isOpen=function(){return h.isOpen},h.getToggleElement=function(){return f.toggleElement},h.getAutoClose=function(){return n.autoClose||"always"},h.getElement=function(){return t},h.isKeynavEnabled=function(){return y},h.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},h.getDropdownElement=function(){return f.dropdownMenu},h.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},h.$watch("isOpen",function(i,m){var y=null,k=!1;if(angular.isDefined(n.dropdownAppendTo)){var D=a(n.dropdownAppendTo)(h);D&&(y=angular.element(D))}if(angular.isDefined(n.dropdownAppendToBody)){!1!==a(n.dropdownAppendToBody)(h)&&(k=!0)}if(k&&!y&&(y=w),y&&f.dropdownMenu&&(i?(y.append(f.dropdownMenu),t.on("$destroy",c)):(t.off("$destroy",c),c())),y&&f.dropdownMenu){var x,C,M,T=l.positionElements(t,f.dropdownMenu,"bottom-left",!0),O=0;if(x={top:T.top+"px",display:i?"block":"none"},C=f.dropdownMenu.hasClass("dropdown-menu-right"),C?(x.left="auto",M=l.scrollbarPadding(y),M.heightOverflow&&M.scrollbarWidth&&(O=M.scrollbarWidth),x.right=window.innerWidth-O-(T.left+t.prop("offsetWidth"))+"px"):(x.left=T.left+"px",x.right="auto"),!k){var S=l.offset(y);x.top=T.top-S.top+"px",C?x.right=window.innerWidth-(T.left-S.left+t.prop("offsetWidth"))+"px":x.left=T.left-S.left+"px"}f.dropdownMenu.css(x)}var P=y||t,E=y?g:b,A=P.hasClass(E),I=o.isOnlyOpen(e,y);if(A===!i){var U;U=y?I?"removeClass":"addClass":i?"addClass":"removeClass",r[U](P,E).then(function(){angular.isDefined(i)&&i!==m&&$(e,{open:!!i})})}if(i)f.dropdownMenuTemplateUrl?p(f.dropdownMenuTemplateUrl).then(function(e){d=h.$new(),u(e.trim())(d,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t,s.on("keydown",o.keybindFilter)})}):s.on("keydown",o.keybindFilter),h.focusToggleElement(),o.open(h,t,y);else{if(o.close(h,t,y),f.dropdownMenuTemplateUrl){d&&d.$destroy();var N=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(N),f.dropdownMenu=N}f.selectedOption=null}angular.isFunction(v)&&v(e,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,a){a.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,a){if(a&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.on("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t===e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var a=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,r){if(a)return a.resolve(e,i,o,r);var l=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?l.push(n.resolve(t.invoke(e))):angular.isString(e)?l.push(n.resolve(t.get(e))):l.push(n.resolve(e))}),n.all(l).then(function(t){var n={},a=0;return angular.forEach(e,function(e,i){n[i]=t[a++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function a(t,a,i){i.modalInClass&&(e.addClass(a,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var r=o();t.modalOptions.animation?e.removeClass(a,i.modalInClass).then(r):r()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,a){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,r){o.addClass(r.windowTopClass||""),i.size=r.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var l=t.defer();i.$$postDigest(function(){l.resolve()}),l.promise.then(function(){var l=null;r.modalInClass&&(l=n(o,{addClass:r.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();n(o,{removeClass:r.modalInClass}).start().then(a)})),t.when(l).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!a[0].activeElement||!o[0].contains(a[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,a,i,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,a,i,o,r,l,s){function u(e){return e.replace(S,function(e,t){return(t?"-":"")+e.toLowerCase()})}function p(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function c(){for(var e=-1,t=D.keys(),n=0;n<t.length;n++)D.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<M&&(e=M),e}function d(e,t){var n=D.get(e).value,a=n.appendTo;D.remove(e),T=D.top(),T&&(M=parseInt(T.value.modalDomEl.attr("index"),10)),h(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||k;x.remove(t,e);var i=x.hasKey(t);a.toggleClass(t,i),!i&&w&&w.heightOverflow&&w.scrollbarWidth&&(w.originalRight?a.css({paddingRight:w.originalRight+"px"}):a.css({paddingRight:""}),w=null),m(!0)},n.closedDeferred),f(),t&&t.focus?t.focus():a.focus&&a.focus()}function m(e){var t;D.length()>0&&(t=D.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if($&&-1===c()){var e=y;h($,y,function(){e=null}),$=void 0,y=void 0}}function h(t,n,a,i){function r(){r.done||(r.done=!0,e.leave(t).then(function(){a&&a(),t.remove(),i&&i.resolve()}),n.$destroy())}var l,s=null,u=function(){return l||(l=o.defer(),s=l.promise),function(){l.resolve()}};return n.$broadcast(C.NOW_CLOSING_EVENT,u),o.when(s).then(r)}function g(e){if(e.isDefaultPrevented())return e;var t=D.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){C.dismiss(t.key,"escape key press")}));break;case 9:var n=C.loadFocusElementList(t),a=!1;e.shiftKey?(C.isFocusInFirstItem(e,n)||C.isModalFocused(e,t))&&(a=C.focusLastFocusableElement(n)):C.isFocusInLastItem(e,n)&&(a=C.focusFirstFocusableElement(n)),a&&(e.preventDefault(),e.stopPropagation())}}function b(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function v(){Array.prototype.forEach.call(document.querySelectorAll("["+O+"]"),function(e){var t=parseInt(e.getAttribute(O),10),n=t-1;e.setAttribute(O,n),n||(e.removeAttribute(O),e.removeAttribute("aria-hidden"))})}var $,y,w,k="modal-open",D=l.createNew(),x=r.createNew(),C={NOW_CLOSING_EVENT:"modal.stack.now-closing"},M=0,T=null,O="data-bootstrap-modal-aria-hidden-count",S=/[A-Z]/g;return i.$watch(c,function(e){y&&(y.index=e)}),n.on("keydown",g),i.$on("$destroy",function(){n.off("keydown",g)}),C.open=function(t,o){function r(e){if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(O),10);n||(n=t?1:0),e.setAttribute(O,n+1),e.setAttribute("aria-hidden","true")}),r(e.parent())}var l=n[0].activeElement,p=o.openedClass||k;m(!1),T=D.top(),D.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),x.put(p,t);var d=o.appendTo,f=c();f>=0&&!$&&(y=i.$new(!0),y.modalOptions=o,y.index=f,$=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),$.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&$.addClass(o.backdropClass),o.animation&&$.attr("modal-animation","true"),a($)(y),e.enter($,d),s.isScrollable(d)&&(w=s.scrollbarPadding(d),w.heightOverflow&&w.scrollbarWidth&&d.css({paddingRight:w.right+"px"})));var h;o.component?(h=document.createElement(u(o.component.name)),h=angular.element(h),h.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):h=o.content,M=T?parseInt(T.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:M,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(h),o.windowClass&&g.addClass(o.windowClass),o.animation&&g.attr("modal-animation","true"),d.addClass(p),o.scope&&(o.scope.$$topModalIndex=M),e.enter(a(g)(o.scope),d),D.top().value.modalDomEl=g,D.top().value.modalOpener=l,r(g)},C.close=function(e,t){var n=D.get(e);return v(),n&&b(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),d(e,n.value.modalOpener),!0):!n},C.dismiss=function(e,t){var n=D.get(e);return v(),n&&b(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),d(e,n.value.modalOpener),!0):!n},C.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},C.getTop=function(){return D.top()},C.modalRendered=function(e){var t=D.get(e);t&&t.value.renderDeferred.resolve()},C.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},C.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},C.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},C.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},C.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},C.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return p(e)}):n}}},C}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,a,i,o,r,l){function s(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},p=null;return u.getPromiseChain=function(){return p},u.open=function(i){function u(){return g}var c=n.defer(),d=n.defer(),m=n.defer(),f=n.defer(),h={result:c.promise,opened:d.promise,closed:m.promise,rendered:f.promise,close:function(e){return l.close(h,e)},dismiss:function(e){return l.dismiss(h,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||a.find("body").eq(0),!i.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!i.component&&!i.template&&!i.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=i.component?n.when(r.resolve(i.resolve,{},null,null)):n.all([s(i),r.resolve(i.resolve,{},null,null)]);var b;return b=p=n.all([p]).then(u,u).then(function(e){function n(t,n,a,i){t.$scope=r,t.$scope.$resolve={},a?t.$scope.$uibModalInstance=h:t.$uibModalInstance=h;var o=n?e[1]:e;angular.forEach(o,function(e,n){i&&(t[n]=e),t.$scope.$resolve[n]=e})}var a=i.scope||t,r=a.$new();r.$close=h.close,r.$dismiss=h.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var s,u,p={scope:r,deferred:c,renderDeferred:f,closedDeferred:m,animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,ariaLabelledBy:i.ariaLabelledBy,ariaDescribedBy:i.ariaDescribedBy,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo},g={},b={};i.component?(n(g,!1,!0,!1),g.name=i.component,p.component=g):i.controller&&(n(b,!0,!1,!0),u=o(i.controller,b,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(s=u.instance,s.$close=r.$close,s.$dismiss=r.$dismiss,angular.extend(s,{$resolve:b.$scope.$resolve},a)),s=u(),angular.isFunction(s.$onInit)&&s.$onInit()),i.component||(p.content=e[0]),l.open(h,p),d.resolve(!0)},function(e){d.reject(e),c.reject(e)}).finally(function(){p===b&&(p=null)}),h},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,a){t.setNumPages=a.numPages?e(a.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},a.itemsPerPage?t._watchers.push(n.$parent.$watch(a.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,
n.$watch("totalItems",function(e,a){(angular.isDefined(e)||e!==a)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,a){a&&a.preventDefault(),(!n.ngDisabled||!a)&&n.page!==e&&e>0&&e<=n.totalPages&&(a&&a.target&&a.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,a){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):a.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,a,i){n.addClass("pager");var o=i[0],r=i[1];r&&o.init(r,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,a,i){function o(e,t,n){return{number:e,text:t,active:n}}function r(e,t){var n=[],a=1,i=t,r=angular.isDefined(s)&&s<t;r&&(u?(a=Math.max(e-Math.floor(s/2),1),(i=a+s-1)>t&&(i=t,a=i-s+1)):(a=(Math.ceil(e/s)-1)*s+1,i=Math.min(a+s-1,t)));for(var l=a;l<=i;l++){var m=o(l,d(l),l===e);n.push(m)}if(r&&s>0&&(!u||p||c)){if(a>1){if(!c||a>3){var f=o(a-1,"...",!1);n.unshift(f)}if(c){if(3===a){var h=o(2,"2",!1);n.unshift(h)}var g=o(1,"1",!1);n.unshift(g)}}if(i<t){if(!c||i<t-2){var b=o(i+1,"...",!1);n.push(b)}if(c){if(i===t-2){var v=o(t-1,t-1,!1);n.push(v)}var $=o(t,t,!1);n.push($)}}}return n}var l=this,s=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,p=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,c=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,d=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,t.$set("role","menu"),a.create(this,e,t),t.maxSize&&l._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){s=parseInt(e,10),l.render()}));var m=this.render;this.render=function(){m(),e.page>0&&e.page<=e.totalPages&&(e.pages=r(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,a,i){n.addClass("pagination");var o=i[0],r=i[1];r&&o.init(r,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,r,l,s,u,p,c,d){function m(e){if(27===e.which){var t=f.top();t&&(t.value.close(),t=null)}}var f=d.createNew();return l.on("keyup",m),p.$on("$destroy",function(){l.off("keyup",m)}),function(i,p,d,m){function h(e){var t=(e||m.trigger||d).split(" ");return{show:t,hide:t.map(function(e){return n[e]||e})}}m=angular.extend({},t,a,m);var g=e(i),b=u.startSymbol(),v=u.endSymbol(),$="<div "+g+'-popup uib-title="'+b+"title"+v+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+b+"content"+v+'" ')+'origin-scope="origScope" class="uib-position-measure '+p+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=o($);return function(e,t,a,o){function u(){q.isOpen?g():d()}function d(){V&&!e.$eval(a[p+"Enable"])||(y(),D(),q.popupDelay?A||(A=r(b,q.popupDelay,!1)):b())}function g(){v(),q.popupCloseDelay?I||(I=r($,q.popupCloseDelay,!1)):$()}function b(){if(v(),y(),!q.content)return angular.noop;w(),q.$evalAsync(function(){q.isOpen=!0,x(!0),W()})}function v(){A&&(r.cancel(A),A=null),U&&(r.cancel(U),U=null)}function $(){q&&q.$evalAsync(function(){q&&(q.isOpen=!1,x(!1),q.animation?E||(E=r(k,150,!1)):k())})}function y(){I&&(r.cancel(I),I=null),E&&(r.cancel(E),E=null)}function w(){S||(P=q.$new(),S=n(P,function(e){H?l.find("body").append(e):t.after(e)}),f.add(q,{close:$}),C())}function k(){v(),y(),M(),S&&(S.remove(),S=null,N&&r.cancel(N)),f.remove(q),P&&(P.$destroy(),P=null)}function D(){q.title=a[p+"Title"],q.content=Y?Y(e):a[i],q.popupClass=a[p+"Class"],q.placement=angular.isDefined(a[p+"Placement"])?a[p+"Placement"]:m.placement;var t=s.parsePlacement(q.placement);F=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(a[p+"PopupDelay"],10),o=parseInt(a[p+"PopupCloseDelay"],10);q.popupDelay=isNaN(n)?m.popupDelay:n,q.popupCloseDelay=isNaN(o)?m.popupCloseDelay:o}function x(t){z&&angular.isFunction(z.assign)&&z.assign(e,t)}function C(){B.length=0,Y?(B.push(e.$watch(Y,function(e){q.content=e,!e&&q.isOpen&&$()})),B.push(P.$watch(function(){L||(L=!0,P.$$postDigest(function(){L=!1,q&&q.isOpen&&W()}))}))):B.push(a.$observe(i,function(e){q.content=e,!e&&q.isOpen?$():W()})),B.push(a.$observe(p+"Title",function(e){q.title=e,q.isOpen&&W()})),B.push(a.$observe(p+"Placement",function(e){q.placement=e||m.placement,q.isOpen&&W()}))}function M(){B.length&&(angular.forEach(B,function(e){e()}),B.length=0)}function T(e){q&&q.isOpen&&S&&(t[0].contains(e.target)||S[0].contains(e.target)||g())}function O(e){27===e.which&&g()}var S,P,E,A,I,U,N,F,H=!!angular.isDefined(m.appendToBody)&&m.appendToBody,R=h(void 0),V=angular.isDefined(a[p+"Enable"]),q=e.$new(!0),L=!1,z=!!angular.isDefined(a[p+"IsOpen"])&&c(a[p+"IsOpen"]),Y=!!m.useContentExp&&c(a[i]),B=[],W=function(){S&&S.html()&&(U||(U=r(function(){var e=s.positionElements(t,S,q.placement,H),n=angular.isDefined(S.offsetHeight)?S.offsetHeight:S.prop("offsetHeight"),a=H?s.offset(t):s.position(t);S.css({top:e.top+"px",left:e.left+"px"});var i=e.placement.split("-");S.hasClass(i[0])||(S.removeClass(F.split("-")[0]),S.addClass(i[0])),S.hasClass(m.placementClassPrefix+e.placement)||(S.removeClass(m.placementClassPrefix+F),S.addClass(m.placementClassPrefix+e.placement)),N=r(function(){var e=angular.isDefined(S.offsetHeight)?S.offsetHeight:S.prop("offsetHeight"),t=s.adjustTop(i,a,n,e);t&&S.css(t),N=null},0,!1),S.hasClass("uib-position-measure")?(s.positionArrow(S,e.placement),S.removeClass("uib-position-measure")):F!==e.placement&&s.positionArrow(S,e.placement),F=e.placement,U=null},0,!1)))};q.origScope=e,q.isOpen=!1,q.contentExp=function(){return q.content},a.$observe("disabled",function(e){e&&v(),e&&q.isOpen&&$()}),z&&e.$watch(z,function(e){q&&!e===q.isOpen&&u()});var j=function(){R.show.forEach(function(e){"outsideClick"===e?t.off("click",u):(t.off(e,d),t.off(e,u)),t.off("keypress",O)}),R.hide.forEach(function(e){"outsideClick"===e?l.off("click",T):t.off(e,g)})};!function(){var n=[],i=[],o=e.$eval(a[p+"Trigger"]);j(),angular.isObject(o)?(Object.keys(o).forEach(function(e){n.push(e),i.push(o[e])}),R={show:n,hide:i}):R=h(o),"none"!==R.show&&R.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",u),l.on("click",T)):e===R.hide[n]?t.on(e,u):e&&(t.on(e,d),t.on(R.hide[n],g)),t.on("keypress",O)})}();var _=e.$eval(a[p+"Animation"]);q.animation=angular.isDefined(_)?!!_:m.animation;var G,K=p+"AppendToBody";G=K in a&&void 0===a[K]||e.$eval(a[K]),H=angular.isDefined(G)?G:H,e.$on("$destroy",function(){j(),k(),q=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var l,s,u,p=i.$eval(r.tooltipTemplateTranscludeScope),c=0,d=function(){s&&(s.remove(),s=null),l&&(l.$destroy(),l=null),u&&(e.leave(u).then(function(){s=null}),s=u,u=null)};i.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(t){var r=++c;t?(a(t,!0).then(function(a){if(r===c){var i=p.$new(),s=a,m=n(s)(i,function(t){d(),e.enter(t,o)});l=i,u=m,l.$emit("$includeContentLoaded",t)}},function(){r===c&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,a){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(a.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function a(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=a(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=a(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=a(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var a={$setViewValue:angular.noop},i=this;this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=i.enableReset&&a.$viewValue===t?0:t;a.$setViewValue(n),a.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<a.tabs.length;t++)if(a.tabs[t].index===e)return t}var n,a=this;a.tabs=[],a.select=function(e,o){if(!i){var r=t(n),l=a.tabs[r];if(l){if(l.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;l.tab.active=!1}var s=a.tabs[e];s?(s.tab.onSelect({$event:o}),s.tab.active=!0,a.active=s.index,n=s.index):!s&&angular.isDefined(n)&&(a.active=null,n=null)}},a.addTab=function(e){if(a.tabs.push({tab:e,index:e.index}),a.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===a.active||!angular.isDefined(a.active)&&1===a.tabs.length){var n=t(e.index);a.select(n)}},a.removeTab=function(e){for(var t,n=0;n<a.tabs.length;n++)if(a.tabs[n].tab===e){t=n;break}if(a.tabs[t].index===a.active){var i=t===a.tabs.length-1?t-1:t+1%a.tabs.length;a.select(i)}a.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&a.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,a,i,o){t.disabled=!1,a.disable&&t.$parent.$watch(e(a.disable),function(e){t.disabled=!!e}),angular.isUndefined(a.index)&&(i.tabs&&i.tabs.length?t.index=Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(a.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,a=0;a<i.tabs.length;a++)if(i.tabs[a].tab===t){n=a;break}i.select(n,e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,a){var i=t.$eval(a.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,a,i,o,r){function l(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===x[1]&&(t+=12)),t}function s(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function u(){var t=+e.seconds;return t>=0&&t<60?t:void 0}function p(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function c(e){d(),D.$setViewValue(new Date(w)),m(e)}function d(){v&&v.$setValidity("hours",!0),$&&$.$setValidity("minutes",!0),y&&y.$setValidity("seconds",!0),D.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function m(t){if(D.$modelValue){var n=w.getHours(),a=w.getMinutes(),i=w.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:p(n,!C),"m"!==t&&(e.minutes=p(a)),e.meridian=w.getHours()<12?x[0]:x[1],"s"!==t&&(e.seconds=p(i)),e.meridian=w.getHours()<12?x[0]:x[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=x[0]}function f(e){w=g(w,e),c()}function h(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),a}function b(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var v,$,y,w=new Date,k=[],D={$setViewValue:angular.noop},x=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):r.meridians||o.DATETIME_FORMATS.AMPMS,C=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,a){D=t,D.$render=this.render,D.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),o=a.eq(1),l=a.eq(2);v=i.controller("ngModel"),$=o.controller("ngModel"),y=l.controller("ngModel"),(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):r.mousewheel)&&this.setupMousewheelEvents(i,o,l),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):r.arrowkeys)&&this.setupArrowkeyEvents(i,o,l),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o,l)};var M=r.hourStep;n.hourStep&&k.push(e.$parent.$watch(a(n.hourStep),function(e){M=+e}));var T=r.minuteStep;n.minuteStep&&k.push(e.$parent.$watch(a(n.minuteStep),function(e){T=+e}));var O;k.push(e.$parent.$watch(a(n.min),function(e){var t=new Date(e);O=isNaN(t)?void 0:t}));var S;k.push(e.$parent.$watch(a(n.max),function(e){var t=new Date(e);S=isNaN(t)?void 0:t}));var P=!1;n.ngDisabled&&k.push(e.$parent.$watch(a(n.ngDisabled),function(e){P=e})),e.noIncrementHours=function(){var e=h(w,60*M);return P||e>S||e<w&&e<O},e.noDecrementHours=function(){var e=h(w,60*-M);return P||e<O||e>w&&e>S},e.noIncrementMinutes=function(){var e=h(w,T);return P||e>S||e<w&&e<O},e.noDecrementMinutes=function(){var e=h(w,-T);return P||e<O||e>w&&e>S},e.noIncrementSeconds=function(){var e=g(w,E);return P||e>S||e<w&&e<O},e.noDecrementSeconds=function(){var e=g(w,-E);return P||e<O||e>w&&e>S},e.noToggleMeridian=function(){return w.getHours()<12?P||h(w,720)>S:P||h(w,-720)<O};var E=r.secondStep;n.secondStep&&k.push(e.$parent.$watch(a(n.secondStep),function(e){E=+e})),e.showSeconds=r.showSeconds,n.showSeconds&&k.push(e.$parent.$watch(a(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=r.showMeridian,n.showMeridian&&k.push(e.$parent.$watch(a(n.showMeridian),function(t){if(e.showMeridian=!!t,D.$error.time){var n=l(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(w.setHours(n),c())}else m()})),this.setupMousewheelEvents=function(t,n,a){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){P||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){P||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),a.on("mousewheel wheel",function(t){P||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,a){t.on("keydown",function(t){P||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){P||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),a.on("keydown",function(t){P||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,a){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,a){D.$setViewValue(null),D.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,v&&v.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,$&&$.$setValidity("minutes",!1)),angular.isDefined(a)&&(e.invalidSeconds=a,y&&y.$setValidity("seconds",!1))};e.updateHours=function(){var e=l(),t=s();D.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(w.setHours(e),w.setMinutes(t),w<O||w>S?i(!0):c("h")):i(!0)},t.on("blur",function(t){D.$setTouched(),b()?d():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=p(e.hours,!C)})}),e.updateMinutes=function(){var e=s(),t=l();D.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(w.setHours(t),w.setMinutes(e),w<O||w>S?i(void 0,!0):c("m")):i(void 0,!0)},n.on("blur",function(t){D.$setTouched(),b()?d():null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=p(e.minutes)})}),e.updateSeconds=function(){var e=u();D.$setDirty(),angular.isDefined(e)?(w.setSeconds(e),c("s")):i(void 0,void 0,!0)},a.on("blur",function(t){b()?d():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=p(e.seconds)})})},this.render=function(){var t=D.$viewValue;isNaN(t)?(D.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(w=t),w<O||w>S?(D.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):d(),m())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):r.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*M*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-M*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*T)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-T)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(E)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-E)},e.toggleMeridian=function(){var t=s(),n=l();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(w.getHours()<12?60:-60)):e.meridian=e.meridian===x[0]?x[1]:x[0])},e.blur=function(){D.$setTouched()},e.$on("$destroy",function(){for(;k.length;)k.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,a){var i=a[0],o=a[1];o&&i.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,a,i,o,r,l,s,u,p,c,d){function m(){q.moveInProgress||(q.moveInProgress=!0,q.$digest()),Z()}function f(){q.position=P?c.offset(t):c.position(t),q.position.top+=t.prop("offsetHeight")}function h(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var g,b,v=[9,13,27,38,40],$=e.$eval(n.typeaheadMinLength);$||0===$||($=1),e.$watch(n.typeaheadMinLength,function(e){$=e||0===e?e:1});var y=e.$eval(n.typeaheadWaitMs)||0,w=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,function(e){w=!1!==e});var k,D,x=i(n.typeaheadLoading).assign||angular.noop,C=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},M=i(n.typeaheadOnSelect),T=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),O=i(n.typeaheadNoResults).assign||angular.noop,S=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,P=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),E=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,A=!1!==e.$eval(n.typeaheadFocusFirst),I=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),U=i(n.typeaheadIsOpen).assign||angular.noop,N=e.$eval(n.typeaheadShowHint)||!1,F=i(n.ngModel),H=i(n.ngModel+"($$$p)"),R=function(t,n){return angular.isFunction(F(e))&&b.getOption("getterSetter")?H(t,{$$$p:n}):F.assign(t,n)},V=d.parse(n.uibTypeahead),q=e.$new(),L=e.$on("$destroy",function(){q.$destroy()});q.$on("$destroy",L);var z="typeahead-"+q.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":z});var Y,B;N&&(Y=angular.element("<div></div>"),Y.css("position","relative"),t.after(Y),B=t.clone(),B.attr("placeholder",""),B.attr("tabindex","-1"),B.val(""),B.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),B.attr("id")&&B.removeAttr("id"),Y.append(B),B.after(t));var W=angular.element("<div uib-typeahead-popup></div>");W.attr({id:z,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&W.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&W.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var j=function(){N&&B.val("")},_=function(){q.matches=[],q.activeIdx=-1,t.attr("aria-expanded",!1),j()},G=function(e){return z+"-option-"+e};q.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",G(e))});var K=function(e,t){return!!(q.matches.length>t&&e)&&e.toUpperCase()===q.matches[t].label.toUpperCase()},X=function(n,a){var i={$viewValue:n};x(e,!0),O(e,!1),o.when(V.source(e,i)).then(function(o){var r=n===g.$viewValue;if(r&&k)if(o&&o.length>0){q.activeIdx=A?0:-1,O(e,!1),q.matches.length=0;for(var l=0;l<o.length;l++)i[V.itemName]=o[l],q.matches.push({id:G(l),label:V.viewMapper(q,i),model:o[l]});if(q.query=n,f(),t.attr("aria-expanded",!0),I&&1===q.matches.length&&K(n,0)&&(angular.isNumber(q.debounceUpdate)||angular.isObject(q.debounceUpdate)?p(function(){q.select(0,a)},angular.isNumber(q.debounceUpdate)?q.debounceUpdate:q.debounceUpdate.default):q.select(0,a)),N){var s=q.matches[0].label;angular.isString(n)&&n.length>0&&s.slice(0,n.length).toUpperCase()===n.toUpperCase()?B.val(n+s.slice(n.length)):B.val("")}}else _(),O(e,!0);r&&x(e,!1)},function(){_(),x(e,!1),O(e,!0)})};P&&(angular.element(s).on("resize",m),l.find("body").on("scroll",m));var Z=p(function(){q.matches.length&&f(),q.moveInProgress=!1},200);q.moveInProgress=!1,q.query=void 0;var J,Q=function(e){J=r(function(){X(e)},y)},ee=function(){J&&r.cancel(J)};_(),q.assignIsOpen=function(t){U(e,t)},q.select=function(a,i){var o,l,s={};D=!0,s[V.itemName]=l=q.matches[a].model,o=V.modelMapper(e,s),R(e,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),M(e,{$item:l,$model:o,$label:V.viewMapper(e,s),$event:i}),_(),!1!==q.$eval(n.typeaheadFocusOnSelect)&&r(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==q.matches.length&&-1!==v.indexOf(t.which)){var n=C(e,{$event:t});if(-1===q.activeIdx&&n||9===t.which&&t.shiftKey)return _(),void q.$digest();t.preventDefault();var a;switch(t.which){case 27:t.stopPropagation(),_(),e.$digest();break;case 38:q.activeIdx=(q.activeIdx>0?q.activeIdx:q.matches.length)-1,q.$digest(),a=W[0].querySelectorAll(".uib-typeahead-match")[q.activeIdx],a.parentNode.scrollTop=a.offsetTop;break;case 40:q.activeIdx=(q.activeIdx+1)%q.matches.length,q.$digest(),a=W[0].querySelectorAll(".uib-typeahead-match")[q.activeIdx],a.parentNode.scrollTop=a.offsetTop;break;default:n&&q.$apply(function(){
angular.isNumber(q.debounceUpdate)||angular.isObject(q.debounceUpdate)?p(function(){q.select(q.activeIdx,t)},angular.isNumber(q.debounceUpdate)?q.debounceUpdate:q.debounceUpdate.default):q.select(q.activeIdx,t)})}}}),t.on("focus",function(e){k=!0,0!==$||g.$viewValue||r(function(){X(g.$viewValue,e)},0)}),t.on("blur",function(e){T&&q.matches.length&&-1!==q.activeIdx&&!D&&(D=!0,q.$apply(function(){angular.isObject(q.debounceUpdate)&&angular.isNumber(q.debounceUpdate.blur)?p(function(){q.select(q.activeIdx,e)},q.debounceUpdate.blur):q.select(q.activeIdx,e)})),!w&&g.$error.editable&&(g.$setViewValue(),q.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),k=!1,D=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==q.matches.length&&(_(),u.$$phase||e.$digest())};l.on("click",te),e.$on("$destroy",function(){l.off("click",te),(P||E)&&ne.remove(),P&&(angular.element(s).off("resize",m),l.find("body").off("scroll",m)),W.remove(),N&&Y.remove()});var ne=a(W)(q);P?l.find("body").append(ne):E?angular.element(E).eq(0).append(ne):t.after(ne),this.init=function(t){g=t,b=h(g),q.debounceUpdate=i(b.getOption("debounce"))(e),g.$parsers.unshift(function(t){return k=!0,0===$||t&&t.length>=$?y>0?(ee(),Q(t)):X(t):(x(e,!1),ee(),_()),w?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,a,i={};return w||g.$setValidity("editable",!0),S?(i.$model=t,S(e,i)):(i[V.itemName]=t,n=V.viewMapper(e,i),i[V.itemName]=void 0,a=V.viewMapper(e,i),n!==a?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,a){a[1].init(a[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,a){t.templateUrl=a.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,a){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:a})},angular.isNumber(i)?i:i.default):t.select({activeIdx:n,evt:a})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"uib/template/typeahead/typeahead-match.html";e(r).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(a)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0});
},{}],4:[function(require,module,exports){
require("./dist/ui-bootstrap-tpls"),module.exports="ui.bootstrap";
},{"./dist/ui-bootstrap-tpls":3}],5:[function(require,module,exports){
(function(){"use strict";function e(e,t){function n(e,t){var n=-1,r=0,d=e.length,i=[];for(t=t||0,n+=t;++n<d;)i[r++]=e[n];return i}var r=(Array.prototype.slice,t.isArguments);return e.define(r,{toArray:n}).expose({argsToArray:n})}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=e(require("extended"),require("is-extended"))):"function"==typeof define&&define.amd?define(["extended","is-extended"],function(t,n){return e(t,n)}):this.argumentsExtended=e(this.extended,this.isExtended)}).call(this);
},{"extended":55,"is-extended":81}],6:[function(require,module,exports){
(function(){"use strict";function n(n,r,e){function t(n,r){return g(r,function(r,e){return P(e)||(e=[e]),e.unshift(n),r.unshift(e),r},[])}function u(n,r,e){for(var t=[],u=0;u<r.length;u++)t.push([n].concat(O(r,u)).slice(0,e));return t}function i(n,r){var e,t,u=[],i=-1;for(t=n.length;++i<t;)e=n[i],-1!==o(r,e)&&u.push(e);return u}function o(n,r,e){for(var t=(e||0)-1,u=n.length;++t<u;)if(n[t]===r)return t;return-1}function f(n,r,e){if(!P(n))throw new TypeError;var t=Object(n),u=t.length>>>0;if(0===u)return-1;var i=u;arguments.length>2&&(i=Number(arguments[2]),i!==i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*B(F(i))));for(var o=i>=0?G(i,u-1):u-F(i);o>=0;o--)if(o in t&&t[o]===r)return o;return-1}function c(n,r,e){if(n&&W&&W===n.filter)return n.filter(r,e);if(!P(n)||"function"!=typeof r)throw new TypeError;for(var t=Object(n),u=t.length>>>0,i=[],o=0;o<u;o++)if(o in t){var f=t[o];r.call(e,f,o,t)&&i.push(f)}return i}function a(n,r,e){if(!P(n)||"function"!=typeof r)throw new TypeError;if(n&&K&&K===n.forEach)return n.forEach(r,e),n;for(var t=0,u=n.length;t<u;++t)r.call(e||n,n[t],t,n);return n}function l(n,r,e){if(n&&X&&X===n.every)return n.every(r,e);if(!P(n)||"function"!=typeof r)throw new TypeError;for(var t=Object(n),u=t.length>>>0,i=0;i<u;i++)if(i in t&&!r.call(e,t[i],i,t))return!1;return!0}function h(n,r,e){if(n&&Y&&Y===n.some)return n.some(r,e);if(!P(n)||"function"!=typeof r)throw new TypeError;for(var t=Object(n),u=t.length>>>0,i=0;i<u;i++)if(i in t&&r.call(e,t[i],i,t))return!0;return!1}function s(n,r,e){if(n&&L&&L===n.map)return n.map(r,e);if(!P(n)||"function"!=typeof r)throw new TypeError;for(var t=Object(n),u=t.length>>>0,i=[],o=0;o<u;o++)o in t&&i.push(r.call(e,t[o],o,t));return i}function v(n,r,e){var t=arguments.length>2;if(n&&Q&&Q===n.reduce)return t?n.reduce(r,e):n.reduce(r);if(!P(n)||"function"!=typeof r)throw new TypeError;var u=0,i=n.length>>0;if(arguments.length<3){if(0===i)throw new TypeError("Array length is 0 and no second argument");e=n[0],u=1}else e=arguments[2];for(;u<i;)u in n&&(e=r.call(void 0,e,n[u],u,n)),++u;return e}function g(n,r,e){var t=arguments.length>2;if(n&&V&&V===n.reduceRight)return t?n.reduceRight(r,e):n.reduceRight(r);if(!P(n)||"function"!=typeof r)throw new TypeError;var u=Object(n),i=u.length>>>0;if(0===i&&2===arguments.length)throw new TypeError;var o=i-1;if(arguments.length>=3)e=arguments[2];else for(;;)if(o in n){e=n[o--];break}for(;o>=0;)o in u&&(e=r.call(void 0,e,u[o],o,u)),o--;return e}function p(n){var e=[];if(null!==n){var t=Z(arguments);if(1===t.length)if(P(n))e=n;else if(r.isHash(n))for(var u in n)n.hasOwnProperty(u)&&e.push([u,n[u]]);else e.push(n);else a(t,function(n){e=e.concat(p(n))})}return e}function d(n){return n=n||[],n.length?v(n,function(n,r){return n+r}):0}function y(n){if(n=n||[],n.length){var e=d(n);if(r.isNumber(e))return e/n.length;throw new Error("Cannot average an array of non numbers.")}return 0}function m(n,r){return _(n,r)}function w(n,r){return _(n,r)[0]}function x(n,r){return _(n,r)[n.length-1]}function E(n){var r=n,e=z(Z(arguments,1));return P(n)&&(r=c(n,function(n){return-1===o(e,n)})),r}function T(n){var r,e=[],t=-1,u=0;if(n)for(r=n.length;++t<r;){var i=n[t];-1===o(e,i)&&(e[u++]=i)}return e}function b(n){return T(n)}function O(n,r){var e=n.slice();return"number"!=typeof r&&(r=1),r&&P(n)?(r>0?(e.push(e.shift()),r--):(e.unshift(e.pop()),r++),O(e,r)):e}function A(n,r){var e=[];if(P(n)){var t=n.slice(0);"number"!=typeof r&&(r=n.length),r?r<=n.length&&(e=v(n,function(n,e,i){var o;return o=r>1?u(e,O(t,i).slice(1),r):[[e]],n.concat(o)},[])):e=[[]]}return e}function j(){var n=[],e=Z(arguments);if(e.length>1){var t=e.shift();P(t)&&(n=v(t,function(n,t,u){for(var i=[t],o=0;o<e.length;o++){var f=e[o];P(f)&&!r.isUndefined(f[u])?i.push(f[u]):i.push(null)}return n.push(i),n},[]))}return n}function R(n){var r=[];if(P(n)&&n.length){var e;a(n,function(n){!P(n)||e&&n.length!==e.length||(a(n,function(n,e){r[e]||(r[e]=[]),r[e].push(n)}),e=n)})}return r}function q(n,r){var e=[];if(r=Z(arguments),n=r.shift(),P(n)&&r.length)for(var t=0,u=r.length;t<u;t++)e.push(n[r[t]]||null);return e}function M(){var n=[],r=Z(arguments);if(r.length>1){for(var e=0,t=r.length;e<t;e++)n=n.concat(r[e]);n=T(n)}return n}function N(){var n,r,e=[],t=-1;if(n=arguments.length>1?Z(arguments):arguments[0],P(n))for(e=n[0],t=0,r=n.length;++t<r;)e=i(e,n[t]);return T(e)}function k(n){var r=[];return P(n)&&n.length&&(r=v(n,function(n,r){var e=s(n,function(n){return n.concat(r)});return n.concat(e)},[[]])),r}function D(n,r){var e=[];return P(n)&&P(r)&&n.length&&r.length&&(e=t(n[0],r).concat(D(n.slice(1),r))),e}function S(n){var e=[];return P(n)&&n.length&&(e=c(n,function(n){return!r.isUndefinedOrNull(n)})),e}function U(n,e){e=r.isNumber(e)?e:1,e||(e=1),n=p(n||[]);for(var t=[],u=0;++u<=e;)t=t.concat(n);return t}function z(n){var r,e=Z(arguments);return r=e.length>1?e:p(n),v(r,function(n,r){return n.concat(r)},[])}function C(n,r){r=r.split(".");var e=n.slice(0);return a(r,function(n){var r=n.match(/(\w+)\(\)$/);e=s(e,function(e){return r?e[r[1]]():e[n]})}),e}function H(n,r,e){return e=Z(arguments,2),s(n,function(n){return(I(r)?n[r]:r).apply(n,e)})}var I=r.isString,P=Array.isArray||r.isArray,$=r.isDate,B=Math.floor,F=Math.abs,G=(Math.max,Math.min),J=Array.prototype,K=(J.indexOf,J.forEach),L=J.map,Q=J.reduce,V=J.reduceRight,W=J.filter,X=J.every,Y=J.some,Z=e.argsToArray,_=function(){var n=function(n,r){return l(n,r)},r=function(n,r){return n-r},e=function(n,r){return n.getTime()-r.getTime()};return function(t,u){var i=[];return P(t)&&(i=t.slice(),u?"function"==typeof u?i.sort(u):i.sort(function(n,r){var e=n[u],t=r[u];return I(e)&&I(t)?e>t?1:e<t?-1:0:$(e)&&$(t)?e.getTime()-t.getTime():e-t}):n(i,I)?i.sort():n(i,$)?i.sort(e):i.sort(r)),i}}(),nn={toArray:p,sum:d,avg:y,sort:m,min:w,max:x,difference:E,removeDuplicates:T,unique:b,rotate:O,permutations:A,zip:j,transpose:R,valuesAt:q,union:M,intersect:N,powerSet:k,cartesian:D,compact:S,multiply:U,flatten:z,pluck:C,invoke:H,forEach:a,map:s,filter:c,reduce:v,reduceRight:g,some:h,every:l,indexOf:o,lastIndexOf:f};return n.define(P,nn).expose(nn)}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=n(require("extended"),require("is-extended"),require("arguments-extended"))):"function"==typeof define&&define.amd?define(["extended","is-extended","arguments-extended"],function(r,e,t){return n(r,e,t)}):this.arrayExtended=n(this.extended,this.isExtended,this.argumentsExtended)}).call(this);
},{"arguments-extended":5,"extended":55,"is-extended":81}],7:[function(require,module,exports){
(function (global){
!function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){e.Backbone=t(e,s,i,n)});else if("undefined"!=typeof exports){var i,n=require("underscore");try{i=require("jquery")}catch(t){}t(e,exports,n,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,i,n){var s=t.Backbone,r=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,r){return i[e](this[n],h(t,this),s,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},o=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,d=function(t,e,n,s,r){var a,o=0;if(n&&"object"==typeof n){void 0!==s&&"context"in r&&void 0===r.context&&(r.context=s);for(a=i.keys(n);o<a.length;o++)e=d(t,e,a[o],n[a[o]],r)}else if(n&&l.test(n))for(a=n.split(l);o<a.length;o++)e=t(e,a[o],s,r);else e=t(e,n,s,r);return e};c.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,s){if(t._events=d(g,t._events||{},e,i,{context:n,ctx:t,listening:s}),s){(t._listeners||(t._listeners={}))[s.id]=s}return t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=r[s];if(!a){var o=this._listenId||(this._listenId=i.uniqueId("l"));a=r[s]={obj:t,objId:s,id:o,listeningTo:r,count:0}}return f(t,e,n,this,a),this};var g=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),r=n.context,a=n.ctx,o=n.listening;o&&o.count++,s.push({callback:i,context:r,ctx:r||a,listening:o})}return t};c.off=function(t,e,i){return this._events?(this._events=d(p,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var r=t?[t._listenId]:i.keys(s),a=0;a<r.length;a++){var o=s[r[a]];if(!o)break;o.obj.off(e,n,this)}return this};var p=function(t,e,n,s){if(t){var r,a=0,o=s.context,h=s.listeners;if(e||n||o){for(var u=e?[e]:i.keys(t);a<u.length;a++){e=u[a];var c=t[e];if(!c)break;for(var l=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||o&&o!==f.context?l.push(f):(r=f.listening)&&0==--r.count&&(delete h[r.id],delete r.listeningTo[r.objId])}l.length?t[e]=l:delete t[e]}return t}for(var g=i.keys(h);a<g.length;a++)r=h[g[a]],delete h[r.id],delete r.listeningTo[r.objId]}};c.once=function(t,e,n){var s=d(v,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(s,e,n)},c.listenToOnce=function(t,e,n){var s=d(v,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var v=function(t,e,n,s){if(n){var r=t[e]=i.once(function(){s(e,r),n.apply(this,arguments)});r._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(m,this._events,t,void 0,i),this};var m=function(t,e,i,n){if(t){var s=t[e],r=t.all;s&&r&&(r=r.slice()),s&&_(s,n),r&&_(r,[e].concat(n))}return t},_=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var s=i.result(this,"defaults");n=i.defaults(i.extend({},s,n),s),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var r=n.unset,a=n.silent,o=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,l=this._previousAttributes;for(var d in s)e=s[d],i.isEqual(u[d],e)||o.push(d),i.isEqual(l[d],e)?delete c[d]:c[d]=e,r?delete u[d]:u[d]=e;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!a){o.length&&(this._pending=n);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,u[o[f]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var r=t[s];i.isEqual(e[s],r)||(n[s]=r)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;if(!e.set(s,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},q(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var r=n.wait;if(s&&!r){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,o=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;if(r&&(e=i.extend({},s,e)),e&&!a.set(e,n))return!1;o&&o.call(n.context,a,t,n),a.trigger("sync",a,t,n)},q(this,n),s&&r&&(this.attributes=i.extend({},h,s));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=s);var c=this.sync(u,this,n);return this.attributes=h,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&r(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(q(this,t),a=this.sync("delete",this,t)),s||r(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||U();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),o(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},E=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,s=Array(t.length-i),r=e.length;for(n=0;n<s.length;n++)s[n]=t[n+i];for(n=0;n<r;n++)t[n+i]=e[n];for(n=0;n<s.length;n++)t[n+r+i]=s[n]};i.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,w))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var s=this._removeModels(t,e);return!e.silent&&s.length&&(e.changes={added:[],merged:[],removed:s},this.trigger("update",this,e)),n?s[0]:s},set:function(t,e){if(null!=t){e=i.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);var r,a,o=[],h=[],u=[],c=[],l={},d=e.add,f=e.merge,g=e.remove,p=!1,v=this.comparator&&null==s&&!1!==e.sort,m=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){r=t[a];var _=this.get(r);if(_){if(f&&r!==_){var y=this._isModel(r)?r.attributes:r;e.parse&&(y=_.parse(y,e)),_.set(y,e),u.push(_),v&&!p&&(p=_.hasChanged(m))}l[_.cid]||(l[_.cid]=!0,o.push(_)),t[a]=_}else d&&(r=t[a]=this._prepareModel(r,e))&&(h.push(r),this._addReference(r,e),l[r.cid]=!0,o.push(r))}if(g){for(a=0;a<this.length;a++)r=this.models[a],l[r.cid]||c.push(r);c.length&&this._removeModels(c,e)}var b=!1,w=!v&&d&&g;if(o.length&&w?(b=this.length!==o.length||i.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,E(this.models,o,0),this.length=this.models.length):h.length&&(v&&(p=!0),E(this.models,h,null==s?this.length:s),this.length=this.models.length),p&&this.sort({silent:!0}),!e.silent){for(a=0;a<h.length;a++)null!=s&&(e.index=s+a),r=h[a],r.trigger("add",r,this,e);(p||b)&&this.trigger("sort",this,e),(h.length||c.length||u.length)&&(e.changes={added:h,removed:c,merged:u},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},q(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var s=this,r=e.success;return e.success=function(t,e,i){n&&s.add(t,i),r&&r.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var r=this.indexOf(s);this.models.splice(r,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=r,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);s!==r&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=e))}}this.trigger.apply(this,arguments)}}),o(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var I=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,k)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];i.extend(I.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(S);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var r=T[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||U()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var u=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,u,s),u};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var P=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},H=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,A=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(P.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);!1!==r.execute(s,a,n)&&(r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(C,"\\$&").replace(H,"(?:$1)?").replace($,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var R=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,M=/#.*$/;R.started=!1,i.extend(R.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(j,"")},start:function(t){if(R.started)throw new Error("Backbone.history has already been started");if(R.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!R.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(M,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new R;var O=function(t,e){var n,s=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e),n.prototype=i.create(s.prototype,t),n.prototype.constructor=n,n.__super__=s.prototype,n};y.extend=b.extend=P.extend=I.extend=R.extend=O;var U=function(){throw new Error('A "url" property or function must be specified')},q=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery":85,"underscore":141}],8:[function(require,module,exports){
require("../../js/transition.js"),require("../../js/alert.js"),require("../../js/button.js"),require("../../js/carousel.js"),require("../../js/collapse.js"),require("../../js/dropdown.js"),require("../../js/modal.js"),require("../../js/tooltip.js"),require("../../js/popover.js"),require("../../js/scrollspy.js"),require("../../js/tab.js"),require("../../js/affix.js");
},{"../../js/affix.js":9,"../../js/alert.js":10,"../../js/button.js":11,"../../js/carousel.js":12,"../../js/collapse.js":13,"../../js/dropdown.js":14,"../../js/modal.js":15,"../../js/popover.js":16,"../../js/scrollspy.js":17,"../../js/tab.js":18,"../../js/tooltip.js":19,"../../js/transition.js":20}],9:[function(require,module,exports){
+function(t){"use strict";function i(i){return this.each(function(){var o=t(this),f=o.data("bs.affix"),n="object"==typeof i&&i;f||o.data("bs.affix",f=new e(this,n)),"string"==typeof i&&f[i]()})}var e=function(i,o){this.options=t.extend({},e.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};e.VERSION="3.3.7",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,i,e,o){var f=this.$target.scrollTop(),n=this.$element.offset(),s=this.$target.height();if(null!=e&&"top"==this.affixed)return f<e&&"top";if("bottom"==this.affixed)return null!=e?!(f+this.unpin<=n.top)&&"bottom":!(f+s<=t-o)&&"bottom";var a=null==this.affixed,h=a?f:n.top,r=a?s:i;return null!=e&&f<=e?"top":null!=o&&h+r>=t-o&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=this.$element.height(),o=this.options.offset,f=o.top,n=o.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(n=f=o),"function"==typeof f&&(f=o.top(this.$element)),"function"==typeof n&&(n=o.bottom(this.$element));var a=this.getState(s,i,f,n);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var h="affix"+(a?"-"+a:""),r=t.Event(h+".bs.affix");if(this.$element.trigger(r),r.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-i-n})}};var o=t.fn.affix;t.fn.affix=i,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),o=e.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),i.call(e,o)})})}(jQuery);
},{}],10:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.alert");n||a.data("bs.alert",n=new r(this)),"string"==typeof e&&n[e].call(a)})}var a='[data-dismiss="alert"]',r=function(e){t(e).on("click",a,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function a(){o.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t("#"===s?[]:s);e&&e.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(r.TRANSITION_DURATION):a())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",a,r.prototype.close)}(jQuery);
},{}],11:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),i=s.data("bs.button"),o="object"==typeof e&&e;i||s.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,s){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,s),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",s=this.$element,i=s.is("input")?"val":"html",o=s.data();e+="Text",null==o.resetText&&s.data("resetText",s[i]()),setTimeout(t.proxy(function(){s[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,s.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,s.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var s=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=s,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var s=t(n.target).closest(".btn");e.call(s,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),s.is("input,button")?s.trigger("focus"):s.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery);
},{}],12:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.carousel"),a=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e),r="string"==typeof e?e:a.slide;n||s.data("bs.carousel",n=new i(this,a)),"number"==typeof e?n.to(e):r?n[r]():a.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var s="prev"==t?-1:1,n=(i+s)%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,s){var n=this.$element.find(".item.active"),a=s||this.getItemForDirection(e,n),r=this.interval,o="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var h=a[0],c=t.Event("slide.bs.carousel",{relatedTarget:h,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:h,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,n.addClass(o),a.addClass(o),n.one("bsTransitionEnd",function(){a.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var s=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=s,this};var n=function(i){var s,n=t(this),a=t(n.attr("data-target")||(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var r=t.extend({},a.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),e.call(a,r),o&&a.data("bs.carousel").to(o),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery);
},{}],13:[function(require,module,exports){
+function(t){"use strict";function e(e){var a,s=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return t(s)}function a(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),n=t.extend({},s.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&n.toggle&&/show|hide/.test(e)&&(n.toggle=!1),i||a.data("bs.collapse",i=new s(this,n)),"string"==typeof e&&i[e]()})}var s=function(e,a){this.$element=t(e),this.options=t.extend({},s.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};s.VERSION="3.3.7",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"))&&e.transitioning)){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){i&&i.length&&(a.call(i,"hide"),e||i.data("bs.collapse",null));var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var r=t.camelCase(["scroll",l].join("-"));this.$element.one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[l](this.$element[0][r])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return i.call(this);this.$element[a](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(s.TRANSITION_DURATION)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,s){var i=t(s);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var i=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var i=t(this);i.attr("data-target")||s.preventDefault();var n=e(i),l=n.data("bs.collapse"),o=l?"toggle":i.data();a.call(n,o)})}(jQuery);
},{}],14:[function(require,module,exports){
+function(t){"use strict";function e(e){var o=e.attr("data-target");o||(o=e.attr("href"),o=o&&/#[A-Za-z]/.test(o)&&o.replace(/.*(?=#[^\s]*$)/,""));var n=o&&t(o);return n&&n.length?n:e.parent()}function o(o){o&&3===o.which||(t(r).remove(),t(a).each(function(){var n=t(this),r=e(n),a={relatedTarget:this};r.hasClass("open")&&(o&&"click"==o.type&&/input|textarea/i.test(o.target.tagName)&&t.contains(r[0],o.target)||(r.trigger(o=t.Event("hide.bs.dropdown",a)),o.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",a)))))}))}function n(e){return this.each(function(){var o=t(this),n=o.data("bs.dropdown");n||o.data("bs.dropdown",n=new d(this)),"string"==typeof e&&n[e].call(o)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',d=function(e){t(e).on("click.bs.dropdown",this.toggle)};d.VERSION="3.3.7",d.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var a=e(r),d=a.hasClass("open");if(o(),!d){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",o);var i={relatedTarget:this};if(a.trigger(n=t.Event("show.bs.dropdown",i)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger(t.Event("shown.bs.dropdown",i))}return!1}},d.prototype.keydown=function(o){if(/(38|40|27|32)/.test(o.which)&&!/input|textarea/i.test(o.target.tagName)){var n=t(this);if(o.preventDefault(),o.stopPropagation(),!n.is(".disabled, :disabled")){var r=e(n),d=r.hasClass("open");if(!d&&27!=o.which||d&&27==o.which)return 27==o.which&&r.find(a).trigger("focus"),n.trigger("click");var i=r.find(".dropdown-menu li:not(.disabled):visible a");if(i.length){var s=i.index(o.target);38==o.which&&s>0&&s--,40==o.which&&s<i.length-1&&s++,~s||(s=0),i.eq(s).trigger("focus")}}}};var i=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=d,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=i,this},t(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,d.prototype.toggle).on("keydown.bs.dropdown.data-api",a,d.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",d.prototype.keydown)}(jQuery);
},{}],15:[function(require,module,exports){
+function(t){"use strict";function e(e,i){return this.each(function(){var s=t(this),n=s.data("bs.modal"),a=t.extend({},o.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new o(this,a)),"string"==typeof e?n[e](i):a.show&&n.show(i)})}var o=function(e,o){this.options=o,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};o.VERSION="3.3.7",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},o.prototype.show=function(e){var i=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),s&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});s?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(o.TRANSITION_DURATION):i.$element.trigger("focus").trigger(n)}))},o.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(e){var i=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},o.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=o,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(o){var i=t(this),s=i.attr("href"),n=t(i.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),i.data());i.is("a")&&o.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(n,a,this)})}(jQuery);
},{}],16:[function(require,module,exports){
+function(t){"use strict";function o(o){return this.each(function(){var n=t(this),r=n.data("bs.popover"),i="object"==typeof o&&o;!r&&/destroy|hide/.test(o)||(r||n.data("bs.popover",r=new e(this,i)),"string"==typeof o&&r[o]())})}var e=function(t,o){this.init("popover",t,o)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),o=this.getTitle(),e=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](o),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof e?"html":"append":"text"](e),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,o=this.options;return t.attr("data-content")||("function"==typeof o.content?o.content.call(t[0]):o.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=o,t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery);
},{}],17:[function(require,module,exports){
+function(t){"use strict";function s(e,i){this.$body=t(document.body),this.$scrollElement=t(t(e).is(document.body)?window:e),this.options=t.extend({},s.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function e(e){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof e&&e;o||i.data("bs.scrollspy",o=new s(this,r)),"string"==typeof e&&o[e]()})}s.VERSION="3.3.7",s.DEFAULTS={offset:10},s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var s=this,e="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var s=t(this),o=s.data("target")||s.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[e]().top+i,o]]||null}).sort(function(t,s){return t[0]-s[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},s.prototype.process=function(){var t,s=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),i=this.options.offset+e-this.$scrollElement.height(),o=this.offsets,r=this.targets,l=this.activeTarget;if(this.scrollHeight!=e&&this.refresh(),s>=i)return l!=(t=r[r.length-1])&&this.activate(t);if(l&&s<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)l!=r[t]&&s>=o[t]&&(void 0===o[t+1]||s<o[t+1])&&this.activate(r[t])},s.prototype.activate=function(s){this.activeTarget=s,this.clear();var e=this.selector+'[data-target="'+s+'"],'+this.selector+'[href="'+s+'"]',i=t(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},s.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=e,t.fn.scrollspy.Constructor=s,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var s=t(this);e.call(s,s.data())})})}(jQuery);
},{}],18:[function(require,module,exports){
+function(t){"use strict";function a(a){return this.each(function(){var n=t(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new e(this)),"string"==typeof a&&i[a]()})}var e=function(a){this.element=t(a)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.prototype.show=function(){var a=this.element,e=a.closest("ul:not(.dropdown-menu)"),n=a.data("target");if(n||(n=a.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:a[0]}),s=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),a.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var d=t(n);this.activate(a.closest("li"),e),this.activate(d,d.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},e.prototype.activate=function(a,n,i){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),d?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=n.find("> .active"),d=i&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&d?s.one("bsTransitionEnd",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=a,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var i=function(e){e.preventDefault(),a.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);
},{}],19:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var r=n[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var l="hover"==r?"mouseenter":"focusin",a="hover"==r?"mouseleave":"focusout";this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var l="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,p=a.test(l);p&&(l=l.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(l).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var h=this.getPosition(),f=s[0].offsetWidth,c=s[0].offsetHeight;if(p){var u=l,d=this.getPosition(this.$viewport);l="bottom"==l&&h.bottom+c>d.bottom?"top":"top"==l&&h.top-c<d.top?"bottom":"right"==l&&h.right+f>d.width?"left":"left"==l&&h.left-f<d.left?"right":l,s.removeClass(u).addClass(l)}var g=this.getCalculatedOffset(l,h,f,c);this.applyPlacement(g,l);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,r=parseInt(o.css("margin-top"),10),l=parseInt(o.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(l)&&(l=0),e.top+=r,e.left+=l,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var a=o[0].offsetWidth,p=o[0].offsetHeight;"top"==i&&p!=s&&(e.top=e.top+s-p);var h=this.getViewportAdjustedDelta(i,e,a,p);h.left?e.left+=h.left:e.top+=h.top;var f=/top|bottom/.test(i),c=f?2*h.left-n+a:2*h.top-s+p,u=f?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][u],f)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),r=t.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=window.SVGElement&&i instanceof window.SVGElement,r=o?{top:0,left:0}:s?null:e.offset(),l={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,l,a,r)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var l=e.top-s-r.scroll,a=e.top+s-r.scroll+o;l<r.top?n.top=r.top-l:a>r.top+r.height&&(n.top=r.top+r.height-a)}else{var p=e.left-s,h=e.left+s+i;p<r.left?n.left=r.left-p:h>r.right&&(n.left=r.left+r.width-h)}return n},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery);
},{}],20:[function(require,module,exports){
+function(n){"use strict";function t(){var n=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==n.style[i])return{end:t[i]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,r=this;n(this).one("bsTransitionEnd",function(){i=!0});var e=function(){i||n(r).trigger(n.support.transition.end)};return setTimeout(e,t),this},n(function(){n.support.transition=t(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);
},{}],21:[function(require,module,exports){
module.exports={graphlib:require("./lib/graphlib"),layout:require("./lib/layout"),debug:require("./lib/debug"),util:{time:require("./lib/util").time,notime:require("./lib/util").notime},version:require("./lib/version")};
},{"./lib/debug":26,"./lib/graphlib":27,"./lib/layout":29,"./lib/util":49,"./lib/version":50}],22:[function(require,module,exports){
"use strict";function run(e){var r="greedy"===e.graph().acyclicer?greedyFAS(e,function(e){return function(r){return e.edge(r).weight}}(e)):dfsFAS(e);_.each(r,function(r){var d=e.edge(r);e.removeEdge(r),d.forwardName=r.name,d.reversed=!0,e.setEdge(r.w,r.v,d,_.uniqueId("rev"))})}function dfsFAS(e){function r(a){_.has(u,a)||(u[a]=!0,n[a]=!0,_.each(e.outEdges(a),function(e){_.has(n,e.w)?d.push(e):r(e.w)}),delete n[a])}var d=[],n={},u={};return _.each(e.nodes(),r),d}function undo(e){_.each(e.edges(),function(r){var d=e.edge(r);if(d.reversed){e.removeEdge(r);var n=d.forwardName;delete d.reversed,delete d.forwardName,e.setEdge(r.w,r.v,d,n)}})}var _=require("./lodash"),greedyFAS=require("./greedy-fas");module.exports={run:run,undo:undo};
},{"./greedy-fas":28,"./lodash":30}],23:[function(require,module,exports){
function addBorderSegments(e){function r(d){var o=e.children(d),a=e.node(d);if(o.length&&_.each(o,r),_.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var t=a.minRank,n=a.maxRank+1;t<n;++t)addBorderNode(e,"borderLeft","_bl",d,a,t),addBorderNode(e,"borderRight","_br",d,a,t)}}_.each(e.children(),r)}function addBorderNode(e,r,d,o,a,t){var n={width:0,height:0,rank:t,borderType:r},i=a[r][t-1],h=util.addDummyNode(e,"border",n,d);a[r][t]=h,e.setParent(h,o),i&&e.setEdge(i,h,{weight:1})}var _=require("./lodash"),util=require("./util");module.exports=addBorderSegments;
},{"./lodash":30,"./util":49}],24:[function(require,module,exports){
"use strict";function adjust(e){var n=e.graph().rankdir.toLowerCase();"lr"!==n&&"rl"!==n||swapWidthHeight(e)}function undo(e){var n=e.graph().rankdir.toLowerCase();"bt"!==n&&"rl"!==n||reverseY(e),"lr"!==n&&"rl"!==n||(swapXY(e),swapWidthHeight(e))}function swapWidthHeight(e){_.each(e.nodes(),function(n){swapWidthHeightOne(e.node(n))}),_.each(e.edges(),function(n){swapWidthHeightOne(e.edge(n))})}function swapWidthHeightOne(e){var n=e.width;e.width=e.height,e.height=n}function reverseY(e){_.each(e.nodes(),function(n){reverseYOne(e.node(n))}),_.each(e.edges(),function(n){var t=e.edge(n);_.each(t.points,reverseYOne),_.has(t,"y")&&reverseYOne(t)})}function reverseYOne(e){e.y=-e.y}function swapXY(e){_.each(e.nodes(),function(n){swapXYOne(e.node(n))}),_.each(e.edges(),function(n){var t=e.edge(n);_.each(t.points,swapXYOne),_.has(t,"x")&&swapXYOne(t)})}function swapXYOne(e){var n=e.x;e.x=e.y,e.y=n}var _=require("./lodash");module.exports={adjust:adjust,undo:undo};
},{"./lodash":30}],25:[function(require,module,exports){
function List(){var e={};e._next=e._prev=e,this._sentinel=e}function unlink(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function filterOutLinks(e,t){if("_next"!==e&&"_prev"!==e)return t}module.exports=List,List.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return unlink(t),t},List.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&unlink(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},List.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,filterOutLinks)),n=n._prev;return"["+e.join(", ")+"]"};
},{}],26:[function(require,module,exports){
function debugOrdering(e){var r=util.buildLayerMatrix(e),n=new Graph({compound:!0,multigraph:!0}).setGraph({});return _.each(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),_.each(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),_.each(r,function(e,r){var a="layer"+r;n.setNode(a,{rank:"same"}),_.reduce(e,function(e,r){return n.setEdge(e,r,{style:"invis"}),r})}),n}var _=require("./lodash"),util=require("./util"),Graph=require("./graphlib").Graph;module.exports={debugOrdering:debugOrdering};
},{"./graphlib":27,"./lodash":30,"./util":49}],27:[function(require,module,exports){
var graphlib;if("function"==typeof require)try{graphlib=require("graphlib")}catch(r){}graphlib||(graphlib=window.graphlib),module.exports=graphlib;
},{"graphlib":59}],28:[function(require,module,exports){
function greedyFAS(e,n){if(e.nodeCount()<=1)return[];var o=buildState(e,n||DEFAULT_WEIGHT_FN),t=doGreedyFAS(o.graph,o.buckets,o.zeroIdx);return _.flatten(_.map(t,function(n){return e.outEdges(n.v,n.w)}),!0)}function doGreedyFAS(e,n,o){for(var t,r=[],u=n[n.length-1],a=n[0];e.nodeCount();){for(;t=a.dequeue();)removeNode(e,n,o,t);for(;t=u.dequeue();)removeNode(e,n,o,t);if(e.nodeCount())for(var d=n.length-2;d>0;--d)if(t=n[d].dequeue()){r=r.concat(removeNode(e,n,o,t,!0));break}}return r}function removeNode(e,n,o,t,r){var u=r?[]:void 0;return _.each(e.inEdges(t.v),function(t){var a=e.edge(t),d=e.node(t.v);r&&u.push({v:t.v,w:t.w}),d.out-=a,assignBucket(n,o,d)}),_.each(e.outEdges(t.v),function(t){var r=e.edge(t),u=t.w,a=e.node(u);a.in-=r,assignBucket(n,o,a)}),e.removeNode(t.v),u}function buildState(e,n){var o=new Graph,t=0,r=0;_.each(e.nodes(),function(e){o.setNode(e,{v:e,in:0,out:0})}),_.each(e.edges(),function(e){var u=o.edge(e.v,e.w)||0,a=n(e),d=u+a;o.setEdge(e.v,e.w,d),r=Math.max(r,o.node(e.v).out+=a),t=Math.max(t,o.node(e.w).in+=a)});var u=_.range(r+t+3).map(function(){return new List}),a=t+1;return _.each(o.nodes(),function(e){assignBucket(u,a,o.node(e))}),{graph:o,buckets:u,zeroIdx:a}}function assignBucket(e,n,o){o.out?o.in?e[o.out-o.in+n].enqueue(o):e[e.length-1].enqueue(o):e[0].enqueue(o)}var _=require("./lodash"),Graph=require("./graphlib").Graph,List=require("./data/list");module.exports=greedyFAS;var DEFAULT_WEIGHT_FN=_.constant(1);
},{"./data/list":25,"./graphlib":27,"./lodash":30}],29:[function(require,module,exports){
"use strict";function layout(e,n){var t=n&&n.debugTiming?util.time:util.notime;t("layout",function(){var n=t("  buildLayoutGraph",function(){return buildLayoutGraph(e)});t("  runLayout",function(){runLayout(n,t)}),t("  updateInputGraph",function(){updateInputGraph(e,n)})})}function runLayout(e,n){n("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(e)}),n("    removeSelfEdges",function(){removeSelfEdges(e)}),n("    acyclic",function(){acyclic.run(e)}),n("    nestingGraph.run",function(){nestingGraph.run(e)}),n("    rank",function(){rank(util.asNonCompoundGraph(e))}),n("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(e)}),n("    removeEmptyRanks",function(){removeEmptyRanks(e)}),n("    nestingGraph.cleanup",function(){nestingGraph.cleanup(e)}),n("    normalizeRanks",function(){normalizeRanks(e)}),n("    assignRankMinMax",function(){assignRankMinMax(e)}),n("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(e)}),n("    normalize.run",function(){normalize.run(e)}),n("    parentDummyChains",function(){parentDummyChains(e)}),n("    addBorderSegments",function(){addBorderSegments(e)}),n("    order",function(){order(e)}),n("    insertSelfEdges",function(){insertSelfEdges(e)}),n("    adjustCoordinateSystem",function(){coordinateSystem.adjust(e)}),n("    position",function(){position(e)}),n("    positionSelfEdges",function(){positionSelfEdges(e)}),n("    removeBorderNodes",function(){removeBorderNodes(e)}),n("    normalize.undo",function(){normalize.undo(e)}),n("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(e)}),n("    undoCoordinateSystem",function(){coordinateSystem.undo(e)}),n("    translateGraph",function(){translateGraph(e)}),n("    assignNodeIntersects",function(){assignNodeIntersects(e)}),n("    reversePoints",function(){reversePointsForReversedEdges(e)}),n("    acyclic.undo",function(){acyclic.undo(e)})}function updateInputGraph(e,n){_.each(e.nodes(),function(t){var r=e.node(t),a=n.node(t);r&&(r.x=a.x,r.y=a.y,n.children(t).length&&(r.width=a.width,r.height=a.height))}),_.each(e.edges(),function(t){var r=e.edge(t),a=n.edge(t);r.points=a.points,_.has(a,"x")&&(r.x=a.x,r.y=a.y)}),e.graph().width=n.graph().width,e.graph().height=n.graph().height}function buildLayoutGraph(e){var n=new Graph({multigraph:!0,compound:!0}),t=canonicalize(e.graph());return n.setGraph(_.merge({},graphDefaults,selectNumberAttrs(t,graphNumAttrs),_.pick(t,graphAttrs))),_.each(e.nodes(),function(t){var r=canonicalize(e.node(t));n.setNode(t,_.defaults(selectNumberAttrs(r,nodeNumAttrs),nodeDefaults)),n.setParent(t,e.parent(t))}),_.each(e.edges(),function(t){var r=canonicalize(e.edge(t));n.setEdge(t,_.merge({},edgeDefaults,selectNumberAttrs(r,edgeNumAttrs),_.pick(r,edgeAttrs)))}),n}function makeSpaceForEdgeLabels(e){var n=e.graph();n.ranksep/=2,_.each(e.edges(),function(t){var r=e.edge(t);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function injectEdgeLabelProxies(e){_.each(e.edges(),function(n){var t=e.edge(n);if(t.width&&t.height){var r=e.node(n.v),a=e.node(n.w),o={rank:(a.rank-r.rank)/2+r.rank,e:n};util.addDummyNode(e,"edge-proxy",o,"_ep")}})}function assignRankMinMax(e){var n=0;_.each(e.nodes(),function(t){var r=e.node(t);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,n=_.max(n,r.maxRank))}),e.graph().maxRank=n}function removeEdgeLabelProxies(e){_.each(e.nodes(),function(n){var t=e.node(n);"edge-proxy"===t.dummy&&(e.edge(t.e).labelRank=t.rank,e.removeNode(n))})}function translateGraph(e){function n(e){var n=e.x,i=e.y,s=e.width,d=e.height;t=Math.min(t,n-s/2),r=Math.max(r,n+s/2),a=Math.min(a,i-d/2),o=Math.max(o,i+d/2)}var t=Number.POSITIVE_INFINITY,r=0,a=Number.POSITIVE_INFINITY,o=0,i=e.graph(),s=i.marginx||0,d=i.marginy||0;_.each(e.nodes(),function(t){n(e.node(t))}),_.each(e.edges(),function(t){var r=e.edge(t);_.has(r,"x")&&n(r)}),t-=s,a-=d,_.each(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=a}),_.each(e.edges(),function(n){var r=e.edge(n);_.each(r.points,function(e){e.x-=t,e.y-=a}),_.has(r,"x")&&(r.x-=t),_.has(r,"y")&&(r.y-=a)}),i.width=r-t+s,i.height=o-a+d}function assignNodeIntersects(e){_.each(e.edges(),function(n){var t,r,a=e.edge(n),o=e.node(n.v),i=e.node(n.w);a.points?(t=a.points[0],r=a.points[a.points.length-1]):(a.points=[],t=i,r=o),a.points.unshift(util.intersectRect(o,t)),a.points.push(util.intersectRect(i,r))})}function fixupEdgeLabelCoords(e){_.each(e.edges(),function(n){var t=e.edge(n);if(_.has(t,"x"))switch("l"!==t.labelpos&&"r"!==t.labelpos||(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}function reversePointsForReversedEdges(e){_.each(e.edges(),function(n){var t=e.edge(n);t.reversed&&t.points.reverse()})}function removeBorderNodes(e){_.each(e.nodes(),function(n){if(e.children(n).length){var t=e.node(n),r=e.node(t.borderTop),a=e.node(t.borderBottom),o=e.node(_.last(t.borderLeft)),i=e.node(_.last(t.borderRight));t.width=Math.abs(i.x-o.x),t.height=Math.abs(a.y-r.y),t.x=o.x+t.width/2,t.y=r.y+t.height/2}}),_.each(e.nodes(),function(n){"border"===e.node(n).dummy&&e.removeNode(n)})}function removeSelfEdges(e){_.each(e.edges(),function(n){if(n.v===n.w){var t=e.node(n.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:n,label:e.edge(n)}),e.removeEdge(n)}})}function insertSelfEdges(e){var n=util.buildLayerMatrix(e);_.each(n,function(n){var t=0;_.each(n,function(n,r){var a=e.node(n);a.order=r+t,_.each(a.selfEdges,function(n){util.addDummyNode(e,"selfedge",{width:n.label.width,height:n.label.height,rank:a.rank,order:r+ ++t,e:n.e,label:n.label},"_se")}),delete a.selfEdges})})}function positionSelfEdges(e){_.each(e.nodes(),function(n){var t=e.node(n);if("selfedge"===t.dummy){var r=e.node(t.e.v),a=r.x+r.width/2,o=r.y,i=t.x-a,s=r.height/2;e.setEdge(t.e,t.label),e.removeNode(n),t.label.points=[{x:a+2*i/3,y:o-s},{x:a+5*i/6,y:o-s},{x:a+i,y:o},{x:a+5*i/6,y:o+s},{x:a+2*i/3,y:o+s}],t.label.x=t.x,t.label.y=t.y}})}function selectNumberAttrs(e,n){return _.mapValues(_.pick(e,n),Number)}function canonicalize(e){var n={};return _.each(e,function(e,t){n[t.toLowerCase()]=e}),n}var _=require("./lodash"),acyclic=require("./acyclic"),normalize=require("./normalize"),rank=require("./rank"),normalizeRanks=require("./util").normalizeRanks,parentDummyChains=require("./parent-dummy-chains"),removeEmptyRanks=require("./util").removeEmptyRanks,nestingGraph=require("./nesting-graph"),addBorderSegments=require("./add-border-segments"),coordinateSystem=require("./coordinate-system"),order=require("./order"),position=require("./position"),util=require("./util"),Graph=require("./graphlib").Graph;module.exports=layout;var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];
},{"./acyclic":22,"./add-border-segments":23,"./coordinate-system":24,"./graphlib":27,"./lodash":30,"./nesting-graph":31,"./normalize":32,"./order":37,"./parent-dummy-chains":42,"./position":44,"./rank":46,"./util":49}],30:[function(require,module,exports){
var lodash;if("function"==typeof require)try{lodash=require("lodash")}catch(o){}lodash||(lodash=window._),module.exports=lodash;
},{"lodash":51}],31:[function(require,module,exports){
function run(e){var n=util.addDummyNode(e,"root",{},"_root"),t=treeDepths(e),r=_.max(t)-1,o=2*r+1;e.graph().nestingRoot=n,_.each(e.edges(),function(n){e.edge(n).minlen*=o});var d=sumWeights(e)+1;_.each(e.children(),function(i){dfs(e,n,o,d,r,t,i)}),e.graph().nodeRankFactor=o}function dfs(e,n,t,r,o,d,i){var u=e.children(i);if(!u.length)return void(i!==n&&e.setEdge(n,i,{weight:0,minlen:t}));var g=util.addBorderNode(e,"_bt"),a=util.addBorderNode(e,"_bb"),c=e.node(i);e.setParent(g,i),c.borderTop=g,e.setParent(a,i),c.borderBottom=a,_.each(u,function(u){dfs(e,n,t,r,o,d,u);var c=e.node(u),s=c.borderTop?c.borderTop:u,h=c.borderBottom?c.borderBottom:u,l=c.borderTop?r:2*r,f=s!==h?1:o-d[i]+1;e.setEdge(g,s,{weight:l,minlen:f,nestingEdge:!0}),e.setEdge(h,a,{weight:l,minlen:f,nestingEdge:!0})}),e.parent(i)||e.setEdge(n,g,{weight:0,minlen:o+d[i]})}function treeDepths(e){function n(r,o){var d=e.children(r);d&&d.length&&_.each(d,function(e){n(e,o+1)}),t[r]=o}var t={};return _.each(e.children(),function(e){n(e,1)}),t}function sumWeights(e){return _.reduce(e.edges(),function(n,t){return n+e.edge(t).weight},0)}function cleanup(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,_.each(e.edges(),function(n){e.edge(n).nestingEdge&&e.removeEdge(n)})}var _=require("./lodash"),util=require("./util");module.exports={run:run,cleanup:cleanup};
},{"./lodash":30,"./util":49}],32:[function(require,module,exports){
"use strict";function run(e){e.graph().dummyChains=[],_.each(e.edges(),function(d){normalizeEdge(e,d)})}function normalizeEdge(e,d){var i=d.v,n=e.node(i).rank,h=d.w,t=e.node(h).rank,a=d.name,o=e.edge(d),u=o.labelRank;if(t!==n+1){e.removeEdge(d);var g,r,s;for(s=0,++n;n<t;++s,++n)o.points=[],r={width:0,height:0,edgeLabel:o,edgeObj:d,rank:n},g=util.addDummyNode(e,"edge",r,"_d"),n===u&&(r.width=o.width,r.height=o.height,r.dummy="edge-label",r.labelpos=o.labelpos),e.setEdge(i,g,{weight:o.weight},a),0===s&&e.graph().dummyChains.push(g),i=g;e.setEdge(i,h,{weight:o.weight},a)}}function undo(e){_.each(e.graph().dummyChains,function(d){var i,n=e.node(d),h=n.edgeLabel;for(e.setEdge(n.edgeObj,h);n.dummy;)i=e.successors(d)[0],e.removeNode(d),h.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(h.x=n.x,h.y=n.y,h.width=n.width,h.height=n.height),d=i,n=e.node(d)})}var _=require("./lodash"),util=require("./util");module.exports={run:run,undo:undo};
},{"./lodash":30,"./util":49}],33:[function(require,module,exports){
function addSubgraphConstraints(r,a,n){var t,e={};_.each(n,function(n){for(var o,d,i=r.parent(n);i;){if(o=r.parent(i),o?(d=e[o],e[o]=i):(d=t,t=i),d&&d!==i)return void a.setEdge(d,i);i=o}})}var _=require("../lodash");module.exports=addSubgraphConstraints;
},{"../lodash":30}],34:[function(require,module,exports){
function barycenter(e,r){return _.map(r,function(r){var t=e.inEdges(r);if(t.length){var n=_.reduce(t,function(r,t){var n=e.edge(t),i=e.node(t.v);return{sum:r.sum+n.weight*i.order,weight:r.weight+n.weight}},{sum:0,weight:0});return{v:r,barycenter:n.sum/n.weight,weight:n.weight}}return{v:r}})}var _=require("../lodash");module.exports=barycenter;
},{"../lodash":30}],35:[function(require,module,exports){
function buildLayerGraph(e,r,o){var t=createRootNode(e),a=new Graph({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(r){return e.node(r)});return _.each(e.nodes(),function(n){var d=e.node(n),i=e.parent(n);(d.rank===r||d.minRank<=r&&r<=d.maxRank)&&(a.setNode(n),a.setParent(n,i||t),_.each(e[o](n),function(r){var o=r.v===n?r.w:r.v,t=a.edge(o,n),d=_.isUndefined(t)?0:t.weight;a.setEdge(o,n,{weight:e.edge(r).weight+d})}),_.has(d,"minRank")&&a.setNode(n,{borderLeft:d.borderLeft[r],borderRight:d.borderRight[r]}))}),a}function createRootNode(e){for(var r;e.hasNode(r=_.uniqueId("_root")););return r}var _=require("../lodash"),Graph=require("../graphlib").Graph;module.exports=buildLayerGraph;
},{"../graphlib":27,"../lodash":30}],36:[function(require,module,exports){
"use strict";function crossCount(r,t){for(var n=0,o=1;o<t.length;++o)n+=twoLayerCrossCount(r,t[o-1],t[o]);return n}function twoLayerCrossCount(r,t,n){for(var o=_.zipObject(n,_.map(n,function(r,t){return t})),e=_.flatten(_.map(t,function(t){return _.chain(r.outEdges(t)).map(function(t){return{pos:o[t.w],weight:r.edge(t).weight}}).sortBy("pos").value()}),!0),u=1;u<n.length;)u<<=1;var a=2*u-1;u-=1;var s=_.map(new Array(a),function(){return 0}),i=0;return _.each(e.forEach(function(r){var t=r.pos+u;s[t]+=r.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),t=t-1>>1,s[t]+=r.weight;i+=r.weight*n})),i}var _=require("../lodash");module.exports=crossCount;
},{"../lodash":30}],37:[function(require,module,exports){
"use strict";function order(r){var e=util.maxRank(r),a=buildLayerGraphs(r,_.range(1,e+1),"inEdges"),i=buildLayerGraphs(r,_.range(e-1,-1,-1),"outEdges"),n=initOrder(r);assignOrder(r,n);for(var u,s=Number.POSITIVE_INFINITY,o=0,t=0;t<4;++o,++t){sweepLayerGraphs(o%2?a:i,o%4>=2),n=util.buildLayerMatrix(r);var d=crossCount(r,n);d<s&&(t=0,u=_.cloneDeep(n),s=d)}assignOrder(r,u)}function buildLayerGraphs(r,e,a){return _.map(e,function(e){return buildLayerGraph(r,e,a)})}function sweepLayerGraphs(r,e){var a=new Graph;_.each(r,function(r){var i=r.graph().root,n=sortSubgraph(r,i,a,e);_.each(n.vs,function(e,a){r.node(e).order=a}),addSubgraphConstraints(r,a,n.vs)})}function assignOrder(r,e){_.each(e,function(e){_.each(e,function(e,a){r.node(e).order=a})})}var _=require("../lodash"),initOrder=require("./init-order"),crossCount=require("./cross-count"),sortSubgraph=require("./sort-subgraph"),buildLayerGraph=require("./build-layer-graph"),addSubgraphConstraints=require("./add-subgraph-constraints"),Graph=require("../graphlib").Graph,util=require("../util");module.exports=order;
},{"../graphlib":27,"../lodash":30,"../util":49,"./add-subgraph-constraints":33,"./build-layer-graph":35,"./cross-count":36,"./init-order":38,"./sort-subgraph":40}],38:[function(require,module,exports){
"use strict";function initOrder(n){function r(t){if(!_.has(e,t)){e[t]=!0;var u=n.node(t);i[u.rank].push(t),_.each(n.successors(t),r)}}var e={},t=_.filter(n.nodes(),function(r){return!n.children(r).length}),u=_.max(_.map(t,function(r){return n.node(r).rank})),i=_.map(_.range(u+1),function(){return[]}),o=_.sortBy(t,function(r){return n.node(r).rank});return _.each(o,r),i}var _=require("../lodash");module.exports=initOrder;
},{"../lodash":30}],39:[function(require,module,exports){
"use strict";function resolveConflicts(e,n){var r={};return _.each(e,function(e,n){var i=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:n};_.isUndefined(e.barycenter)||(i.barycenter=e.barycenter,i.weight=e.weight)}),_.each(n.edges(),function(e){var n=r[e.v],i=r[e.w];_.isUndefined(n)||_.isUndefined(i)||(i.indegree++,n.out.push(r[e.w]))}),doResolveConflicts(_.filter(r,function(e){return!e.indegree}))}function doResolveConflicts(e){for(var n=[];e.length;){var r=e.pop();n.push(r),_.each(r.in.reverse(),function(e){return function(n){n.merged||(_.isUndefined(n.barycenter)||_.isUndefined(e.barycenter)||n.barycenter>=e.barycenter)&&mergeEntries(e,n)}}(r)),_.each(r.out,function(n){return function(r){r.in.push(n),0==--r.indegree&&e.push(r)}}(r))}return _.chain(n).filter(function(e){return!e.merged}).map(function(e){return _.pick(e,["vs","i","barycenter","weight"])}).value()}function mergeEntries(e,n){var r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),n.weight&&(r+=n.barycenter*n.weight,i+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(n.i,e.i),n.merged=!0}var _=require("../lodash");module.exports=resolveConflicts;
},{"../lodash":30}],40:[function(require,module,exports){
function sortSubgraph(e,r,t,n){var a=e.children(r),i=e.node(r),s=i?i.borderLeft:void 0,c=i?i.borderRight:void 0,o={};s&&(a=_.filter(a,function(e){return e!==s&&e!==c}));var h=barycenter(e,a);_.each(h,function(r){if(e.children(r.v).length){var a=sortSubgraph(e,r.v,t,n);o[r.v]=a,_.has(a,"barycenter")&&mergeBarycenters(r,a)}});var g=resolveConflicts(h,t);expandSubgraphs(g,o);var b=sort(g,n);if(s&&(b.vs=_.flatten([s,b.vs,c],!0),e.predecessors(s).length)){var d=e.node(e.predecessors(s)[0]),u=e.node(e.predecessors(c)[0]);_.has(b,"barycenter")||(b.barycenter=0,b.weight=0),b.barycenter=(b.barycenter*b.weight+d.order+u.order)/(b.weight+2),b.weight+=2}return b}function expandSubgraphs(e,r){_.each(e,function(e){e.vs=_.flatten(e.vs.map(function(e){return r[e]?r[e].vs:e}),!0)})}function mergeBarycenters(e,r){_.isUndefined(e.barycenter)?(e.barycenter=r.barycenter,e.weight=r.weight):(e.barycenter=(e.barycenter*e.weight+r.barycenter*r.weight)/(e.weight+r.weight),e.weight+=r.weight)}var _=require("../lodash"),barycenter=require("./barycenter"),resolveConflicts=require("./resolve-conflicts"),sort=require("./sort");module.exports=sortSubgraph;
},{"../lodash":30,"./barycenter":34,"./resolve-conflicts":39,"./sort":41}],41:[function(require,module,exports){
function sort(r,t){var e=util.partition(r,function(r){return _.has(r,"barycenter")}),n=e.lhs,i=_.sortBy(e.rhs,function(r){return-r.i}),o=[],a=0,s=0,u=0;n.sort(compareWithBias(!!t)),u=consumeUnsortable(o,i,u),_.each(n,function(r){u+=r.vs.length,o.push(r.vs),a+=r.barycenter*r.weight,s+=r.weight,u=consumeUnsortable(o,i,u)});var c={vs:_.flatten(o,!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function consumeUnsortable(r,t,e){for(var n;t.length&&(n=_.last(t)).i<=e;)t.pop(),r.push(n.vs),e++;return e}function compareWithBias(r){return function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:r?e.i-t.i:t.i-e.i}}var _=require("../lodash"),util=require("../util");module.exports=sort;
},{"../lodash":30,"../util":49}],42:[function(require,module,exports){
function parentDummyChains(n){var a=postorder(n);_.each(n.graph().dummyChains,function(r){for(var e=n.node(r),o=e.edgeObj,t=findPath(n,a,o.v,o.w),i=t.path,h=t.lca,c=0,l=i[c],d=!0;r!==o.w;){if(e=n.node(r),d){for(;(l=i[c])!==h&&n.node(l).maxRank<e.rank;)c++;l===h&&(d=!1)}if(!d){for(;c<i.length-1&&n.node(l=i[c+1]).minRank<=e.rank;)c++;l=i[c]}n.setParent(r,l),r=n.successors(r)[0]}})}function findPath(n,a,r,e){var o,t,i=[],h=[],c=Math.min(a[r].low,a[e].low),l=Math.max(a[r].lim,a[e].lim);o=r;do{o=n.parent(o),i.push(o)}while(o&&(a[o].low>c||l>a[o].lim));for(t=o,o=e;(o=n.parent(o))!==t;)h.push(o);return{path:i.concat(h.reverse()),lca:t}}function postorder(n){function a(o){var t=e;_.each(n.children(o),a),r[o]={low:t,lim:e++}}var r={},e=0;return _.each(n.children(),a),r}var _=require("./lodash");module.exports=parentDummyChains;
},{"./lodash":30}],43:[function(require,module,exports){
"use strict";function findType1Conflicts(n,e){function r(e,r){var i=0,o=0,a=e.length,c=_.last(r);return _.each(r,function(e,u){var d=findOtherInnerSegmentNode(n,e),f=d?n.node(d).order:a;(d||e===c)&&(_.each(r.slice(o,u+1),function(e){_.each(n.predecessors(e),function(r){var o=n.node(r),a=o.order;!(a<i||f<a)||o.dummy&&n.node(e).dummy||addConflict(t,r,e)})}),o=u+1,i=f)}),r}var t={};return _.reduce(e,r),t}function findType2Conflicts(n,e){function r(e,r,t,o,a){var c;_.each(_.range(r,t),function(r){c=e[r],n.node(c).dummy&&_.each(n.predecessors(c),function(e){var r=n.node(e);r.dummy&&(r.order<o||r.order>a)&&addConflict(i,e,c)})})}function t(e,t){var i,o=-1,a=0;return _.each(t,function(c,u){if("border"===n.node(c).dummy){var d=n.predecessors(c);d.length&&(i=n.node(d[0]).order,r(t,a,u,o,i),a=u,o=i)}r(t,a,t.length,i,e.length)}),t}var i={};return _.reduce(e,t),i}function findOtherInnerSegmentNode(n,e){if(n.node(e).dummy)return _.find(n.predecessors(e),function(e){return n.node(e).dummy})}function addConflict(n,e,r){if(e>r){var t=e;e=r,r=t}var i=n[e];i||(n[e]=i={}),i[r]=!0}function hasConflict(n,e,r){if(e>r){var t=e;e=r,r=t}return _.has(n[e],r)}function verticalAlignment(n,e,r,t){var i={},o={},a={};return _.each(e,function(n){_.each(n,function(n,e){i[n]=n,o[n]=n,a[n]=e})}),_.each(e,function(n){var e=-1;_.each(n,function(n){var c=t(n);if(c.length){c=_.sortBy(c,function(n){return a[n]});for(var u=(c.length-1)/2,d=Math.floor(u),f=Math.ceil(u);d<=f;++d){var l=c[d];o[n]===n&&e<a[l]&&!hasConflict(r,n,l)&&(o[l]=n,o[n]=i[n]=i[l],e=a[l])}}})}),{root:i,align:o}}function horizontalCompaction(n,e,r,t,i){function o(n){_.has(d,n)||(d[n]=!0,c[n]=_.reduce(u.inEdges(n),function(n,e){return o(e.v),Math.max(n,c[e.v]+u.edge(e))},0))}function a(e){if(2!==d[e]){d[e]++;var r=n.node(e),t=_.reduce(u.outEdges(e),function(n,e){return a(e.w),Math.min(n,c[e.w]-u.edge(e))},Number.POSITIVE_INFINITY);t!==Number.POSITIVE_INFINITY&&r.borderType!==f&&(c[e]=Math.max(c[e],t))}}var c={},u=buildBlockGraph(n,e,r,i),d={};_.each(u.nodes(),o);var f=i?"borderLeft":"borderRight";return _.each(u.nodes(),a),_.each(t,function(n){c[n]=c[r[n]]}),c}function buildBlockGraph(n,e,r,t){var i=new Graph,o=n.graph(),a=sep(o.nodesep,o.edgesep,t);return _.each(e,function(e){var t;_.each(e,function(e){var o=r[e];if(i.setNode(o),t){var c=r[t],u=i.edge(c,o);i.setEdge(c,o,Math.max(a(n,e,t),u||0))}t=e})}),i}function findSmallestWidthAlignment(n,e){return _.min(e,function(e){var r=_.min(e,function(e,r){return e-width(n,r)/2});return _.max(e,function(e,r){return e+width(n,r)/2})-r})}function alignCoordinates(n,e){var r=_.min(e),t=_.max(e);_.each(["u","d"],function(i){_.each(["l","r"],function(o){var a,c=i+o,u=n[c];u!==e&&(a="l"===o?r-_.min(u):t-_.max(u))&&(n[c]=_.mapValues(u,function(n){return n+a}))})})}function balance(n,e){return _.mapValues(n.ul,function(r,t){if(e)return n[e.toLowerCase()][t];var i=_.sortBy(_.pluck(n,t));return(i[1]+i[2])/2})}function positionX(n){var e,r=util.buildLayerMatrix(n),t=_.merge(findType1Conflicts(n,r),findType2Conflicts(n,r)),i={};_.each(["u","d"],function(o){e="u"===o?r:_.values(r).reverse(),_.each(["l","r"],function(r){"r"===r&&(e=_.map(e,function(n){return _.values(n).reverse()}));var a=_.bind("u"===o?n.predecessors:n.successors,n),c=verticalAlignment(n,e,t,a),u=horizontalCompaction(n,e,c.root,c.align,"r"===r);"r"===r&&(u=_.mapValues(u,function(n){return-n})),i[o+r]=u})});var o=findSmallestWidthAlignment(n,i);return alignCoordinates(i,o),balance(i,n.graph().align)}function sep(n,e,r){return function(t,i,o){var a,c=t.node(i),u=t.node(o),d=0;if(d+=c.width/2,_.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=-c.width/2;break;case"r":a=c.width/2}if(a&&(d+=r?a:-a),a=0,d+=(c.dummy?e:n)/2,d+=(u.dummy?e:n)/2,d+=u.width/2,_.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(d+=r?a:-a),a=0,d}}function width(n,e){return n.node(e).width}var _=require("../lodash"),Graph=require("../graphlib").Graph,util=require("../util");module.exports={positionX:positionX,findType1Conflicts:findType1Conflicts,findType2Conflicts:findType2Conflicts,addConflict:addConflict,hasConflict:hasConflict,verticalAlignment:verticalAlignment,horizontalCompaction:horizontalCompaction,alignCoordinates:alignCoordinates,findSmallestWidthAlignment:findSmallestWidthAlignment,balance:balance};
},{"../graphlib":27,"../lodash":30,"../util":49}],44:[function(require,module,exports){
"use strict";function position(i){i=util.asNonCompoundGraph(i),positionY(i),_.each(positionX(i),function(o,n){i.node(n).x=o})}function positionY(i){var o=util.buildLayerMatrix(i),n=i.graph().ranksep,t=0;_.each(o,function(o){var e=_.max(_.map(o,function(o){return i.node(o).height}));_.each(o,function(o){i.node(o).y=t+e/2}),t+=e+n})}var _=require("../lodash"),util=require("../util"),positionX=require("./bk").positionX;module.exports=position;
},{"../lodash":30,"../util":49,"./bk":43}],45:[function(require,module,exports){
"use strict";function feasibleTree(e){var n=new Graph({directed:!1}),r=e.nodes()[0],a=e.nodeCount();n.setNode(r,{});for(var s,t;tightTree(n,e)<a;)s=findMinSlackEdge(n,e),t=n.hasNode(s.v)?slack(e,s):-slack(e,s),shiftRanks(n,e,t);return n}function tightTree(e,n){function r(a){_.each(n.nodeEdges(a),function(s){var t=s.v,i=a===t?s.w:t;e.hasNode(i)||slack(n,s)||(e.setNode(i,{}),e.setEdge(a,i,{}),r(i))})}return _.each(e.nodes(),r),e.nodeCount()}function findMinSlackEdge(e,n){return _.min(n.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return slack(n,r)})}function shiftRanks(e,n,r){_.each(e.nodes(),function(e){n.node(e).rank+=r})}var _=require("../lodash"),Graph=require("../graphlib").Graph,slack=require("./util").slack;module.exports=feasibleTree;
},{"../graphlib":27,"../lodash":30,"./util":48}],46:[function(require,module,exports){
"use strict";function rank(e){switch(e.graph().ranker){case"network-simplex":networkSimplexRanker(e);break;case"tight-tree":tightTreeRanker(e);break;case"longest-path":longestPathRanker(e);break;default:networkSimplexRanker(e)}}function tightTreeRanker(e){longestPath(e),feasibleTree(e)}function networkSimplexRanker(e){networkSimplex(e)}var rankUtil=require("./util"),longestPath=rankUtil.longestPath,feasibleTree=require("./feasible-tree"),networkSimplex=require("./network-simplex");module.exports=rank;var longestPathRanker=longestPath;
},{"./feasible-tree":45,"./network-simplex":47,"./util":48}],47:[function(require,module,exports){
"use strict";function networkSimplex(e){e=simplify(e),initRank(e);var n=feasibleTree(e);initLowLimValues(n),initCutValues(n,e);for(var i,r;i=leaveEdge(n);)r=enterEdge(n,e,i),exchangeEdges(n,e,i,r)}function initCutValues(e,n){var i=postorder(e,e.nodes());i=i.slice(0,i.length-1),_.each(i,function(i){assignCutValue(e,n,i)})}function assignCutValue(e,n,i){var r=e.node(i),t=r.parent;e.edge(i,t).cutvalue=calcCutValue(e,n,i)}function calcCutValue(e,n,i){var r=e.node(i),t=r.parent,a=!0,u=n.edge(i,t),l=0;return u||(a=!1,u=n.edge(t,i)),l=u.weight,_.each(n.nodeEdges(i),function(r){var u=r.v===i,o=u?r.w:r.v;if(o!==t){var s=u===a,d=n.edge(r).weight;if(l+=s?d:-d,isTreeEdge(e,i,o)){var c=e.edge(i,o).cutvalue;l+=s?-c:c}}}),l}function initLowLimValues(e,n){arguments.length<2&&(n=e.nodes()[0]),dfsAssignLowLim(e,{},1,n)}function dfsAssignLowLim(e,n,i,r,t){var a=i,u=e.node(r);return n[r]=!0,_.each(e.neighbors(r),function(t){_.has(n,t)||(i=dfsAssignLowLim(e,n,i,t,r))}),u.low=a,u.lim=i++,t?u.parent=t:delete u.parent,i}function leaveEdge(e){return _.find(e.edges(),function(n){return e.edge(n).cutvalue<0})}function enterEdge(e,n,i){var r=i.v,t=i.w;n.hasEdge(r,t)||(r=i.w,t=i.v);var a=e.node(r),u=e.node(t),l=a,o=!1;a.lim>u.lim&&(l=u,o=!0);var s=_.filter(n.edges(),function(n){return o===isDescendant(e,e.node(n.v),l)&&o!==isDescendant(e,e.node(n.w),l)});return _.min(s,function(e){return slack(n,e)})}function exchangeEdges(e,n,i,r){var t=i.v,a=i.w;e.removeEdge(t,a),e.setEdge(r.v,r.w,{}),initLowLimValues(e),initCutValues(e,n),updateRanks(e,n)}function updateRanks(e,n){var i=_.find(e.nodes(),function(e){return!n.node(e).parent}),r=preorder(e,i);r=r.slice(1),_.each(r,function(i){var r=e.node(i).parent,t=n.edge(i,r),a=!1;t||(t=n.edge(r,i),a=!0),n.node(i).rank=n.node(r).rank+(a?t.minlen:-t.minlen)})}function isTreeEdge(e,n,i){return e.hasEdge(n,i)}function isDescendant(e,n,i){return i.low<=n.lim&&n.lim<=i.lim}var _=require("../lodash"),feasibleTree=require("./feasible-tree"),slack=require("./util").slack,initRank=require("./util").longestPath,preorder=require("../graphlib").alg.preorder,postorder=require("../graphlib").alg.postorder,simplify=require("../util").simplify;module.exports=networkSimplex,networkSimplex.initLowLimValues=initLowLimValues,networkSimplex.initCutValues=initCutValues,networkSimplex.calcCutValue=calcCutValue,networkSimplex.leaveEdge=leaveEdge,networkSimplex.enterEdge=enterEdge,networkSimplex.exchangeEdges=exchangeEdges;
},{"../graphlib":27,"../lodash":30,"../util":49,"./feasible-tree":45,"./util":48}],48:[function(require,module,exports){
"use strict";function longestPath(n){function e(a){var t=n.node(a);if(_.has(r,a))return t.rank;r[a]=!0;var o=_.min(_.map(n.outEdges(a),function(r){return e(r.w)-n.edge(r).minlen}));return o===Number.POSITIVE_INFINITY&&(o=0),t.rank=o}var r={};_.each(n.sources(),e)}function slack(n,e){return n.node(e.w).rank-n.node(e.v).rank-n.edge(e).minlen}var _=require("../lodash");module.exports={longestPath:longestPath,slack:slack};
},{"../lodash":30}],49:[function(require,module,exports){
"use strict";function addDummyNode(e,n,r,t){var o;do{o=_.uniqueId(t)}while(e.hasNode(o));return r.dummy=n,e.setNode(o,r),o}function simplify(e){var n=(new Graph).setGraph(e.graph());return _.each(e.nodes(),function(r){n.setNode(r,e.node(r))}),_.each(e.edges(),function(r){var t=n.edge(r.v,r.w)||{weight:0,minlen:1},o=e.edge(r);n.setEdge(r.v,r.w,{weight:t.weight+o.weight,minlen:Math.max(t.minlen,o.minlen)})}),n}function asNonCompoundGraph(e){var n=new Graph({multigraph:e.isMultigraph()}).setGraph(e.graph());return _.each(e.nodes(),function(r){e.children(r).length||n.setNode(r,e.node(r))}),_.each(e.edges(),function(r){n.setEdge(r,e.edge(r))}),n}function successorWeights(e){var n=_.map(e.nodes(),function(n){var r={};return _.each(e.outEdges(n),function(n){r[n.w]=(r[n.w]||0)+e.edge(n).weight}),r});return _.zipObject(e.nodes(),n)}function predecessorWeights(e){var n=_.map(e.nodes(),function(n){var r={};return _.each(e.inEdges(n),function(n){r[n.v]=(r[n.v]||0)+e.edge(n).weight}),r});return _.zipObject(e.nodes(),n)}function intersectRect(e,n){var r=e.x,t=e.y,o=n.x-r,a=n.y-t,i=e.width/2,d=e.height/2;if(!o&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var s,u;return Math.abs(a)*i>Math.abs(o)*d?(a<0&&(d=-d),s=d*o/a,u=d):(o<0&&(i=-i),s=i,u=i*a/o),{x:r+s,y:t+u}}function buildLayerMatrix(e){var n=_.map(_.range(maxRank(e)+1),function(){return[]});return _.each(e.nodes(),function(r){var t=e.node(r),o=t.rank;_.isUndefined(o)||(n[o][t.order]=r)}),n}function normalizeRanks(e){var n=_.min(_.map(e.nodes(),function(n){return e.node(n).rank}));_.each(e.nodes(),function(r){var t=e.node(r);_.has(t,"rank")&&(t.rank-=n)})}function removeEmptyRanks(e){var n=_.min(_.map(e.nodes(),function(n){return e.node(n).rank})),r=[];_.each(e.nodes(),function(t){var o=e.node(t).rank-n;r[o]||(r[o]=[]),r[o].push(t)});var t=0,o=e.graph().nodeRankFactor;_.each(r,function(n,r){_.isUndefined(n)&&r%o!=0?--t:t&&_.each(n,function(n){e.node(n).rank+=t})})}function addBorderNode(e,n,r,t){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=t),addDummyNode(e,"border",o,n)}function maxRank(e){return _.max(_.map(e.nodes(),function(n){var r=e.node(n).rank;if(!_.isUndefined(r))return r}))}function partition(e,n){var r={lhs:[],rhs:[]};return _.each(e,function(e){n(e)?r.lhs.push(e):r.rhs.push(e)}),r}function time(e,n){var r=_.now();try{return n()}finally{console.log(e+" time: "+(_.now()-r)+"ms")}}function notime(e,n){return n()}var _=require("./lodash"),Graph=require("./graphlib").Graph;module.exports={addDummyNode:addDummyNode,simplify:simplify,asNonCompoundGraph:asNonCompoundGraph,successorWeights:successorWeights,predecessorWeights:predecessorWeights,intersectRect:intersectRect,buildLayerMatrix:buildLayerMatrix,normalizeRanks:normalizeRanks,removeEmptyRanks:removeEmptyRanks,addBorderNode:addBorderNode,maxRank:maxRank,partition:partition,time:time,notime:notime};
},{"./graphlib":27,"./lodash":30}],50:[function(require,module,exports){
module.exports="0.7.4";
},{}],51:[function(require,module,exports){
(function (global){
(function(){function n(n,t){if(n!==t){var r=null===n,e=n===b,u=n===n,i=null===t,o=t===b,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return h(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function e(n){return"function"==typeof n||!1}function u(n){return null==n?"":n+""}function i(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function o(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function f(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function a(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||!0===l?1:-1)}}return t.index-r.index}function c(n){return Bn[n]}function l(n){return zn[n]}function s(n,t,r){return t?n=qn[n]:r&&(n=Pn[n]),"\\"+n}function p(n){return"\\"+Pn[n]}function h(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function v(n){return!!n&&"object"==typeof n}function _(n){return n<=160&&n>=9&&n<=13||32==n||160==n||5760==n||6158==n||n>=8192&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function g(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=D,i[++u]=r);return i}function y(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function d(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function w(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function m(n){return Dn[n]}function x(_){function Bn(n){if(v(n)&&!Cf(n)&&!(n instanceof Mn)){if(n instanceof Dn)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new Dn(n)}function zn(){}function Dn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function Mn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function qn(){var n=new Mn(this.__wrapped__);return n.__actions__=et(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=et(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=et(this.__views__),n}function Pn(){if(this.__filtered__){var n=new Mn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=t<0,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=Ao(a,this.__takeCount__);if(!r||u<T||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&p<h;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,w=y.type,m=d(g);if(w==B)g=m;else if(!m){if(w==L)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?b:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Qn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function nt(n,t){var r=n.data;return("string"==typeof t||$u(t)?r.set.has(t):r.hash[t])?0:-1}function tt(n){var t=this.data;"string"==typeof n||$u(n)?t.set.add(n):t.hash[n]=!0}function rt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function et(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function it(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===b?t:n}function gt(n,t,r,e){return n!==b&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==b||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:mt(t,Df(t),n)}function wt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];f[r]=u?Hr(a,i)?n[a]:b:e?b:n[a]}return f}function mt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function xt(n,t,r){var e=typeof n;return"function"==e?t===b?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===b?Wi(n):Dt(n,t)}function bt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==b)return f;if(!$u(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return et(n,f)}else{var c=ro.call(n),l=c==Y;if(c!=J&&c!=M&&(!l||u))return Ln[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:Ut)(n,function(e,u){f[u]=bt(e,t,r,u,n,i,o)}),f}function At(n,t,r){if("function"!=typeof n)throw new Ji(z);return so(function(){n.apply(b,r)},t)}function jt(n,t){var e=n?n.length:0,u=[];if(!e)return u;var i=-1,o=qr(),f=o==r,a=f&&t.length>=T?_r(t):null,c=t.length;a&&(o=nt,f=!1,t=a);n:for(;++i<e;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;u.push(l)}else o(t,l,0)<0&&u.push(l)}return u}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,r<0&&(r=-r>u?0:u+r),e=e===b||e>u?u:+e||0,e<0&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){if(t(n,r,i))return u=e?r:n,!1}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];v(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function St(n,t){return Lo(n,t,ni)}function Ut(n,t){return Lo(n,t,Df)}function Wt(n,t){return Bo(n,t,Df)}function $t(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Wu(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==b&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&e<u;)n=n[t[e++]];return e&&e==u?n:b}}function Nt(n,t,r,e,u,i){return n===t||(null==n||null==t||!$u(n)&&!v(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i))}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=q,l=q;f||(c=ro.call(n),c==M?c=J:c!=J&&(f=qu(n))),a||(l=ro.call(t),l==M?l=J:l!=J&&(a=qu(t)));var s=c==J,p=l==J,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===b&&!(f in n))return!1}else{var l=r?r(a,c,f):b;if(!(l===b?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&(n[r]===e&&(e!==b||r in se(n)))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(null==(i=1==n.length?i:Ft(i,Jt(n,0,-1))))return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==b||o in i:Nt(t,i[o],b,!0)}}function Mt(n,t,r,e,u){if(!$u(n))return n;var i=Zr(t)&&(Cf(t)||qu(t)),o=i?b:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),v(f))e||(e=[]),u||(u=[]),qt(n,t,a,Mt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):b,s=l===b;s&&(l=f),l===b&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function qt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):b,s=l===b;s&&(l=a,Zr(a)&&(Cf(a)||qu(a))?l=Cf(c)?c:Zr(c)?et(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?b:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,t<0&&(t=-t>u?0:u+t),r=r===b||r>u?u:+r||0,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;return t=ct(t,function(n){return e(n)}),Zt(Bt(n,function(n){return{criteria:ct(t,function(t){return t(n)}),index:++u,value:n}}),function(n,t){return a(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var e=-1,u=qr(),i=n.length,o=u==r,f=o&&i>=T,a=f?_r():null,c=[];a?(u=nt,o=!1):(f=!1,a=t?[]:c);n:for(;++e<i;){var l=n[e],s=t?t(l,e,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else u(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof Mn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=So){for(;e<u;){var i=e+u>>>1,o=n[i];(r?o<=t:o<t)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===b;u<i;){var c=yo((u+i)/2),l=r(n[c]),s=l!==b,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null!=l&&(e?l<=t:l<t);h?u=c+1:i=c}return Ao(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===b)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength);return new ho(t).set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=bo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=bo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:b,o=u>2?r[2]:b,f=u>1?r[u-1]:b;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:b,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=u<3?b:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?Mo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(!1===r(u[a],a,u))break}return t}}function vr(n,t){function r(){return(this&&this!==Zn&&this instanceof r?e:n).apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Qn(n):null}function gr(n){return function(t){for(var r=-1,e=ji(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return $u(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=b);var i=Tr(r,n,b,b,b,b,b,e);return i.placeholder=t.placeholder,i}return t}function wr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(b,r))})}function mr(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=b),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function xr(n,r){return function(e,u,i){if(u=Dr(u,i,3),Cf(e)){var o=t(e,u,r);return o>-1?e[o]:b}return Et(e,u,n)}}function br(n){return function(r,e,u){return r&&r.length?(e=Dr(e,u,3),t(r,e,n)):-1}}function Ar(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function jr(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(z);!t&&Dn.prototype.thru&&"wrapper"==Mr(o)&&(t=new Dn([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=Mr(o),a="wrapper"==f?Do(o):b;t=a&&te(a[0])&&a[1]==(S|R|E|U)&&!a[4].length&&1==a[9]?t[Mr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=T)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===b&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return"function"==typeof r&&e===b||(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return"function"==typeof r&&e===b||(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),Ut(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=u(t),(n?t:"")+Wr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=g(e,t.placeholder);return Tr(r,n,b,e,u)});return t}function Sr(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===b&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function Ur(n,t,r,e,u,i,o,f,a,c){function l(){for(var w=arguments.length,m=w,x=zi(w);m--;)x[m]=arguments[m];if(e&&(x=ar(x,e,u)),i&&(x=cr(x,i,o)),v||y){var A=l.placeholder,I=g(x,A);if((w-=I.length)<c){var R=f?et(f):b,O=bo(c-w,0),S=v?I:b,U=v?b:I,W=v?x:b,$=v?b:x;t|=v?E:C,t&=~(v?C:E),_||(t&=~(j|k));var F=[n,t,r,W,S,$,U,R,a,O],N=Ur.apply(b,F);return te(n)&&qo(N,F),N.placeholder=A,N}}var T=p?r:this,L=h?T[n]:n;return f&&(x=ae(x,f)),s&&a<x.length&&(x.length=a),this&&this!==Zn&&this instanceof l&&(L=d||yr(n)),L.apply(T,x)}var s=t&S,p=t&j,h=t&k,v=t&R,_=t&I,y=t&O,d=h?b:yr(n);return l}function Wr(n,t,r){var e=n.length;if(t=+t,e>=t||!mo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function $r(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];return(this&&this!==Zn&&this instanceof u?o:n).apply(i?r:this,l)}var i=t&j,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===b?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===xt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&k;if(!a&&"function"!=typeof n)throw new Ji(z);var c=e?e.length:0;if(c||(t&=~(E|C),e=u=b),c-=u?u.length:0,t&C){var l=e,s=u;e=u=b}var p=a?b:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:bo(f-c,0)||0,t==j)var v=vr(h[0],h[2]);else v=t!=E&&t!=(j|E)||h[4].length?Ur.apply(b,h):$r.apply(b,h);return(p?zo:qo)(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):b;if(p!==b){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case P:case K:return+n==+t;case V:return n.name==t.name&&n.message==t.message;case G:return n!=+n?t!=+t:n==+t;case X:case Z:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length;if(a!=Df(t).length&&!u)return!1;for(var c=a;c--;){var l=f[c];if(!(u?l in t:no.call(t,l)))return!1}for(var s=u;++c<a;){l=f[c];var p=n[l],h=t[l],v=e?e(u?h:p,u?p:h,l):b;if(!(v===b?r(p,h,e,u,i,o):v))return!1;s||(s="constructor"==l)}if(!s){var _=n.constructor,g=t.constructor;if(_!=g&&"constructor"in n&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g))return!1}return!0}function Dr(n,t,r){var e=Bn.callback||ki;return e=e===ki?xt:e,r?e(n,t,r):e}function Mr(n){for(var t=n.name,r=$o[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function qr(n,t,e){var u=Bn.indexOf||je;return u=u===je?r:u,n?u(n,t,e):u}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?b:n[t];return Tu(r)?r:b}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Ao(t,n+o);break;case"takeRight":n=bo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case H:return fr(n);case P:case K:return new e(+n);case Q:case nn:case tn:case rn:case en:case un:case on:case fn:case an:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case G:case Z:return new e(n);case X:var i=new e(n.source,Rn.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?b:e.apply(n,r)}function Zr(n){return null!=n&&re(Mo(n))}function Hr(n,t){return n="number"==typeof n||Cn.test(n)?+n:-1,t=null==t?Uo:t,n>-1&&n%1==0&&n<t}function Qr(n,t,r){if(!$u(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;return!!("string"==r&&mn.test(n)||"number"==r)||!Cf(n)&&(!wn.test(n)||null!=t&&n in se(t))}function te(n){var t=Mr(n);if(!(t in Mn.prototype))return!1;var r=Bn[t];if(n===r)return!0;var e=Do(r);return!!e&&n===e[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Uo}function ee(n){return n===n&&!$u(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=u<S,o=e==S&&r==R||e==S&&r==U&&n[7].length<=t[8]||e==(S|U)&&r==R;if(!i&&!o)return n;e&j&&(n[2]=t[2],u|=r&j?0:I);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):et(f),n[4]=a?g(n[3],D):et(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):et(f),n[6]=a?g(n[5],D):et(t[6])),f=t[7],f&&(n[7]=et(f)),e&S&&(n[8]=null==n[8]?t[8]:Ao(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===b?t:Sf(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return St(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=Ao(t.length,r),u=et(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:b}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?$u(n)?n:Vi(n):ii(n)}function se(n){return $u(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return u(n).replace(xn,function(n,r,e,u){t.push(e?u.replace(kn,"$1"):r||n)}),t}function he(n){return n instanceof Mn?n.clone():new Dn(n.__wrapped__,n.__chain__,et(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:bo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));e<u;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,t<0?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,t<0?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function we(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function me(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function xe(n){return n?n[0]:b}function be(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function Ae(n){return(n?n.length:0)?Ct(n,!0):[]}function je(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=e<0?bo(u+e,0):e;else if(e){var i=ur(n,t);return i<u&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return r(n,t,e||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:b}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(r<0?bo(e+r,0):Ao(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return h(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=qr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function Se(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function Ue(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,t<0?0:t)):[]}function We(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,t<0?0:t)):[]}function $e(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,e,u){if(!(n?n.length:0))return[];null!=t&&"boolean"!=typeof t&&(u=e,e=Qr(n,t,u)?b:t,t=!1);var i=Dr();return null==e&&i===xt||(e=i(e,u,3)),t&&qr()==r?y(n,e):nr(n,e)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){if(Zr(n))return r=bo(n.length,r),!0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){if(!(n?n.length:0))return[];var e=Te(n);return null==t?e:(t=or(t,r,4),ct(e,function(n){return st(n,t,b,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(jt(e,r),jt(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=Bn(n);return t.__chain__=!0,t}function Me(n,t,r){return t.call(r,n),n}function qe(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new Dn(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof zn;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof Mn){var r=n;return this.__actions__.length&&(r=new Mn(this)),r=r.reverse(),r.__actions__.push({func:qe,args:[t],thisArg:b}),new Dn(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=b),"function"==typeof t&&r===b||(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?Mo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:r<0?bo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&Mu(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&qr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Wi(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:b}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=Ao(t<0?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?Mo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=b),"function"==typeof t&&r===b||(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=b);var e=-1;return t=Dr(t,r,3),Zt(Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}}),f)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=b),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var r=n;n=t,t=r}return n=mo(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=n&&null==t?n.length:bo(+t||0,0),Tr(n,S,b,b,b,b,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=b),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=b}function u(t,r){r&&oo(r),c=h=v=b,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=b))}function i(){var n=t-(gf()-s);n<=0||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),!1===g)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=e<=0||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=b),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(z);if(t=t<0?0:+t||0,!0===r){var d=!0;y=!1}else $u(r)&&(d=!!r.leading,g="maxWait"in r&&bo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(z);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(z);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(z);return t=bo(t===b?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(z);return function(t){return n.apply(this,t)}}function wu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(z);return!1===r?e=!1:$u(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function mu(n,t){return t=null==t?Ri:t,Tr(t,E,b,[n],[])}function xu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?bt(n,t,or(r,e,1)):bt(n,t)}function bu(n,t,r){return"function"==typeof t?bt(n,!0,or(t,r,1)):bt(n,!0)}function Au(n,t){return n>t}function ju(n,t){return n>=t}function ku(n){return v(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return!0===n||!1===n||v(n)&&ro.call(n)==P}function Ru(n){return v(n)&&ro.call(n)==K}function Ou(n){return!!n&&1===n.nodeType&&v(n)&&!zu(n)}function Eu(n){return null==n||(Zr(n)&&(Cf(n)||Mu(n)||ku(n)||v(n)&&Wu(n.splice))?!n.length:!Df(n).length)}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):b;var u=r?r(n,t):b;return u===b?Nt(n,t,r):!!u}function Su(n){return v(n)&&"string"==typeof n.message&&ro.call(n)==V}function Uu(n){return"number"==typeof n&&mo(n)}function Wu(n){return $u(n)&&ro.call(n)==Y}function $u(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):b,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null!=n&&(Wu(n)?uo.test(Qi.call(n)):v(n)&&En.test(n))}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||v(n)&&ro.call(n)==G}function zu(n){var t;if(!v(n)||ro.call(n)!=J||ku(n)||!no.call(n,"constructor")&&"function"==typeof(t=n.constructor)&&!(t instanceof t))return!1;var r;return St(n,function(n,t){r=t}),r===b||no.call(n,r)}function Du(n){return $u(n)&&ro.call(n)==X}function Mu(n){return"string"==typeof n||v(n)&&ro.call(n)==Z}function qu(n){return v(n)&&re(n.length)&&!!Tn[ro.call(n)]}function Pu(n){return n===b}function Ku(n,t){return n<t}function Vu(n,t){return n<=t}function Yu(n){var t=n?Mo(n):0;return re(t)?t?et(n):[]:ii(n)}function Gu(n){return mt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=b),t?dt(e,t):e}function Xu(n){return $t(n,ni(n))}function Zu(n,t,r){var e=null==n?b:Ft(n,pe(t),t+"");return e===b?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),null==(n=1==t.length?n:Ft(n,Jt(t,0,-1))))return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=b);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];$u(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?b:n[t];return e===b&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?b:n[Ie(t)]),e=e===b?r:e),Wu(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];$u(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||qu(n);if(t=Dr(t,e,4),null==r)if(u||$u(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Wu(i)?i.prototype:b)}else r={};return(u?ut:Ut)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===b?(r=t,t=0):r=+r||0,n>=Ao(t,r)&&n<bo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=b);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return Ao(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)}function li(n){return(n=u(n))&&n.replace(Sn,c).replace(jn,"")}function si(n,t,r){n=u(n),t+="";var e=n.length;return r=r===b?e:Ao(r<0?0:+r||0,e),
(r-=t.length)>=0&&n.indexOf(t,r)==r}function pi(n){return n=u(n),n&&_n.test(n)?n.replace(hn,l):n}function hi(n){return n=u(n),n&&An.test(n)?n.replace(bn,s):n||"(?:)"}function vi(n,t,r){n=u(n),t=+t;var e=n.length;if(e>=t||!mo(t))return n;var i=(t-e)/2,o=yo(i);return r=Wr("",_o(i),r),r.slice(0,o)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=wi(n),ko(n,t||(On.test(n)?16:10))}function gi(n,t){var r="";if(n=u(n),(t=+t)<1||!n||!mo(t))return r;do{t%2&&(r+=n),t=yo(t/2),n+=n}while(t);return r}function yi(n,t,r){return n=u(n),r=null==r?0:Ao(r<0?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,r){var e=Bn.templateSettings;r&&Qr(n,t,r)&&(t=r=b),n=u(n),t=yt(dt({},r||t),e,gt);var i,o,f=yt(dt({},t.imports),e.imports,gt),a=Df(f),c=tr(f,a),l=0,s=t.interpolate||Un,h="__p += '",v=Yi((t.escape||Un).source+"|"+s.source+"|"+(s===dn?In:Un).source+"|"+(t.evaluate||Un).source+"|$","g"),_="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Nn+"]")+"\n";n.replace(v,function(t,r,e,u,f,a){return e||(e=u),h+=n.slice(l,a).replace(Wn,p),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(cn,""):h).replace(ln,"$1").replace(sn,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Hf(function(){return qi(a,_+"return "+h).apply(b,c)});if(y.source=h,Su(y))throw y;return y}function wi(n,t,r){var e=n;return(n=u(n))?(r?Qr(e,t,r):null==t)?n.slice(d(n),w(n)+1):(t+="",n.slice(i(n,t),o(n,t)+1)):n}function mi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(d(n)):n.slice(i(n,t+"")):n}function xi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,w(n)+1):n.slice(0,o(n,t+"")+1):n}function bi(n,t,r){r&&Qr(n,t,r)&&(t=b);var e=W,i=$;if(null!=t)if($u(t)){var o="separator"in t?t.separator:o;e="length"in t?+t.length||0:e,i="omission"in t?u(t.omission):i}else e=+t||0;if(n=u(n),e>=n.length)return n;var f=e-i.length;if(f<1)return i;var a=n.slice(0,f);if(null==o)return a+i;if(Du(o)){if(n.slice(f).search(o)){var c,l,s=n.slice(0,f);for(o.global||(o=Yi(o.source,(Rn.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(o,f)!=f){var p=a.lastIndexOf(o);p>-1&&(a=a.slice(0,p))}return a+i}function Ai(n){return n=u(n),n&&vn.test(n)?n.replace(pn,m):n}function ji(n,t,r){return r&&Qr(n,t,r)&&(t=b),n=u(n),n.match(t||$n)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=b),v(n)?Oi(n):xt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(bt(n,!0))}function Ei(n,t){return Dt(n,bt(t,!0))}function Ci(n,t,r){if(null==r){var e=$u(t),u=e?Df(t):b,i=u&&u.length?$t(t,u):b;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=$t(t,Df(t)));var o=!0,f=-1,a=Wu(n),c=i.length;!1===r?o=!1:$u(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=et(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Si(){return Zn._=eo,this}function Ui(){}function Wi(n){return ne(n)?Pt(n):Kt(n)}function $i(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=b),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=bo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if((n=yo(n))<1||!mo(n))return[];var e=-1,u=zi(Ao(n,Eo));for(t=or(t,r,1);++e<n;)e<Eo?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return u(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}_=_?Hn.defaults(Zn.Object(),_,Hn.pick(Zn,Fn)):Zn;var zi=_.Array,Di=_.Date,Mi=_.Error,qi=_.Function,Pi=_.Math,Ki=_.Number,Vi=_.Object,Yi=_.RegExp,Gi=_.String,Ji=_.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=qi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=Zn._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=_.ArrayBuffer,oo=_.clearTimeout,fo=_.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(_,"Set"),so=_.setTimeout,po=Xi.splice,ho=_.Uint8Array,vo=Kr(_,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,wo=Kr(zi,"isArray"),mo=_.isFinite,xo=Kr(Vi,"keys"),bo=Pi.max,Ao=Pi.min,jo=Kr(Di,"now"),ko=_.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,So=Eo>>>1,Uo=9007199254740991,Wo=vo&&new vo,$o={};Bn.support={};Bn.templateSettings={escape:gn,evaluate:yn,interpolate:dn,variable:"",imports:{_:Bn}};var Fo=function(){function n(){}return function(t){if($u(t)){n.prototype=t;var r=new n;n.prototype=b}return r||{}}}(),No=pr(Ut),To=pr(Wt,!0),Lo=hr(),Bo=hr(!0),zo=Wo?function(n,t){return Wo.set(n,t),n}:Ri,Do=Wo?function(n){return Wo.get(n)}:Ui,Mo=Pt("length"),qo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=N-(u-t);if(t=u,i>0){if(++n>=F)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return v(n)&&Zr(n)?jt(n,Ct(t,!1,!0)):[]}),Ko=br(),Vo=br(!0),Yo=yu(function(n){for(var t=n.length,e=t,u=zi(s),i=qr(),o=i==r,f=[];e--;){var a=n[e]=Zr(a=n[e])?a:[];u[e]=o&&a.length>=120?_r(e&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=u[0];n:for(;++l<s;)if(a=c[l],(p?nt(p,a):i(f,a,0))<0){for(var e=t;--e;){var h=u[e];if((h?nt(h,a):i(n[e],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=wt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?jt(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:b,e=t>1?n[t-1]:b;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):b,e=b),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return rt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return wt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=xr(No),of=xr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:b;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=Sr(st,No),vf=Sr(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=jo||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=j;if(r.length){var u=g(r,yf.placeholder);e|=E}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],j,n)}return n}),wf=yu(function(n,t,r){var e=j|k;if(r.length){var u=g(r,wf.placeholder);e|=E}return Tr(t,e,n,r,u)}),mf=dr(R),xf=dr(O),bf=yu(function(n,t){return At(n,1,t)}),Af=yu(function(n,t,r){return At(n,t,r)}),jf=jr(),kf=jr(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,e))throw new Ji(z);var r=t.length;return yu(function(e){for(var u=Ao(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr(E),Of=Cr(C),Ef=yu(function(n,t){return Tr(n,U,b,b,b,Ct(t))}),Cf=wo||function(n){return v(n)&&re(n.length)&&ro.call(n)==q},Sf=sr(Mt),Uf=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Wf=wr(Uf,_t),$f=wr(Sf,ie),Ff=Ar(Ut),Nf=Ar(Wt),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr(Ut),zf=Rr(Wt),Df=xo?function(n){var t=null==n?b:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):$u(n)?xo(n):[]}:ce,Mf=Or(!0),qf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,jt(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(b,t)}catch(n){return Su(n)?n:new Mi(n)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=mr(Au,Ro),ua=mr(Ku,Oo),ia=Fr("round");return Bn.prototype=zn.prototype,Dn.prototype=Fo(zn.prototype),Dn.prototype.constructor=Dn,Mn.prototype=Fo(zn.prototype),Mn.prototype.constructor=Mn,Vn.prototype.delete=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Qn.prototype.push=tt,vu.Cache=Vn,Bn.after=lu,Bn.ary=su,Bn.assign=Uf,Bn.at=rf,Bn.before=pu,Bn.bind=yf,Bn.bindAll=df,Bn.bindKey=wf,Bn.callback=ki,Bn.chain=De,Bn.chunk=ve,Bn.compact=_e,Bn.constant=Ii,Bn.countBy=ef,Bn.create=Ju,Bn.curry=mf,Bn.curryRight=xf,Bn.debounce=hu,Bn.defaults=Wf,Bn.defaultsDeep=$f,Bn.defer=bf,Bn.delay=Af,Bn.difference=Po,Bn.drop=ge,Bn.dropRight=ye,Bn.dropRightWhile=de,Bn.dropWhile=we,Bn.fill=me,Bn.filter=Ze,Bn.flatten=be,Bn.flattenDeep=Ae,Bn.flow=jf,Bn.flowRight=kf,Bn.forEach=ff,Bn.forEachRight=af,Bn.forIn=Tf,Bn.forInRight=Lf,Bn.forOwn=Bf,Bn.forOwnRight=zf,Bn.functions=Xu,Bn.groupBy=cf,Bn.indexBy=lf,Bn.initial=ke,Bn.intersection=Yo,Bn.invert=Qu,Bn.invoke=sf,Bn.keys=Df,Bn.keysIn=ni,Bn.map=nu,Bn.mapKeys=Mf,Bn.mapValues=qf,Bn.matches=Oi,Bn.matchesProperty=Ei,Bn.memoize=vu,Bn.merge=Sf,Bn.method=Qf,Bn.methodOf=na,Bn.mixin=Ci,Bn.modArgs=If,Bn.negate=_u,Bn.omit=Pf,Bn.once=gu,Bn.pairs=ti,Bn.partial=Rf,Bn.partialRight=Of,Bn.partition=pf,Bn.pick=Kf,Bn.pluck=tu,Bn.property=Wi,Bn.propertyOf=$i,Bn.pull=Oe,Bn.pullAt=Go,Bn.range=Fi,Bn.rearg=Ef,Bn.reject=ru,Bn.remove=Ee,Bn.rest=Ce,Bn.restParam=yu,Bn.set=ei,Bn.shuffle=uu,Bn.slice=Se,Bn.sortBy=fu,Bn.sortByAll=_f,Bn.sortByOrder=au,Bn.spread=du,Bn.take=Ue,Bn.takeRight=We,Bn.takeRightWhile=$e,Bn.takeWhile=Fe,Bn.tap=Me,Bn.throttle=wu,Bn.thru=qe,Bn.times=Ni,Bn.toArray=Yu,Bn.toPlainObject=Gu,Bn.transform=ui,Bn.union=Zo,Bn.uniq=Ne,Bn.unzip=Te,Bn.unzipWith=Le,Bn.values=ii,Bn.valuesIn=oi,Bn.where=cu,Bn.without=Ho,Bn.wrap=mu,Bn.xor=Be,Bn.zip=Qo,Bn.zipObject=ze,Bn.zipWith=nf,Bn.backflow=kf,Bn.collect=nu,Bn.compose=kf,Bn.each=ff,Bn.eachRight=af,Bn.extend=Uf,Bn.iteratee=ki,Bn.methods=Xu,Bn.object=ze,Bn.select=Ze,Bn.tail=Ce,Bn.unique=Ne,Ci(Bn,Bn),Bn.add=Li,Bn.attempt=Hf,Bn.camelCase=Vf,Bn.capitalize=ci,Bn.ceil=ta,Bn.clone=xu,Bn.cloneDeep=bu,Bn.deburr=li,Bn.endsWith=si,Bn.escape=pi,Bn.escapeRegExp=hi,Bn.every=Xe,Bn.find=uf,Bn.findIndex=Ko,Bn.findKey=Ff,Bn.findLast=of,Bn.findLastIndex=Vo,Bn.findLastKey=Nf,Bn.findWhere=He,Bn.first=xe,Bn.floor=ra,Bn.get=Zu,Bn.gt=Au,Bn.gte=ju,Bn.has=Hu,Bn.identity=Ri,Bn.includes=Qe,Bn.indexOf=je,Bn.inRange=fi,Bn.isArguments=ku,Bn.isArray=Cf,Bn.isBoolean=Iu,Bn.isDate=Ru,Bn.isElement=Ou,Bn.isEmpty=Eu,Bn.isEqual=Cu,Bn.isError=Su,Bn.isFinite=Uu,Bn.isFunction=Wu,Bn.isMatch=Fu,Bn.isNaN=Nu,Bn.isNative=Tu,Bn.isNull=Lu,Bn.isNumber=Bu,Bn.isObject=$u,Bn.isPlainObject=zu,Bn.isRegExp=Du,Bn.isString=Mu,Bn.isTypedArray=qu,Bn.isUndefined=Pu,Bn.kebabCase=Yf,Bn.last=Ie,Bn.lastIndexOf=Re,Bn.lt=Ku,Bn.lte=Vu,Bn.max=ea,Bn.min=ua,Bn.noConflict=Si,Bn.noop=Ui,Bn.now=gf,Bn.pad=vi,Bn.padLeft=Gf,Bn.padRight=Jf,Bn.parseInt=_i,Bn.random=ai,Bn.reduce=hf,Bn.reduceRight=vf,Bn.repeat=gi,Bn.result=ri,Bn.round=ia,Bn.runInContext=x,Bn.size=iu,Bn.snakeCase=Xf,Bn.some=ou,Bn.sortedIndex=Jo,Bn.sortedLastIndex=Xo,Bn.startCase=Zf,Bn.startsWith=yi,Bn.sum=Bi,Bn.template=di,Bn.trim=wi,Bn.trimLeft=mi,Bn.trimRight=xi,Bn.trunc=bi,Bn.unescape=Ai,Bn.uniqueId=Ti,Bn.words=ji,Bn.all=Xe,Bn.any=ou,Bn.contains=Qe,Bn.eq=Cu,Bn.detect=uf,Bn.foldl=hf,Bn.foldr=vf,Bn.head=xe,Bn.include=Qe,Bn.inject=hf,Ci(Bn,function(){var n={};return Ut(Bn,function(t,r){Bn.prototype[r]||(n[r]=t)}),n}(),!1),Bn.sample=eu,Bn.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},Bn.VERSION=A,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Bn[n].placeholder=Bn}),ut(["drop","take"],function(n,t){Mn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new Mn(this);r=null==r?1:bo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=Ao(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},Mn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=B;Mn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");Mn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Mn.prototype[n]=function(){return this.__filtered__?new Mn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Wi;Mn.prototype[n]=function(n){return this[r](e(n))}}),Mn.prototype.compact=function(){return this.filter(Ri)},Mn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},Mn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||t<0)?new Mn(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==b&&(t=+t||0,r=t<0?r.dropRight(-t):r.take(t-n)),r)},Mn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},Mn.prototype.toArray=function(){return this.take(Oo)},Ut(Mn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=Bn[e?"take"+("last"==t?"Right":""):t];u&&(Bn.prototype[t]=function(){var t=e?[1]:arguments,i=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof Mn,c=t[0],l=a||Cf(o);l&&r&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return e&&i?u(n,1)[0]:u.apply(b,lt([n],t))},p={func:qe,args:[s],thisArg:b},h=a&&!f;if(e&&!i)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):u.call(b,this.value())[0];if(!e&&l){o=h?o:new Mn(this);var v=n.apply(o,t);return v.__actions__.push(p),new Dn(v,i)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);Bn.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),Ut(Mn.prototype,function(n,t){var r=Bn[t];if(r){var e=r.name;($o[e]||($o[e]=[])).push({name:t,func:r})}}),$o[Ur(b,k).name]=[{name:"wrapper",func:b}],Mn.prototype.clone=qn,Mn.prototype.reverse=Pn,Mn.prototype.value=Kn,Bn.prototype.chain=Pe,Bn.prototype.commit=Ke,Bn.prototype.concat=tf,Bn.prototype.plant=Ve,Bn.prototype.reverse=Ye,Bn.prototype.toString=Ge,Bn.prototype.run=Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=Je,Bn.prototype.collect=Bn.prototype.map,Bn.prototype.head=Bn.prototype.first,Bn.prototype.select=Bn.prototype.filter,Bn.prototype.tail=Bn.prototype.rest,Bn}var b,A="3.10.1",j=1,k=2,I=4,R=8,O=16,E=32,C=64,S=128,U=256,W=30,$="...",F=150,N=16,T=200,L=1,B=2,z="Expected a function",D="__lodash_placeholder__",M="[object Arguments]",q="[object Array]",P="[object Boolean]",K="[object Date]",V="[object Error]",Y="[object Function]",G="[object Number]",J="[object Object]",X="[object RegExp]",Z="[object String]",H="[object ArrayBuffer]",Q="[object Float32Array]",nn="[object Float64Array]",tn="[object Int8Array]",rn="[object Int16Array]",en="[object Int32Array]",un="[object Uint8Array]",on="[object Uint8ClampedArray]",fn="[object Uint16Array]",an="[object Uint32Array]",cn=/\b__p \+= '';/g,ln=/\b(__p \+=) '' \+/g,sn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pn=/&(?:amp|lt|gt|quot|#39|#96);/g,hn=/[&<>"'`]/g,vn=RegExp(pn.source),_n=RegExp(hn.source),gn=/<%-([\s\S]+?)%>/g,yn=/<%([\s\S]+?)%>/g,dn=/<%=([\s\S]+?)%>/g,wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,mn=/^\w*$/,xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,bn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,An=RegExp(bn.source),jn=/[\u0300-\u036f\ufe20-\ufe23]/g,kn=/\\(\\)?/g,In=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rn=/\w*$/,On=/^0[xX]/,En=/^\[object .+?Constructor\]$/,Cn=/^\d+$/,Sn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Un=/($^)/,Wn=/['\n\r\u2028\u2029\\]/g,$n=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Fn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Nn=-1,Tn={};Tn[Q]=Tn[nn]=Tn[tn]=Tn[rn]=Tn[en]=Tn[un]=Tn[on]=Tn[fn]=Tn[an]=!0,Tn[M]=Tn[q]=Tn[H]=Tn[P]=Tn[K]=Tn[V]=Tn[Y]=Tn["[object Map]"]=Tn[G]=Tn[J]=Tn[X]=Tn["[object Set]"]=Tn[Z]=Tn["[object WeakMap]"]=!1;var Ln={};Ln[M]=Ln[q]=Ln[H]=Ln[P]=Ln[K]=Ln[Q]=Ln[nn]=Ln[tn]=Ln[rn]=Ln[en]=Ln[G]=Ln[J]=Ln[X]=Ln[Z]=Ln[un]=Ln[on]=Ln[fn]=Ln[an]=!0,Ln[V]=Ln[Y]=Ln["[object Map]"]=Ln["[object Set]"]=Ln["[object WeakMap]"]=!1;var Bn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},zn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Dn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Mn={function:!0,object:!0},qn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Pn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kn=Mn[typeof exports]&&exports&&!exports.nodeType&&exports,Vn=Mn[typeof module]&&module&&!module.nodeType&&module,Yn=Kn&&Vn&&"object"==typeof global&&global&&global.Object&&global,Gn=Mn[typeof self]&&self&&self.Object&&self,Jn=Mn[typeof window]&&window&&window.Object&&window,Xn=Vn&&Vn.exports===Kn&&Kn,Zn=Yn||Jn!==(this&&this.window)&&Jn||Gn||this,Hn=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Zn._=Hn,define(function(){return Hn})):Kn&&Vn?Xn?(Vn.exports=Hn)._=Hn:Kn._=Hn:Zn._=Hn}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],52:[function(require,module,exports){
(function(){"use strict";function e(e,t,r){function n(e,t,r,n){e=""+e,r=r||" ";for(var a=e.length;a<t;)n?e+=r:e=r+e,a++;return e}function a(e,r,n){var i=e;if(t.isString(i)){if(e.length>r)if(n){var u=e.length;i=e.substring(u-r,u)}else i=e.substring(0,r)}else i=a(""+i,r);return i}function i(e,r,n){if(!t.isArray(e)||"function"!=typeof r)throw new TypeError;for(var a=Object(e),i=a.length>>>0,u=0;u<i;u++)if(u in a&&!r.call(n,a[u],u,a))return!1;return!0}function u(e,t){return F.difference(new Date(e.getFullYear(),0,1,e.getHours()),e,null,t)+1}function o(e,t,r){t=t||0;var n=e[r?"getUTCFullYear":"getFullYear"](),a=new Date(n,0,1).getDay(),i=(a-t+7)%7,o=c((u(e)+i-1)/7);return a===t&&o++,o}function s(e){var t=e.toString(),r="",n=t.indexOf("(");return n>-1&&(r=t.substring(++n,t.indexOf(")"))),r}function f(e,t){return e.replace(/([a-z])\1*/gi,function(e){var r,n=e.charAt(0),a=e.length;if("y"===n)r="\\d{2,4}";else if("M"===n)r=a>2?"\\S+?":"1[0-2]|0?[1-9]";else if("D"===n)r="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|0{0,2}[1-9][0-9]|0?[1-9]";else if("d"===n)r="3[01]|[12]\\d|0?[1-9]";else if("w"===n)r="[1-4][0-9]|5[0-3]|0?[1-9]";else if("E"===n)r="\\S+";else if("h"===n)r="1[0-2]|0?[1-9]";else if("K"===n)r="1[01]|0?\\d";else if("H"===n)r="1\\d|2[0-3]|0?\\d";else if("k"===n)r="1\\d|2[0-4]|0?[1-9]";else if("m"===n||"s"===n)r="[0-5]\\d";else if("S"===n)r="\\d{"+a+"}";else if("a"===n){var i="AM",u="PM";r=i+"|"+u,i!==i.toLowerCase()&&(r+="|"+i.toLowerCase()),u!==u.toLowerCase()&&(r+="|"+u.toLowerCase()),r=r.replace(/\./g,"\\.")}else r="v"===n||"z"===n||"Z"===n||"G"===n||"q"===n||"Q"===n?".*":" "===n?"\\s*":n+"*";return t&&t.push(e),"("+r+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}for(var l=function(){function e(e,t,r){return e=e.replace(/s$/,""),a.hasOwnProperty(e)?a[e](t,r):[r,"UTC"+e.charAt(0).toUpperCase()+e.substring(1)+"s",!1]}function t(e,t,r,a){return e=e.replace(/s$/,""),n(i[e](t,r,a))}var r=Math.floor,n=Math.round,a={day:function(e,t){return[t,"Date",!1]},weekday:function(e,t){var r,n,a=t%5,i=e.getDay(),u=0;a?(r=a,n=parseInt(t/5,10)):(r=t>0?5:-5,n=t>0?(t-5)/5:(t+5)/5),6===i&&t>0?u=1:0===i&&t<0&&(u=-1);var o=i+r;return 0!==o&&6!==o||(u=t>0?2:-2),[7*n+r+u,"Date",!1]},year:function(e,t){return[t,"FullYear",!0]},week:function(e,t){return[7*t,"Date",!1]},quarter:function(e,t){return[3*t,"Month",!0]},month:function(e,t){return[t,"Month",!0]}},i={quarter:function(e,t,n){var a=t.getFullYear()-e.getFullYear(),i=e[n?"getUTCMonth":"getMonth"](),u=t[n?"getUTCMonth":"getMonth"](),o=r(i/3)+1,s=r(u/3)+1;return(s+=4*a)-o},weekday:function(e,r,n){var a,i=t("day",e,r,n),u=i%7;if(0===u)i=5*t("week",e,r,n);else{var o=0,s=e[n?"getUTCDay":"getDay"](),f=r[n?"getUTCDay":"getDay"]();a=parseInt(i/7,10);var l=new Date(+e);l.setDate(l[n?"getUTCDate":"getDate"]()+7*a);var d=l[n?"getUTCDay":"getDay"]();i>0?6===s||6===f?o=-1:0===s?o=0:(0===f||d+u>5)&&(o=-2):i<0&&(6===s?o=0:0===s||0===f?o=1:(6===f||d+u<0)&&(o=2)),i+=o,i-=2*a}return i},year:function(e,t){return t.getFullYear()-e.getFullYear()},month:function(e,t,r){var n=e[r?"getUTCMonth":"getMonth"]();return t[r?"getUTCMonth":"getMonth"]()-n+12*(t.getFullYear()-e.getFullYear())},week:function(e,r,a){return n(t("day",e,r,a)/7)},day:function(e,t){return 1.1574074074074074e-8*(t.getTime()-e.getTime())},hour:function(e,t){return 2.7777777777777776e-7*(t.getTime()-e.getTime())},minute:function(e,t){return 16666666666666667e-21*(t.getTime()-e.getTime())},second:function(e,t){return.001*(t.getTime()-e.getTime())},millisecond:function(e,t){return t.getTime()-e.getTime()}};return{addTransform:e,differenceTransform:t}}(),d=l.addTransform,g=l.differenceTransform,c=Math.floor,h=Math.round,y=Math.min,D=Math.pow,p=Math.ceil,m=Math.abs,v=["January","February","March","April","May","June","July","August","September","October","November","December"],M=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C=["Before Christ","Anno Domini"],x=["BC","AD"],F={getDaysInMonth:function(e){var t=e.getMonth(),r=[31,28,31,30,31,30,31,31,30,31,30,31];return 1===t&&F.isLeapYear(e)?29:r[t]},isLeapYear:function(e,t){var r=e[t?"getUTCFullYear":"getFullYear"]();return r%400==0||r%4==0&&r%100!=0},isWeekend:function(e,t){var r=(e||new Date)[t?"getUTCDay":"getDay"]();return 0===r||6===r},getTimezoneName:s,compare:function(e,t,r){return e=new Date(+e),t=new Date(+(t||new Date)),"date"===r?(e.setHours(0,0,0,0),t.setHours(0,0,0,0)):"time"===r&&(e.setFullYear(0,0,0),t.setFullYear(0,0,0)),e>t?1:e<t?-1:0},add:function(e,t,r){var n=d(t,e,r||0);r=n[0];var a=n[1],i=new Date(+e),u=n[2];return a&&i["set"+a](i["get"+a]()+r),u&&i.getDate()<e.getDate()&&i.setDate(0),i},difference:function(e,t,r,n){return t=t||new Date,r=r||"day",g(r,e,t,n)},format:function(e,t,r){r=r||!1;var i,f,l,d,g,y,F,U;return r?(i=e.getUTCFullYear(),f=e.getUTCMonth(),l=e.getUTCDay(),d=e.getUTCDate(),g=e.getUTCHours(),y=e.getUTCMinutes(),F=e.getUTCSeconds(),U=e.getUTCMilliseconds()):(i=e.getFullYear(),f=e.getMonth(),d=e.getDate(),l=e.getDay(),g=e.getHours(),y=e.getMinutes(),F=e.getSeconds(),U=e.getMilliseconds()),t.replace(/([A-Za-z])\1*/g,function(t){var Y,S,b=t.charAt(0),A=t.length;if("d"===b)Y=""+d,S=!0;else if("H"!==b||Y)if("m"!==b||Y)if("s"===b)Y||(Y=""+F),S=!0;else if("G"===b)Y=(A<4?x:C)[i<0?0:1];else if("y"===b)Y=i,A>1&&(2===A?Y=a(""+Y,2,!0):S=!0);else if("Q"===b.toUpperCase())Y=p((f+1)/3),S=!0;else if("M"===b)A<3?(Y=f+1,S=!0):Y=(3===A?M:v)[f];else if("w"===b)Y=o(e,0,r),S=!0;else if("D"===b)Y=u(e,r),S=!0;else if("E"===b)A<3?(Y=l+1,S=!0):Y=(-3===A?w:T)[l];else if("a"===b)Y=g<12?"AM":"PM";else if("h"===b)Y=g%12||12,S=!0;else if("K"===b)Y=g%12,S=!0;else if("k"===b)Y=g||24,S=!0;else if("S"===b)Y=h(U*D(10,A-3)),S=!0;else if("z"===b||"v"===b||"Z"===b){if(Y=s(e),"z"!==b&&"v"!==b||Y||(A=4),!Y||"Z"===b){var O=e.getTimezoneOffset(),L=[O>=0?"-":"+",n(c(m(O)/60),2,"0"),n(m(O)%60,2,"0")];4===A&&(L.splice(0,0,"GMT"),L.splice(3,0,":")),Y=L.join("")}}else Y=t;else Y=""+y,S=!0;else Y=""+g,S=!0;return S&&(Y=n(Y,A,"0")),Y})}},U={},Y=["year","month","day","hour","minute","second"],S=0,b=Y.length;S<b;S++)!function(e){U[e+"sFromNow"]=function(t){return F.add(new Date,e,t)},U[e+"sAgo"]=function(t){return F.add(new Date,e,-t)}}(Y[S]);var A={parseDate:function(e,t){if(!t)throw new Error("format required when calling dateExtender.parse");var n=[],a=f(t,n),u=new RegExp("^"+a+"$","i"),o=u.exec(e);if(!o)return null;var s=[1970,0,1,0,0,0,0],l="";if(i(o,function(e,t){if(t){var a=n[t-1],i=a.length,u=a.charAt(0);if("y"===u)if(e<100){e=parseInt(e,10);var o=""+(new Date).getFullYear(),f=100*o.substring(0,2),d=y(o.substring(2,4)+20,99);s[0]=e<d?f+e:f-100+e}else s[0]=e;else if("M"===u){if(i>2){var g,c,h=v;3===i&&(h=M),e=e.replace(".","").toLowerCase();var D=!1;for(g=0,c=h.length;g<c&&!D;g++){var p=h[g].replace(".","").toLocaleLowerCase();p===e&&(e=g,D=!0)}if(!D)return!1}else e--;s[1]=e}else if("E"===u||"e"===u){var m=T;3===i&&(m=w),e=e.toLowerCase(),m=r.map(m,function(e){return e.toLowerCase()});var C=r.indexOf(m,e);if(-1===C){if(e=parseInt(e,10),isNaN(e)||e>m.length)return!1}else e=C}else if("D"===u||"d"===u)"D"===u&&(s[1]=0),s[2]=e;else if("a"===u){var x=/\./g;e=e.replace(x,"").toLowerCase(),l="pm"===e?"p":"am"===e?"a":""}else"k"===u||"h"===u||"H"===u||"K"===u?("k"===u&&24==+e&&(e=0),s[3]=e):"m"===u?s[4]=e:"s"===u?s[5]=e:"S"===u&&(s[6]=e)}return!0})){var d=+s[3];"p"===l&&d<12?s[3]=d+12:"a"===l&&12===d&&(s[3]=0);var g=new Date(s[0],s[1],s[2],s[3],s[4],s[5],s[6]),c=-1!==r.indexOf(n,"d"),h=-1!==r.indexOf(n,"M"),D=s[1],p=s[2],m=g.getMonth(),C=g.getDate();return h&&m>D||c&&C>p?null:g}return null}},O=e.define(t.isDate,F).define(t.isString,A).define(t.isNumber,U);for(S in F)F.hasOwnProperty(S)&&(O[S]=F[S]);for(S in A)A.hasOwnProperty(S)&&(O[S]=A[S]);for(S in U)U.hasOwnProperty(S)&&(O[S]=U[S]);return O}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=e(require("extended"),require("is-extended"),require("array-extended"))):"function"==typeof define&&define.amd?define(["extended","is-extended","array-extended"],function(t,r,n){return e(t,r,n)}):this.dateExtended=e(this.extended,this.isExtended,this.arrayExtended)}).call(this);
},{"array-extended":6,"extended":55,"is-extended":81}],53:[function(require,module,exports){
!function(){function t(){function t(t,e){return e=e||0,P.call(t,e)}function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!==t&&void 0!==t&&"object"==typeof t}function n(t){return r(t)&&t.constructor===Object}function s(t,e){if(t&&t.length)for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function o(t,e,r){var n,o;for(n in e)e.hasOwnProperty(n)&&-1===s(r,n)&&(o=e[n],n in t&&t[n]===o||(t[n]=o));return t}function i(t,r){var n=this.__meta,s=n.supers,o=s.length,i=n.superMeta,_=i.pos;if(o>_){t=t?x(t)||e(t)?t:[t]:[];var u,a=i.name,c=i.f;do{if("function"==typeof(u=s[_][a])&&(u=u._f||u)!==c)return i.pos=1+_,u.apply(this,t)}while(o>++_)}return null}function _(){var t=this.__meta,e=t.supers,r=e.length,n=t.superMeta,s=n.pos;if(r>s){var o,i=n.name,_=n.f;do{if("function"==typeof(o=e[s][i])&&(o=o._f||o)!==_)return n.pos=1+s,o.bind(this)}while(r>++s)}return null}function u(t){var e=this.__getters__;return e.hasOwnProperty(t)?e[t].apply(this):this[t]}function a(e,r){var s=this.__setters__;if(!n(e))return s.hasOwnProperty(e)?s[e].apply(this,t(arguments,1)):this[e]=r;for(var o in e){var i=e[o];s.hasOwnProperty(o)?s[e].call(this,i):this[o]=i}}function c(){var t=this.__meta||{},e=t.supers,r=e.length,n=t.superMeta,s=n.pos;if(r>s){var o,i=n.name,_=n.f;do{if("function"==typeof(o=e[s][i])&&(o=o._f||o)!==_)return n.pos=1+s,o.apply(this,arguments)}while(r>++s)}return null}function p(t,e){if(t.toString().match(j)){var r=function(){var r,n=this.__meta||{},s=n.superMeta;switch(n.superMeta={f:t,pos:0,name:e},arguments.length){case 0:r=t.call(this);break;case 1:r=t.call(this,arguments[0]);break;case 2:r=t.call(this,arguments[0],arguments[1]);break;case 3:r=t.call(this,arguments[0],arguments[1],arguments[2]);break;default:r=t.apply(this,arguments)}return n.superMeta=s,r};return r._f=t,r}return t._f=t,t}function f(t,e){var r=e.setters||{},n=t.__setters__,s=t.__getters__;for(var o in r)n.hasOwnProperty(o)||(n[o]=r[o]);r=e.getters||{};for(o in r)s.hasOwnProperty(o)||(s[o]=r[o]);for(var i in e)if("getters"!==i&&"setters"!==i){var _=e[i];"function"==typeof _?t.hasOwnProperty(i)||(t[i]=p(c,i)):t[i]=_}}function l(){for(var e=t(arguments),r=e.length,n=this.prototype,s=n.__meta,o=this.__meta,i=n.__meta.bases,_=i.slice(),u=o.supers||[],a=s.supers||[],c=0;c<r;c++){var p=e[c],l=p.prototype,y=l.__meta,g=p.__meta;!y&&(y=l.__meta={proto:l||{}}),!g&&(g=p.__meta={proto:p.__proto__||{}}),f(n,y.proto||{}),f(this,g.proto||{}),h(p.prototype,a,i),h(p,u,_)}return this}function h(t,e,r){var n=t.__meta;!n&&(n=t.__meta={});var o=t.__meta.unique;if(!o&&(n.unique="declare"+ ++k),-1===s(r,o)){r.push(o);for(var i=t.__meta.supers||[],_=i.length-1||0;_>=0;)h(i[_--],e,r);e.unshift(t)}}function y(t,e){var r=e.setters,n=t.__setters__,s=t.__getters__;if(r)for(var o in r)n[o]=r[o];if(r=e.getters||{})for(o in r)s[o]=r[o];for(o in e)if("getters"!=o&&"setters"!=o){var i=e[o];if("function"==typeof i){var _=i.__meta||{};t[o]=_.isConstructor?i:p(i,o)}else t[o]=i}}function g(t,e){return t&&e?t[e]=this:t.exports=t=this,this}function m(t){return b(this,t)}function v(t){M.prototype=t.prototype;var e=new M;return M.prototype=null,e}function d(t,r,s){var u={},a=[],f="declare"+ ++k,g=[],m=[],d=[],b=[],w={supers:d,unique:f,bases:g,superMeta:{f:null,pos:0,name:null}},P={supers:b,unique:f,bases:m,isConstructor:!0,superMeta:{f:null,pos:0,name:null}};if(n(r)&&!s&&(s=r,r=O),"function"==typeof r||e(r)?(a=e(r)?r:[r],r=a.shift(),t.__meta=P,u=v(r),u.__meta=w,u.__getters__=o({},u.__getters__||{}),u.__setters__=o({},u.__setters__||{}),t.__getters__=o({},t.__getters__||{}),t.__setters__=o({},t.__setters__||{}),h(r.prototype,d,g),h(r,b,m)):(t.__meta=P,u.__meta=w,u.__getters__=u.__getters__||{},u.__setters__=u.__setters__||{},t.__getters__=t.__getters__||{},t.__setters__=t.__setters__||{}),t.prototype=u,s){var M=w.proto=s.instance||{},j=P.proto=s.static||{};j.init=j.init||c,y(u,M),y(t,j),M.hasOwnProperty("constructor")?u.constructor=p(M.constructor,"constructor"):u.constructor=M.constructor=p(c,"constructor")}else w.proto={},P.proto={},t.init=p(c,"init"),u.constructor=p(c,"constructor");a.length&&l.apply(t,a),r&&o(t,o(o({},r),t)),u._super=t._super=i,u._getSuper=t._getSuper=_,u._static=t}function b(t,e){function r(){switch(arguments.length){case 0:this.constructor.call(this);break;case 1:this.constructor.call(this,arguments[0]);break;case 2:this.constructor.call(this,arguments[0],arguments[1]);break;case 3:this.constructor.call(this,arguments[0],arguments[1],arguments[2]);break;default:this.constructor.apply(this,arguments)}}return d(r,t,e),r.init()||r}function w(t,e){function r(){return n||(this.constructor.apply(this,arguments),n=this),n}var n;return d(r,t,e),r.init()||r}var O,P=Array.prototype.slice,k=0,M=new Function,j=/(super)/g,x=function(t){return"[object Arguments]"===Object.prototype.toString.call(t)};return x(arguments)||(x=function(t){return!(!t||!t.hasOwnProperty("callee"))}),O=b({instance:{get:u,set:a},static:{get:u,set:a,mixin:l,extend:m,as:g}}),b.singleton=w,b}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=t()):"function"==typeof define&&define.amd?define(t):this.declare=t()}();
},{}],54:[function(require,module,exports){
module.exports=require("./declare.js");
},{"./declare.js":53}],55:[function(require,module,exports){
(function(){"use strict";function e(e){function n(){var n=e.define();return n.expose({register:function(e,t){t||(t=e,e=null);var r=typeof t;if(e)n[e]=t;else if(t&&"function"===r)n.extend(t);else{if("object"!==r)throw new TypeError("extended.register must be called with an extender function");n.expose(t)}return n},define:function(){return e.define.apply(e,arguments)}}),n}function t(){return n()}!function(){function e(e,n){var t,r;for(t in n)n.hasOwnProperty(t)&&(r=n[t],t in e&&e[t]===r||(e[t]=r));return e}}();return t.define=function(){return e.define.apply(e,arguments)},t}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=e(require("extender"))):"function"==typeof define&&define.amd?define(["extender"],function(n){return e(n)}):this.extended=e(this.extender)}).call(this);
},{"extender":57}],56:[function(require,module,exports){
(function(){function n(n){function e(n,e){if(n&&n.length)for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}function t(n){return"[object Array]"===Object.prototype.toString.call(n)}function r(e){function t(n,e,t){if("function"!=typeof t)throw new TypeError("when extending type you must provide a function");var r;r="constructor"===e?function(){this._super(arguments),t.apply(this,arguments)}:function(){var n=i.call(arguments);n.unshift(this._value);var e=t.apply(this,n);return e!==o?this.__extender__(e):this},n[e]=r}function r(n,e,t){if("function"!=typeof t)throw new TypeError("when extending type you must provide a function");var r;r="constructor"===e?function(){this._super(arguments),t.apply(this,arguments)}:function(){var n=i.call(arguments);return n.unshift(this._value),t.apply(this,n)},n[e]=r}function f(n,e,o){for(var i in e)e.hasOwnProperty(i)&&("getters"!==i&&"setters"!==i?"noWrap"===i?f(n,e[i],!0):o?r(n,i,e[i]):t(n,i,e[i]):n[i]=e[i])}function c(n){var e,t,r=n;if(!(n instanceof d)){var o=d;for(e=0,t=p.length;e<t;e++){var i=p[e];i[0](n)&&(o=o.extend({instance:i[1]}))}r=new o(n),r.__extender__=c}return r}function s(){return!0}function a(n,e){if(arguments.length){"object"==typeof n&&(e=n,n=s),e=e||{};var r={};f(r,e),r.hasOwnProperty("constructor")||(e.hasOwnProperty("constructor")?t(r,"constructor",e.constructor):r.constructor=function(){this._super(arguments)}),p.push([n,r])}return c}function _(n){return n&&n.hasOwnProperty("__defined__")&&(c.__defined__=p=p.concat(n.__defined__)),u(c,n,["define","extend","expose","__defined__"]),c}e=e||[];var d=n({instance:{constructor:function(n){this._value=n},value:function(){return this._value},eq:function(n){return this.__extender__(this._value===n)},neq:function(n){return this.__extender__(this._value!==n)},print:function(){return console.log(this._value),this}}}),p=[];return c.define=a,c.extend=_,c.expose=function(){for(var n,e=0,t=arguments.length;e<t;e++)"object"==typeof(n=arguments[e])&&u(c,n,["define","extend","expose","__defined__"]);return c},c.__defined__=p,c}var o,i=Array.prototype.slice,u=function(){function n(n,t,r){var o,i;for(o in t)t.hasOwnProperty(o)&&-1===e(r,o)&&(i=t[o],o in n&&n[o]===i||(n[o]=i));return n}return function(e){e||(e={});var r=arguments.length,o=arguments[arguments.length-1];t(o)?r--:o=[];for(var i=1;i<r;i++)n(e,arguments[i],o);return e}}();return{define:function(){return r().define.apply(r,arguments)},extend:function(n){return r().define().extend(n)}}}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=n(require("declare.js"))):"function"==typeof define&&define.amd?define(["declare"],function(e){return n(e)}):this.extender=n(this.declare)}).call(this);
},{"declare.js":54}],57:[function(require,module,exports){
module.exports=require("./extender.js");
},{"./extender.js":56}],58:[function(require,module,exports){
(function(){"use strict";function n(n,r,t){function e(n,r,t){var e;switch((r||[]).length){case 0:e=n.call(t);break;case 1:e=n.call(t,r[0]);break;case 2:e=n.call(t,r[0],r[1]);break;case 3:e=n.call(t,r[0],r[1],r[2]);break;default:e=n.apply(t,r)}return e}function i(n,r,t){if(t=b(arguments,2),h(r)&&!(r in n))throw new Error(r+" property not defined in scope");if(!h(r)&&!l(r))throw new Error(r+" is not a function");return h(r)?function(){var i=n[r];return l(i)?e(i,t.concat(b(arguments)),n):i}:t.length?function(){return e(r,t.concat(b(arguments)),n)}:function(){return e(r,arguments,n)}}function o(n,r){if(r=b(arguments,1),!h(n)&&!l(n))throw new Error(n+" must be the name of a property or function to execute");return h(n)?function(){var t=b(arguments),i=t.shift(),o=i[n];return l(o)?(t=r.concat(t),e(o,t,i)):o}:function(){var t=b(arguments),i=t.shift();return t=r.concat(t),e(n,t,i)}}function u(n,r,t){if(t=b(arguments,2),h(r)&&!(r in n))throw new Error(r+" property not defined in scope");if(!h(r)&&!l(r))throw new Error(r+" is not a function");return h(r)?function(){var i=n[r];return l(i)?e(i,t,n):i}:function(){return e(r,t,n)}}function c(n){var r=b(arguments,1);if(!p(n)&&!l(n))throw new TypeError("scope must be an object");if(1===r.length&&d(r[0])&&(r=r[0]),!r.length){r=[];for(var t in n)n.hasOwnProperty(t)&&l(n[t])&&r.push(t)}for(var e=0,o=r.length;e<o;e++)n[r[e]]=i(n,n[r[e]]);return n}function f(n,r){if(r=b(arguments,1),!h(n)&&!l(n))throw new Error(n+" must be the name of a property or function to execute");return h(n)?function(){var t=this[n];if(l(t)){return e(t,r.concat(b(arguments)),this)}return t}:function(){var t=r.concat(b(arguments));return e(n,t,this)}}function a(n,r){return function(){var t=b(arguments);return r?e(n,arguments,this):function(){return e(n,t.concat(b(arguments)),this)}}}function s(n,r,t){var e;if(e=t?i(t,r):r,n)for(var o=n-1,u=o;u>=0;u--)e=a(e,u===o);return e}var d=r.isArray,p=r.isObject,h=r.isString,l=r.isFunction,b=t.argsToArray;return n.define(p,{bind:i,bindAll:c,bindIgnore:u,curry:function(n,r,t){return s(r,t,n)}}).define(l,{bind:function(n,r){return e(i,[r,n].concat(b(arguments,2)),this)},bindIgnore:function(n,r){return e(u,[r,n].concat(b(arguments,2)),this)},partial:f,applyFirst:o,curry:function(n,r,t){return s(r,n,t)},noWrap:{f:function(){return this.value()}}}).define(h,{bind:function(n,r){return i(r,n)},bindIgnore:function(n,r){return u(r,n)},partial:f,applyFirst:o,curry:function(n,r,t){return s(r,n,t)}}).expose({bind:i,bindAll:c,bindIgnore:u,partial:f,applyFirst:o,curry:s})}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=n(require("extended"),require("is-extended"),require("arguments-extended"))):"function"==typeof define&&define.amd?define(["extended","is-extended","arguments-extended"],function(r,t,e){return n(r,t,e)}):this.functionExtended=n(this.extended,this.isExtended,this.argumentsExtended)}).call(this);
},{"arguments-extended":5,"extended":55,"is-extended":81}],59:[function(require,module,exports){
var lib=require("./lib");module.exports={Graph:lib.Graph,json:require("./lib/json"),alg:require("./lib/alg"),version:lib.version};
},{"./lib":75,"./lib/alg":66,"./lib/json":76}],60:[function(require,module,exports){
function components(e){function s(c){_.has(o,c)||(o[c]=!0,n.push(c),_.each(e.successors(c),s),_.each(e.predecessors(c),s))}var n,o={},c=[];return _.each(e.nodes(),function(e){n=[],s(e),n.length&&c.push(n)}),c}var _=require("../lodash");module.exports=components;
},{"../lodash":77}],61:[function(require,module,exports){
function dfs(o,r,s){_.isArray(r)||(r=[r]);var e=[],n={};return _.each(r,function(r){if(!o.hasNode(r))throw new Error("Graph does not have node: "+r);doDfs(o,r,"post"===s,n,e)}),e}function doDfs(o,r,s,e,n){_.has(e,r)||(e[r]=!0,s||n.push(r),_.each(o.neighbors(r),function(r){doDfs(o,r,s,e,n)}),s&&n.push(r))}var _=require("../lodash");module.exports=dfs;
},{"../lodash":77}],62:[function(require,module,exports){
function dijkstraAll(r,t,i){return _.transform(r.nodes(),function(s,a){s[a]=dijkstra(r,a,t,i)},{})}var dijkstra=require("./dijkstra"),_=require("../lodash");module.exports=dijkstraAll;
},{"../lodash":77,"./dijkstra":63}],63:[function(require,module,exports){
function dijkstra(e,r,t,i){return runDijkstra(e,String(r),t||DEFAULT_WEIGHT_FUNC,i||function(r){return e.outEdges(r)})}function runDijkstra(e,r,t,i){var n,a,o={},u=new PriorityQueue,d=function(e){var r=e.v!==n?e.v:e.w,i=o[r],d=t(e),s=a.distance+d;if(d<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+d);s<i.distance&&(i.distance=s,i.predecessor=n,u.decrease(r,s))};for(e.nodes().forEach(function(e){var t=e===r?0:Number.POSITIVE_INFINITY;o[e]={distance:t},u.add(e,t)});u.size()>0&&(n=u.removeMin(),a=o[n],a.distance!==Number.POSITIVE_INFINITY);)i(n).forEach(d);return o}var _=require("../lodash"),PriorityQueue=require("../data/priority-queue");module.exports=dijkstra;var DEFAULT_WEIGHT_FUNC=_.constant(1);
},{"../data/priority-queue":73,"../lodash":77}],64:[function(require,module,exports){
function findCycles(e){return _.filter(tarjan(e),function(r){return r.length>1||1===r.length&&e.hasEdge(r[0],r[0])})}var _=require("../lodash"),tarjan=require("./tarjan");module.exports=findCycles;
},{"../lodash":77,"./tarjan":71}],65:[function(require,module,exports){
function floydWarshall(r,n,a){return runFloydWarshall(r,n||DEFAULT_WEIGHT_FUNC,a||function(n){return r.outEdges(n)})}function runFloydWarshall(r,n,a){var o={},c=r.nodes();return c.forEach(function(r){o[r]={},o[r][r]={distance:0},c.forEach(function(n){r!==n&&(o[r][n]={distance:Number.POSITIVE_INFINITY})}),a(r).forEach(function(a){var c=a.v===r?a.w:a.v,e=n(a);o[r][c]={distance:e,predecessor:r}})}),c.forEach(function(r){var n=o[r];c.forEach(function(a){var e=o[a];c.forEach(function(a){var o=e[r],c=n[a],t=e[a],s=o.distance+c.distance;s<t.distance&&(t.distance=s,t.predecessor=c.predecessor)})})}),o}var _=require("../lodash");module.exports=floydWarshall;var DEFAULT_WEIGHT_FUNC=_.constant(1);
},{"../lodash":77}],66:[function(require,module,exports){
module.exports={components:require("./components"),dijkstra:require("./dijkstra"),dijkstraAll:require("./dijkstra-all"),findCycles:require("./find-cycles"),floydWarshall:require("./floyd-warshall"),isAcyclic:require("./is-acyclic"),postorder:require("./postorder"),preorder:require("./preorder"),prim:require("./prim"),tarjan:require("./tarjan"),topsort:require("./topsort")};
},{"./components":60,"./dijkstra":63,"./dijkstra-all":62,"./find-cycles":64,"./floyd-warshall":65,"./is-acyclic":67,"./postorder":68,"./preorder":69,"./prim":70,"./tarjan":71,"./topsort":72}],67:[function(require,module,exports){
function isAcyclic(t){try{topsort(t)}catch(t){if(t instanceof topsort.CycleException)return!1;throw t}return!0}var topsort=require("./topsort");module.exports=isAcyclic;
},{"./topsort":72}],68:[function(require,module,exports){
function postorder(r,o){return dfs(r,o,"post")}var dfs=require("./dfs");module.exports=postorder;
},{"./dfs":61}],69:[function(require,module,exports){
function preorder(r,e){return dfs(r,e,"pre")}var dfs=require("./dfs");module.exports=preorder;
},{"./dfs":61}],70:[function(require,module,exports){
function prim(e,r){function i(e){var i=e.v===o?e.w:e.v,n=t.priority(i);if(void 0!==n){var u=r(e);u<n&&(a[i]=o,t.decrease(i,u))}}var o,n=new Graph,a={},t=new PriorityQueue;if(0===e.nodeCount())return n;_.each(e.nodes(),function(e){t.add(e,Number.POSITIVE_INFINITY),n.setNode(e)}),t.decrease(e.nodes()[0],0);for(var u=!1;t.size()>0;){if(o=t.removeMin(),_.has(a,o))n.setEdge(o,a[o]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(o).forEach(i)}return n}var _=require("../lodash"),Graph=require("../graph"),PriorityQueue=require("../data/priority-queue");module.exports=prim;
},{"../data/priority-queue":73,"../graph":74,"../lodash":77}],71:[function(require,module,exports){
function tarjan(n){function o(t){var s=l[t]={onStack:!0,lowlink:i,index:i++};if(a.push(t),n.successors(t).forEach(function(n){_.has(l,n)?l[n].onStack&&(s.lowlink=Math.min(s.lowlink,l[n].index)):(o(n),s.lowlink=Math.min(s.lowlink,l[n].lowlink))}),s.lowlink===s.index){var c,e=[];do{c=a.pop(),l[c].onStack=!1,e.push(c)}while(t!==c);r.push(e)}}var i=0,a=[],l={},r=[];return n.nodes().forEach(function(n){_.has(l,n)||o(n)}),r}var _=require("../lodash");module.exports=tarjan;
},{"../lodash":77}],72:[function(require,module,exports){
function topsort(e){function o(r){if(_.has(n,r))throw new CycleException;_.has(t,r)||(n[r]=!0,t[r]=!0,_.each(e.predecessors(r),o),delete n[r],c.push(r))}var t={},n={},c=[];if(_.each(e.sinks(),o),_.size(t)!==e.nodeCount())throw new CycleException;return c}function CycleException(){}var _=require("../lodash");module.exports=topsort,topsort.CycleException=CycleException;
},{"../lodash":77}],73:[function(require,module,exports){
function PriorityQueue(){this._arr=[],this._keyIndices={}}var _=require("../lodash");module.exports=PriorityQueue,PriorityQueue.prototype.size=function(){return this._arr.length},PriorityQueue.prototype.keys=function(){return this._arr.map(function(r){return r.key})},PriorityQueue.prototype.has=function(r){return _.has(this._keyIndices,r)},PriorityQueue.prototype.priority=function(r){var i=this._keyIndices[r];if(void 0!==i)return this._arr[i].priority},PriorityQueue.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},PriorityQueue.prototype.add=function(r,i){var t=this._keyIndices;if(r=String(r),!_.has(t,r)){var e=this._arr,o=e.length;return t[r]=o,e.push({key:r,priority:i}),this._decrease(o),!0}return!1},PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},PriorityQueue.prototype.decrease=function(r,i){var t=this._keyIndices[r];if(i>this._arr[t].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[t].priority+" New: "+i);this._arr[t].priority=i,this._decrease(t)},PriorityQueue.prototype._heapify=function(r){var i=this._arr,t=2*r,e=t+1,o=r;t<i.length&&(o=i[t].priority<i[o].priority?t:o,e<i.length&&(o=i[e].priority<i[o].priority?e:o),o!==r&&(this._swap(r,o),this._heapify(o)))},PriorityQueue.prototype._decrease=function(r){for(var i,t=this._arr,e=t[r].priority;0!==r&&(i=r>>1,!(t[i].priority<e));)this._swap(r,i),r=i},PriorityQueue.prototype._swap=function(r,i){var t=this._arr,e=this._keyIndices,o=t[r],y=t[i];t[r]=y,t[i]=o,e[y.key]=r,e[o.key]=i};
},{"../lodash":77}],74:[function(require,module,exports){
"use strict";function Graph(t){this._isDirected=!_.has(t,"directed")||t.directed,this._isMultigraph=!!_.has(t,"multigraph")&&t.multigraph,this._isCompound=!!_.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function incrementOrInitEntry(t,e){t[e]?t[e]++:t[e]=1}function decrementOrRemoveEntry(t,e){--t[e]||delete t[e]}function edgeArgsToId(t,e,i,s){var r=""+e,n=""+i;if(!t&&r>n){var o=r;r=n,n=o}return r+EDGE_KEY_DELIM+n+EDGE_KEY_DELIM+(_.isUndefined(s)?DEFAULT_EDGE_NAME:s)}function edgeArgsToObj(t,e,i,s){var r=""+e,n=""+i;if(!t&&r>n){var o=r;r=n,n=o}var h={v:r,w:n};return s&&(h.name=s),h}function edgeObjToId(t,e){return edgeArgsToId(t,e.v,e.w,e.name)}var _=require("./lodash");module.exports=Graph;var DEFAULT_EDGE_NAME="\0",GRAPH_NODE="\0",EDGE_KEY_DELIM="";Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0,Graph.prototype.isDirected=function(){return this._isDirected},Graph.prototype.isMultigraph=function(){return this._isMultigraph},Graph.prototype.isCompound=function(){return this._isCompound},Graph.prototype.setGraph=function(t){return this._label=t,this},Graph.prototype.graph=function(){return this._label},Graph.prototype.setDefaultNodeLabel=function(t){return _.isFunction(t)||(t=_.constant(t)),this._defaultNodeLabelFn=t,this},Graph.prototype.nodeCount=function(){return this._nodeCount},Graph.prototype.nodes=function(){return _.keys(this._nodes)},Graph.prototype.sources=function(){return _.filter(this.nodes(),function(t){return _.isEmpty(this._in[t])},this)},Graph.prototype.sinks=function(){return _.filter(this.nodes(),function(t){return _.isEmpty(this._out[t])},this)},Graph.prototype.setNodes=function(t,e){var i=arguments;return _.each(t,function(t){i.length>1?this.setNode(t,e):this.setNode(t)},this),this},Graph.prototype.setNode=function(t,e){return _.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=GRAPH_NODE,this._children[t]={},this._children[GRAPH_NODE][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},Graph.prototype.node=function(t){return this._nodes[t]},Graph.prototype.hasNode=function(t){return _.has(this._nodes,t)},Graph.prototype.removeNode=function(t){var e=this;if(_.has(this._nodes,t)){var i=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],_.each(this.children(t),function(t){this.setParent(t)},this),delete this._children[t]),_.each(_.keys(this._in[t]),i),delete this._in[t],delete this._preds[t],_.each(_.keys(this._out[t]),i),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},Graph.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(e))e=GRAPH_NODE;else{e+="";for(var i=e;!_.isUndefined(i);i=this.parent(i))if(i===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},Graph.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},Graph.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==GRAPH_NODE)return e}},Graph.prototype.children=function(t){if(_.isUndefined(t)&&(t=GRAPH_NODE),this._isCompound){var e=this._children[t];if(e)return _.keys(e)}else{if(t===GRAPH_NODE)return this.nodes();if(this.hasNode(t))return[]}},Graph.prototype.predecessors=function(t){var e=this._preds[t];if(e)return _.keys(e)},Graph.prototype.successors=function(t){var e=this._sucs[t];if(e)return _.keys(e)},Graph.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return _.union(e,this.successors(t))},Graph.prototype.filterNodes=function(t){function e(t){var n=s.parent(t);return void 0===n||i.hasNode(n)?(r[t]=n,n):n in r?r[n]:e(n)}var i=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});i.setGraph(this.graph()),_.each(this._nodes,function(e,s){t(s)&&i.setNode(s,e)},this),_.each(this._edgeObjs,function(t){i.hasNode(t.v)&&i.hasNode(t.w)&&i.setEdge(t,this.edge(t))},this);var s=this,r={};return this._isCompound&&_.each(i.nodes(),function(t){i.setParent(t,e(t))}),i},Graph.prototype.setDefaultEdgeLabel=function(t){return _.isFunction(t)||(t=_.constant(t)),this._defaultEdgeLabelFn=t,this},Graph.prototype.edgeCount=function(){return this._edgeCount},Graph.prototype.edges=function(){return _.values(this._edgeObjs)},Graph.prototype.setPath=function(t,e){var i=this,s=arguments;return _.reduce(t,function(t,r){return s.length>1?i.setEdge(t,r,e):i.setEdge(t,r),r}),this},Graph.prototype.setEdge=function(){var t,e,i,s,r=!1,n=arguments[0];"object"==typeof n&&null!==n&&"v"in n?(t=n.v,e=n.w,i=n.name,2===arguments.length&&(s=arguments[1],r=!0)):(t=n,e=arguments[1],i=arguments[3],arguments.length>2&&(s=arguments[2],r=!0)),t=""+t,e=""+e,_.isUndefined(i)||(i=""+i);var o=edgeArgsToId(this._isDirected,t,e,i);if(_.has(this._edgeLabels,o))return r&&(this._edgeLabels[o]=s),this;if(!_.isUndefined(i)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[o]=r?s:this._defaultEdgeLabelFn(t,e,i);var h=edgeArgsToObj(this._isDirected,t,e,i);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[o]=h,incrementOrInitEntry(this._preds[e],t),incrementOrInitEntry(this._sucs[t],e),this._in[e][o]=h,this._out[t][o]=h,this._edgeCount++,this},Graph.prototype.edge=function(t,e,i){var s=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,t,e,i);return this._edgeLabels[s]},Graph.prototype.hasEdge=function(t,e,i){var s=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,t,e,i);return _.has(this._edgeLabels,s)},Graph.prototype.removeEdge=function(t,e,i){var s=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,t,e,i),r=this._edgeObjs[s];return r&&(t=r.v,e=r.w,delete this._edgeLabels[s],delete this._edgeObjs[s],decrementOrRemoveEntry(this._preds[e],t),decrementOrRemoveEntry(this._sucs[t],e),delete this._in[e][s],delete this._out[t][s],this._edgeCount--),this},Graph.prototype.inEdges=function(t,e){var i=this._in[t];if(i){var s=_.values(i);return e?_.filter(s,function(t){return t.v===e}):s}},Graph.prototype.outEdges=function(t,e){var i=this._out[t];if(i){var s=_.values(i);return e?_.filter(s,function(t){return t.w===e}):s}},Graph.prototype.nodeEdges=function(t,e){var i=this.inEdges(t,e);if(i)return i.concat(this.outEdges(t,e))};
},{"./lodash":77}],75:[function(require,module,exports){
module.exports={Graph:require("./graph"),version:require("./version")};
},{"./graph":74,"./version":78}],76:[function(require,module,exports){
function write(e){var n={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:writeNodes(e),edges:writeEdges(e)};return _.isUndefined(e.graph())||(n.value=_.clone(e.graph())),n}function writeNodes(e){return _.map(e.nodes(),function(n){var r=e.node(n),a=e.parent(n),t={v:n};return _.isUndefined(r)||(t.value=r),_.isUndefined(a)||(t.parent=a),t})}function writeEdges(e){return _.map(e.edges(),function(n){var r=e.edge(n),a={v:n.v,w:n.w};return _.isUndefined(n.name)||(a.name=n.name),_.isUndefined(r)||(a.value=r),a})}function read(e){var n=new Graph(e.options).setGraph(e.value);return _.each(e.nodes,function(e){n.setNode(e.v,e.value),e.parent&&n.setParent(e.v,e.parent)}),_.each(e.edges,function(e){n.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),n}var _=require("./lodash"),Graph=require("./graph");module.exports={write:write,read:read};
},{"./graph":74,"./lodash":77}],77:[function(require,module,exports){
arguments[4][30][0].apply(exports,arguments)
},{"dup":30,"lodash":79}],78:[function(require,module,exports){
module.exports="1.0.7";
},{}],79:[function(require,module,exports){
(function (global){
(function(){function n(n,t){if(n!==t){var r=null===n,e=n===b,u=n===n,i=null===t,o=t===b,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return h(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function e(n){return"function"==typeof n||!1}function u(n){return null==n?"":n+""}function i(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function o(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function f(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function a(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||!0===l?1:-1)}}return t.index-r.index}function c(n){return Bn[n]}function l(n){return zn[n]}function s(n,t,r){return t?n=qn[n]:r&&(n=Pn[n]),"\\"+n}function p(n){return"\\"+Pn[n]}function h(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function v(n){return!!n&&"object"==typeof n}function _(n){return n<=160&&n>=9&&n<=13||32==n||160==n||5760==n||6158==n||n>=8192&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function g(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=D,i[++u]=r);return i}function y(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function d(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function w(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function m(n){return Dn[n]}function x(_){function Bn(n){if(v(n)&&!Cf(n)&&!(n instanceof Mn)){if(n instanceof Dn)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new Dn(n)}function zn(){}function Dn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function Mn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function qn(){var n=new Mn(this.__wrapped__);return n.__actions__=et(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=et(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=et(this.__views__),n}function Pn(){if(this.__filtered__){var n=new Mn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=t<0,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=Ao(a,this.__takeCount__);if(!r||u<T||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&p<h;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,w=y.type,m=d(g);if(w==B)g=m;else if(!m){if(w==L)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?b:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Qn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function nt(n,t){var r=n.data;return("string"==typeof t||$u(t)?r.set.has(t):r.hash[t])?0:-1}function tt(n){var t=this.data;"string"==typeof n||$u(n)?t.set.add(n):t.hash[n]=!0}function rt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function et(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function it(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===b?t:n}function gt(n,t,r,e){return n!==b&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==b||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:mt(t,Df(t),n)}function wt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];f[r]=u?Hr(a,i)?n[a]:b:e?b:n[a]}return f}function mt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function xt(n,t,r){var e=typeof n;return"function"==e?t===b?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===b?Wi(n):Dt(n,t)}function bt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==b)return f;if(!$u(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return et(n,f)}else{var c=ro.call(n),l=c==Y;if(c!=J&&c!=M&&(!l||u))return Ln[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:Ut)(n,function(e,u){f[u]=bt(e,t,r,u,n,i,o)}),f}function At(n,t,r){if("function"!=typeof n)throw new Ji(z);return so(function(){n.apply(b,r)},t)}function jt(n,t){var e=n?n.length:0,u=[];if(!e)return u;var i=-1,o=qr(),f=o==r,a=f&&t.length>=T?_r(t):null,c=t.length;a&&(o=nt,f=!1,t=a);n:for(;++i<e;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;u.push(l)}else o(t,l,0)<0&&u.push(l)}return u}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,r<0&&(r=-r>u?0:u+r),e=e===b||e>u?u:+e||0,e<0&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){if(t(n,r,i))return u=e?r:n,!1}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];v(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function St(n,t){return Lo(n,t,ni)}function Ut(n,t){return Lo(n,t,Df)}function Wt(n,t){return Bo(n,t,Df)}function $t(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Wu(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==b&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&e<u;)n=n[t[e++]];return e&&e==u?n:b}}function Nt(n,t,r,e,u,i){return n===t||(null==n||null==t||!$u(n)&&!v(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i))}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=q,l=q;f||(c=ro.call(n),c==M?c=J:c!=J&&(f=qu(n))),a||(l=ro.call(t),l==M?l=J:l!=J&&(a=qu(t)));var s=c==J,p=l==J,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===b&&!(f in n))return!1}else{var l=r?r(a,c,f):b;if(!(l===b?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&(n[r]===e&&(e!==b||r in se(n)))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(null==(i=1==n.length?i:Ft(i,Jt(n,0,-1))))return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==b||o in i:Nt(t,i[o],b,!0)}}function Mt(n,t,r,e,u){if(!$u(n))return n;var i=Zr(t)&&(Cf(t)||qu(t)),o=i?b:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),v(f))e||(e=[]),u||(u=[]),qt(n,t,a,Mt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):b,s=l===b;s&&(l=f),l===b&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function qt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):b,s=l===b;s&&(l=a,Zr(a)&&(Cf(a)||qu(a))?l=Cf(c)?c:Zr(c)?et(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?b:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,t<0&&(t=-t>u?0:u+t),r=r===b||r>u?u:+r||0,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;return t=ct(t,function(n){return e(n)}),Zt(Bt(n,function(n){return{criteria:ct(t,function(t){return t(n)}),index:++u,value:n}}),function(n,t){return a(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var e=-1,u=qr(),i=n.length,o=u==r,f=o&&i>=T,a=f?_r():null,c=[];a?(u=nt,o=!1):(f=!1,a=t?[]:c);n:for(;++e<i;){var l=n[e],s=t?t(l,e,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else u(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof Mn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=So){for(;e<u;){var i=e+u>>>1,o=n[i];(r?o<=t:o<t)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===b;u<i;){var c=yo((u+i)/2),l=r(n[c]),s=l!==b,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null!=l&&(e?l<=t:l<t);h?u=c+1:i=c}return Ao(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===b)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength);return new ho(t).set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=bo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=bo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:b,o=u>2?r[2]:b,f=u>1?r[u-1]:b;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:b,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=u<3?b:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?Mo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(!1===r(u[a],a,u))break}return t}}function vr(n,t){function r(){return(this&&this!==Zn&&this instanceof r?e:n).apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Qn(n):null}function gr(n){return function(t){for(var r=-1,e=ji(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return $u(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=b);var i=Tr(r,n,b,b,b,b,b,e);return i.placeholder=t.placeholder,i}return t}function wr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(b,r))})}function mr(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=b),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function xr(n,r){return function(e,u,i){if(u=Dr(u,i,3),Cf(e)){var o=t(e,u,r);return o>-1?e[o]:b}return Et(e,u,n)}}function br(n){return function(r,e,u){return r&&r.length?(e=Dr(e,u,3),t(r,e,n)):-1}}function Ar(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function jr(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(z);!t&&Dn.prototype.thru&&"wrapper"==Mr(o)&&(t=new Dn([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=Mr(o),a="wrapper"==f?Do(o):b;t=a&&te(a[0])&&a[1]==(S|R|E|U)&&!a[4].length&&1==a[9]?t[Mr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=T)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===b&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return"function"==typeof r&&e===b||(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return"function"==typeof r&&e===b||(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),Ut(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=u(t),(n?t:"")+Wr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=g(e,t.placeholder);return Tr(r,n,b,e,u)});return t}function Sr(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===b&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function Ur(n,t,r,e,u,i,o,f,a,c){function l(){for(var w=arguments.length,m=w,x=zi(w);m--;)x[m]=arguments[m];if(e&&(x=ar(x,e,u)),i&&(x=cr(x,i,o)),v||y){var A=l.placeholder,I=g(x,A);if((w-=I.length)<c){var R=f?et(f):b,O=bo(c-w,0),S=v?I:b,U=v?b:I,W=v?x:b,$=v?b:x;t|=v?E:C,t&=~(v?C:E),_||(t&=~(j|k));var F=[n,t,r,W,S,$,U,R,a,O],N=Ur.apply(b,F);return te(n)&&qo(N,F),N.placeholder=A,N}}var T=p?r:this,L=h?T[n]:n;return f&&(x=ae(x,f)),s&&a<x.length&&(x.length=a),this&&this!==Zn&&this instanceof l&&(L=d||yr(n)),L.apply(T,x)}var s=t&S,p=t&j,h=t&k,v=t&R,_=t&I,y=t&O,d=h?b:yr(n);return l}function Wr(n,t,r){var e=n.length;if(t=+t,e>=t||!mo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function $r(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];return(this&&this!==Zn&&this instanceof u?o:n).apply(i?r:this,l)}var i=t&j,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===b?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===xt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&k;if(!a&&"function"!=typeof n)throw new Ji(z);var c=e?e.length:0;if(c||(t&=~(E|C),e=u=b),c-=u?u.length:0,t&C){var l=e,s=u;e=u=b}var p=a?b:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:bo(f-c,0)||0,t==j)var v=vr(h[0],h[2]);else v=t!=E&&t!=(j|E)||h[4].length?Ur.apply(b,h):$r.apply(b,h);return(p?zo:qo)(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):b;if(p!==b){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case P:case K:return+n==+t;case V:return n.name==t.name&&n.message==t.message;case G:return n!=+n?t!=+t:n==+t;case X:case Z:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length;if(a!=Df(t).length&&!u)return!1;for(var c=a;c--;){var l=f[c];if(!(u?l in t:no.call(t,l)))return!1}for(var s=u;++c<a;){l=f[c];var p=n[l],h=t[l],v=e?e(u?h:p,u?p:h,l):b;if(!(v===b?r(p,h,e,u,i,o):v))return!1;s||(s="constructor"==l)}if(!s){var _=n.constructor,g=t.constructor;if(_!=g&&"constructor"in n&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g))return!1}return!0}function Dr(n,t,r){var e=Bn.callback||ki;return e=e===ki?xt:e,r?e(n,t,r):e}function Mr(n){for(var t=n.name,r=$o[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function qr(n,t,e){var u=Bn.indexOf||je;return u=u===je?r:u,n?u(n,t,e):u}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?b:n[t];return Tu(r)?r:b}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Ao(t,n+o);break;case"takeRight":n=bo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case H:return fr(n);case P:case K:return new e(+n);case Q:case nn:case tn:case rn:case en:case un:case on:case fn:case an:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case G:case Z:return new e(n);case X:var i=new e(n.source,Rn.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?b:e.apply(n,r)}function Zr(n){return null!=n&&re(Mo(n))}function Hr(n,t){return n="number"==typeof n||Cn.test(n)?+n:-1,t=null==t?Uo:t,n>-1&&n%1==0&&n<t}function Qr(n,t,r){if(!$u(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;return!!("string"==r&&mn.test(n)||"number"==r)||!Cf(n)&&(!wn.test(n)||null!=t&&n in se(t))}function te(n){var t=Mr(n);if(!(t in Mn.prototype))return!1;var r=Bn[t];if(n===r)return!0;var e=Do(r);return!!e&&n===e[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Uo}function ee(n){return n===n&&!$u(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=u<S,o=e==S&&r==R||e==S&&r==U&&n[7].length<=t[8]||e==(S|U)&&r==R;if(!i&&!o)return n;e&j&&(n[2]=t[2],u|=r&j?0:I);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):et(f),n[4]=a?g(n[3],D):et(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):et(f),n[6]=a?g(n[5],D):et(t[6])),f=t[7],f&&(n[7]=et(f)),e&S&&(n[8]=null==n[8]?t[8]:Ao(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===b?t:Sf(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return St(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=Ao(t.length,r),u=et(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:b}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?$u(n)?n:Vi(n):ii(n)}function se(n){return $u(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return u(n).replace(xn,function(n,r,e,u){t.push(e?u.replace(kn,"$1"):r||n)}),t}function he(n){return n instanceof Mn?n.clone():new Dn(n.__wrapped__,n.__chain__,et(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:bo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));e<u;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,t<0?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,t<0?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function we(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function me(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function xe(n){return n?n[0]:b}function be(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function Ae(n){return(n?n.length:0)?Ct(n,!0):[]}function je(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=e<0?bo(u+e,0):e;else if(e){var i=ur(n,t);return i<u&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return r(n,t,e||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:b}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(r<0?bo(e+r,0):Ao(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return h(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=qr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function Se(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function Ue(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,t<0?0:t)):[]}function We(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,t<0?0:t)):[]}function $e(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,e,u){if(!(n?n.length:0))return[];null!=t&&"boolean"!=typeof t&&(u=e,e=Qr(n,t,u)?b:t,t=!1);var i=Dr();return null==e&&i===xt||(e=i(e,u,3)),t&&qr()==r?y(n,e):nr(n,e)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){if(Zr(n))return r=bo(n.length,r),!0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){if(!(n?n.length:0))return[];var e=Te(n);return null==t?e:(t=or(t,r,4),ct(e,function(n){return st(n,t,b,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(jt(e,r),jt(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=Bn(n);return t.__chain__=!0,t}function Me(n,t,r){return t.call(r,n),n}function qe(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new Dn(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof zn;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof Mn){var r=n;return this.__actions__.length&&(r=new Mn(this)),r=r.reverse(),r.__actions__.push({func:qe,args:[t],thisArg:b}),new Dn(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=b),"function"==typeof t&&r===b||(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?Mo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:r<0?bo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&Mu(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&qr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Wi(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:b}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=Ao(t<0?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?Mo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=b),"function"==typeof t&&r===b||(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=b);var e=-1;return t=Dr(t,r,3),Zt(Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}}),f)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=b),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var r=n;n=t,t=r}return n=mo(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=n&&null==t?n.length:bo(+t||0,0),Tr(n,S,b,b,b,b,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=b),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=b}function u(t,r){r&&oo(r),c=h=v=b,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=b))}function i(){var n=t-(gf()-s);n<=0||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),!1===g)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=e<=0||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=b),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(z);if(t=t<0?0:+t||0,!0===r){var d=!0;y=!1}else $u(r)&&(d=!!r.leading,g="maxWait"in r&&bo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(z);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(z);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(z);return t=bo(t===b?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(z);return function(t){return n.apply(this,t)}}function wu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(z);return!1===r?e=!1:$u(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function mu(n,t){return t=null==t?Ri:t,Tr(t,E,b,[n],[])}function xu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?bt(n,t,or(r,e,1)):bt(n,t)}function bu(n,t,r){return"function"==typeof t?bt(n,!0,or(t,r,1)):bt(n,!0)}function Au(n,t){return n>t}function ju(n,t){return n>=t}function ku(n){return v(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return!0===n||!1===n||v(n)&&ro.call(n)==P}function Ru(n){return v(n)&&ro.call(n)==K}function Ou(n){return!!n&&1===n.nodeType&&v(n)&&!zu(n)}function Eu(n){return null==n||(Zr(n)&&(Cf(n)||Mu(n)||ku(n)||v(n)&&Wu(n.splice))?!n.length:!Df(n).length)}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):b;var u=r?r(n,t):b;return u===b?Nt(n,t,r):!!u}function Su(n){return v(n)&&"string"==typeof n.message&&ro.call(n)==V}function Uu(n){return"number"==typeof n&&mo(n)}function Wu(n){return $u(n)&&ro.call(n)==Y}function $u(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):b,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null!=n&&(Wu(n)?uo.test(Qi.call(n)):v(n)&&En.test(n))}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||v(n)&&ro.call(n)==G}function zu(n){var t;if(!v(n)||ro.call(n)!=J||ku(n)||!no.call(n,"constructor")&&"function"==typeof(t=n.constructor)&&!(t instanceof t))return!1;var r;return St(n,function(n,t){r=t}),r===b||no.call(n,r)}function Du(n){return $u(n)&&ro.call(n)==X}function Mu(n){return"string"==typeof n||v(n)&&ro.call(n)==Z}function qu(n){return v(n)&&re(n.length)&&!!Tn[ro.call(n)]}function Pu(n){return n===b}function Ku(n,t){return n<t}function Vu(n,t){return n<=t}function Yu(n){var t=n?Mo(n):0;return re(t)?t?et(n):[]:ii(n)}function Gu(n){return mt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=b),t?dt(e,t):e}function Xu(n){return $t(n,ni(n))}function Zu(n,t,r){var e=null==n?b:Ft(n,pe(t),t+"");return e===b?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),null==(n=1==t.length?n:Ft(n,Jt(t,0,-1))))return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=b);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];$u(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?b:n[t];return e===b&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?b:n[Ie(t)]),e=e===b?r:e),Wu(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];$u(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||qu(n);if(t=Dr(t,e,4),null==r)if(u||$u(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Wu(i)?i.prototype:b)}else r={};return(u?ut:Ut)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===b?(r=t,t=0):r=+r||0,n>=Ao(t,r)&&n<bo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=b);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return Ao(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)}function li(n){return(n=u(n))&&n.replace(Sn,c).replace(jn,"")}function si(n,t,r){n=u(n),t+="";var e=n.length;return r=r===b?e:Ao(r<0?0:+r||0,e),
(r-=t.length)>=0&&n.indexOf(t,r)==r}function pi(n){return n=u(n),n&&_n.test(n)?n.replace(hn,l):n}function hi(n){return n=u(n),n&&An.test(n)?n.replace(bn,s):n||"(?:)"}function vi(n,t,r){n=u(n),t=+t;var e=n.length;if(e>=t||!mo(t))return n;var i=(t-e)/2,o=yo(i);return r=Wr("",_o(i),r),r.slice(0,o)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=wi(n),ko(n,t||(On.test(n)?16:10))}function gi(n,t){var r="";if(n=u(n),(t=+t)<1||!n||!mo(t))return r;do{t%2&&(r+=n),t=yo(t/2),n+=n}while(t);return r}function yi(n,t,r){return n=u(n),r=null==r?0:Ao(r<0?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,r){var e=Bn.templateSettings;r&&Qr(n,t,r)&&(t=r=b),n=u(n),t=yt(dt({},r||t),e,gt);var i,o,f=yt(dt({},t.imports),e.imports,gt),a=Df(f),c=tr(f,a),l=0,s=t.interpolate||Un,h="__p += '",v=Yi((t.escape||Un).source+"|"+s.source+"|"+(s===dn?In:Un).source+"|"+(t.evaluate||Un).source+"|$","g"),_="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Nn+"]")+"\n";n.replace(v,function(t,r,e,u,f,a){return e||(e=u),h+=n.slice(l,a).replace(Wn,p),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(cn,""):h).replace(ln,"$1").replace(sn,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Hf(function(){return qi(a,_+"return "+h).apply(b,c)});if(y.source=h,Su(y))throw y;return y}function wi(n,t,r){var e=n;return(n=u(n))?(r?Qr(e,t,r):null==t)?n.slice(d(n),w(n)+1):(t+="",n.slice(i(n,t),o(n,t)+1)):n}function mi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(d(n)):n.slice(i(n,t+"")):n}function xi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,w(n)+1):n.slice(0,o(n,t+"")+1):n}function bi(n,t,r){r&&Qr(n,t,r)&&(t=b);var e=W,i=$;if(null!=t)if($u(t)){var o="separator"in t?t.separator:o;e="length"in t?+t.length||0:e,i="omission"in t?u(t.omission):i}else e=+t||0;if(n=u(n),e>=n.length)return n;var f=e-i.length;if(f<1)return i;var a=n.slice(0,f);if(null==o)return a+i;if(Du(o)){if(n.slice(f).search(o)){var c,l,s=n.slice(0,f);for(o.global||(o=Yi(o.source,(Rn.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(o,f)!=f){var p=a.lastIndexOf(o);p>-1&&(a=a.slice(0,p))}return a+i}function Ai(n){return n=u(n),n&&vn.test(n)?n.replace(pn,m):n}function ji(n,t,r){return r&&Qr(n,t,r)&&(t=b),n=u(n),n.match(t||$n)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=b),v(n)?Oi(n):xt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(bt(n,!0))}function Ei(n,t){return Dt(n,bt(t,!0))}function Ci(n,t,r){if(null==r){var e=$u(t),u=e?Df(t):b,i=u&&u.length?$t(t,u):b;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=$t(t,Df(t)));var o=!0,f=-1,a=Wu(n),c=i.length;!1===r?o=!1:$u(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=et(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Si(){return Zn._=eo,this}function Ui(){}function Wi(n){return ne(n)?Pt(n):Kt(n)}function $i(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=b),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=bo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if((n=yo(n))<1||!mo(n))return[];var e=-1,u=zi(Ao(n,Eo));for(t=or(t,r,1);++e<n;)e<Eo?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return u(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}_=_?Hn.defaults(Zn.Object(),_,Hn.pick(Zn,Fn)):Zn;var zi=_.Array,Di=_.Date,Mi=_.Error,qi=_.Function,Pi=_.Math,Ki=_.Number,Vi=_.Object,Yi=_.RegExp,Gi=_.String,Ji=_.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=qi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=Zn._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=_.ArrayBuffer,oo=_.clearTimeout,fo=_.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(_,"Set"),so=_.setTimeout,po=Xi.splice,ho=_.Uint8Array,vo=Kr(_,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,wo=Kr(zi,"isArray"),mo=_.isFinite,xo=Kr(Vi,"keys"),bo=Pi.max,Ao=Pi.min,jo=Kr(Di,"now"),ko=_.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,So=Eo>>>1,Uo=9007199254740991,Wo=vo&&new vo,$o={};Bn.support={};Bn.templateSettings={escape:gn,evaluate:yn,interpolate:dn,variable:"",imports:{_:Bn}};var Fo=function(){function n(){}return function(t){if($u(t)){n.prototype=t;var r=new n;n.prototype=b}return r||{}}}(),No=pr(Ut),To=pr(Wt,!0),Lo=hr(),Bo=hr(!0),zo=Wo?function(n,t){return Wo.set(n,t),n}:Ri,Do=Wo?function(n){return Wo.get(n)}:Ui,Mo=Pt("length"),qo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=N-(u-t);if(t=u,i>0){if(++n>=F)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return v(n)&&Zr(n)?jt(n,Ct(t,!1,!0)):[]}),Ko=br(),Vo=br(!0),Yo=yu(function(n){for(var t=n.length,e=t,u=zi(s),i=qr(),o=i==r,f=[];e--;){var a=n[e]=Zr(a=n[e])?a:[];u[e]=o&&a.length>=120?_r(e&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=u[0];n:for(;++l<s;)if(a=c[l],(p?nt(p,a):i(f,a,0))<0){for(var e=t;--e;){var h=u[e];if((h?nt(h,a):i(n[e],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=wt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?jt(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:b,e=t>1?n[t-1]:b;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):b,e=b),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return rt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return wt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=xr(No),of=xr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:b;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=Sr(st,No),vf=Sr(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=jo||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=j;if(r.length){var u=g(r,yf.placeholder);e|=E}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],j,n)}return n}),wf=yu(function(n,t,r){var e=j|k;if(r.length){var u=g(r,wf.placeholder);e|=E}return Tr(t,e,n,r,u)}),mf=dr(R),xf=dr(O),bf=yu(function(n,t){return At(n,1,t)}),Af=yu(function(n,t,r){return At(n,t,r)}),jf=jr(),kf=jr(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,e))throw new Ji(z);var r=t.length;return yu(function(e){for(var u=Ao(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr(E),Of=Cr(C),Ef=yu(function(n,t){return Tr(n,U,b,b,b,Ct(t))}),Cf=wo||function(n){return v(n)&&re(n.length)&&ro.call(n)==q},Sf=sr(Mt),Uf=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Wf=wr(Uf,_t),$f=wr(Sf,ie),Ff=Ar(Ut),Nf=Ar(Wt),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr(Ut),zf=Rr(Wt),Df=xo?function(n){var t=null==n?b:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):$u(n)?xo(n):[]}:ce,Mf=Or(!0),qf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,jt(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(b,t)}catch(n){return Su(n)?n:new Mi(n)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=mr(Au,Ro),ua=mr(Ku,Oo),ia=Fr("round");return Bn.prototype=zn.prototype,Dn.prototype=Fo(zn.prototype),Dn.prototype.constructor=Dn,Mn.prototype=Fo(zn.prototype),Mn.prototype.constructor=Mn,Vn.prototype.delete=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Qn.prototype.push=tt,vu.Cache=Vn,Bn.after=lu,Bn.ary=su,Bn.assign=Uf,Bn.at=rf,Bn.before=pu,Bn.bind=yf,Bn.bindAll=df,Bn.bindKey=wf,Bn.callback=ki,Bn.chain=De,Bn.chunk=ve,Bn.compact=_e,Bn.constant=Ii,Bn.countBy=ef,Bn.create=Ju,Bn.curry=mf,Bn.curryRight=xf,Bn.debounce=hu,Bn.defaults=Wf,Bn.defaultsDeep=$f,Bn.defer=bf,Bn.delay=Af,Bn.difference=Po,Bn.drop=ge,Bn.dropRight=ye,Bn.dropRightWhile=de,Bn.dropWhile=we,Bn.fill=me,Bn.filter=Ze,Bn.flatten=be,Bn.flattenDeep=Ae,Bn.flow=jf,Bn.flowRight=kf,Bn.forEach=ff,Bn.forEachRight=af,Bn.forIn=Tf,Bn.forInRight=Lf,Bn.forOwn=Bf,Bn.forOwnRight=zf,Bn.functions=Xu,Bn.groupBy=cf,Bn.indexBy=lf,Bn.initial=ke,Bn.intersection=Yo,Bn.invert=Qu,Bn.invoke=sf,Bn.keys=Df,Bn.keysIn=ni,Bn.map=nu,Bn.mapKeys=Mf,Bn.mapValues=qf,Bn.matches=Oi,Bn.matchesProperty=Ei,Bn.memoize=vu,Bn.merge=Sf,Bn.method=Qf,Bn.methodOf=na,Bn.mixin=Ci,Bn.modArgs=If,Bn.negate=_u,Bn.omit=Pf,Bn.once=gu,Bn.pairs=ti,Bn.partial=Rf,Bn.partialRight=Of,Bn.partition=pf,Bn.pick=Kf,Bn.pluck=tu,Bn.property=Wi,Bn.propertyOf=$i,Bn.pull=Oe,Bn.pullAt=Go,Bn.range=Fi,Bn.rearg=Ef,Bn.reject=ru,Bn.remove=Ee,Bn.rest=Ce,Bn.restParam=yu,Bn.set=ei,Bn.shuffle=uu,Bn.slice=Se,Bn.sortBy=fu,Bn.sortByAll=_f,Bn.sortByOrder=au,Bn.spread=du,Bn.take=Ue,Bn.takeRight=We,Bn.takeRightWhile=$e,Bn.takeWhile=Fe,Bn.tap=Me,Bn.throttle=wu,Bn.thru=qe,Bn.times=Ni,Bn.toArray=Yu,Bn.toPlainObject=Gu,Bn.transform=ui,Bn.union=Zo,Bn.uniq=Ne,Bn.unzip=Te,Bn.unzipWith=Le,Bn.values=ii,Bn.valuesIn=oi,Bn.where=cu,Bn.without=Ho,Bn.wrap=mu,Bn.xor=Be,Bn.zip=Qo,Bn.zipObject=ze,Bn.zipWith=nf,Bn.backflow=kf,Bn.collect=nu,Bn.compose=kf,Bn.each=ff,Bn.eachRight=af,Bn.extend=Uf,Bn.iteratee=ki,Bn.methods=Xu,Bn.object=ze,Bn.select=Ze,Bn.tail=Ce,Bn.unique=Ne,Ci(Bn,Bn),Bn.add=Li,Bn.attempt=Hf,Bn.camelCase=Vf,Bn.capitalize=ci,Bn.ceil=ta,Bn.clone=xu,Bn.cloneDeep=bu,Bn.deburr=li,Bn.endsWith=si,Bn.escape=pi,Bn.escapeRegExp=hi,Bn.every=Xe,Bn.find=uf,Bn.findIndex=Ko,Bn.findKey=Ff,Bn.findLast=of,Bn.findLastIndex=Vo,Bn.findLastKey=Nf,Bn.findWhere=He,Bn.first=xe,Bn.floor=ra,Bn.get=Zu,Bn.gt=Au,Bn.gte=ju,Bn.has=Hu,Bn.identity=Ri,Bn.includes=Qe,Bn.indexOf=je,Bn.inRange=fi,Bn.isArguments=ku,Bn.isArray=Cf,Bn.isBoolean=Iu,Bn.isDate=Ru,Bn.isElement=Ou,Bn.isEmpty=Eu,Bn.isEqual=Cu,Bn.isError=Su,Bn.isFinite=Uu,Bn.isFunction=Wu,Bn.isMatch=Fu,Bn.isNaN=Nu,Bn.isNative=Tu,Bn.isNull=Lu,Bn.isNumber=Bu,Bn.isObject=$u,Bn.isPlainObject=zu,Bn.isRegExp=Du,Bn.isString=Mu,Bn.isTypedArray=qu,Bn.isUndefined=Pu,Bn.kebabCase=Yf,Bn.last=Ie,Bn.lastIndexOf=Re,Bn.lt=Ku,Bn.lte=Vu,Bn.max=ea,Bn.min=ua,Bn.noConflict=Si,Bn.noop=Ui,Bn.now=gf,Bn.pad=vi,Bn.padLeft=Gf,Bn.padRight=Jf,Bn.parseInt=_i,Bn.random=ai,Bn.reduce=hf,Bn.reduceRight=vf,Bn.repeat=gi,Bn.result=ri,Bn.round=ia,Bn.runInContext=x,Bn.size=iu,Bn.snakeCase=Xf,Bn.some=ou,Bn.sortedIndex=Jo,Bn.sortedLastIndex=Xo,Bn.startCase=Zf,Bn.startsWith=yi,Bn.sum=Bi,Bn.template=di,Bn.trim=wi,Bn.trimLeft=mi,Bn.trimRight=xi,Bn.trunc=bi,Bn.unescape=Ai,Bn.uniqueId=Ti,Bn.words=ji,Bn.all=Xe,Bn.any=ou,Bn.contains=Qe,Bn.eq=Cu,Bn.detect=uf,Bn.foldl=hf,Bn.foldr=vf,Bn.head=xe,Bn.include=Qe,Bn.inject=hf,Ci(Bn,function(){var n={};return Ut(Bn,function(t,r){Bn.prototype[r]||(n[r]=t)}),n}(),!1),Bn.sample=eu,Bn.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},Bn.VERSION=A,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Bn[n].placeholder=Bn}),ut(["drop","take"],function(n,t){Mn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new Mn(this);r=null==r?1:bo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=Ao(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},Mn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=B;Mn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");Mn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Mn.prototype[n]=function(){return this.__filtered__?new Mn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Wi;Mn.prototype[n]=function(n){return this[r](e(n))}}),Mn.prototype.compact=function(){return this.filter(Ri)},Mn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},Mn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||t<0)?new Mn(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==b&&(t=+t||0,r=t<0?r.dropRight(-t):r.take(t-n)),r)},Mn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},Mn.prototype.toArray=function(){return this.take(Oo)},Ut(Mn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=Bn[e?"take"+("last"==t?"Right":""):t];u&&(Bn.prototype[t]=function(){var t=e?[1]:arguments,i=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof Mn,c=t[0],l=a||Cf(o);l&&r&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return e&&i?u(n,1)[0]:u.apply(b,lt([n],t))},p={func:qe,args:[s],thisArg:b},h=a&&!f;if(e&&!i)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):u.call(b,this.value())[0];if(!e&&l){o=h?o:new Mn(this);var v=n.apply(o,t);return v.__actions__.push(p),new Dn(v,i)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);Bn.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),Ut(Mn.prototype,function(n,t){var r=Bn[t];if(r){var e=r.name;($o[e]||($o[e]=[])).push({name:t,func:r})}}),$o[Ur(b,k).name]=[{name:"wrapper",func:b}],Mn.prototype.clone=qn,Mn.prototype.reverse=Pn,Mn.prototype.value=Kn,Bn.prototype.chain=Pe,Bn.prototype.commit=Ke,Bn.prototype.concat=tf,Bn.prototype.plant=Ve,Bn.prototype.reverse=Ye,Bn.prototype.toString=Ge,Bn.prototype.run=Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=Je,Bn.prototype.collect=Bn.prototype.map,Bn.prototype.head=Bn.prototype.first,Bn.prototype.select=Bn.prototype.filter,Bn.prototype.tail=Bn.prototype.rest,Bn}var b,A="3.10.1",j=1,k=2,I=4,R=8,O=16,E=32,C=64,S=128,U=256,W=30,$="...",F=150,N=16,T=200,L=1,B=2,z="Expected a function",D="__lodash_placeholder__",M="[object Arguments]",q="[object Array]",P="[object Boolean]",K="[object Date]",V="[object Error]",Y="[object Function]",G="[object Number]",J="[object Object]",X="[object RegExp]",Z="[object String]",H="[object ArrayBuffer]",Q="[object Float32Array]",nn="[object Float64Array]",tn="[object Int8Array]",rn="[object Int16Array]",en="[object Int32Array]",un="[object Uint8Array]",on="[object Uint8ClampedArray]",fn="[object Uint16Array]",an="[object Uint32Array]",cn=/\b__p \+= '';/g,ln=/\b(__p \+=) '' \+/g,sn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pn=/&(?:amp|lt|gt|quot|#39|#96);/g,hn=/[&<>"'`]/g,vn=RegExp(pn.source),_n=RegExp(hn.source),gn=/<%-([\s\S]+?)%>/g,yn=/<%([\s\S]+?)%>/g,dn=/<%=([\s\S]+?)%>/g,wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,mn=/^\w*$/,xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,bn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,An=RegExp(bn.source),jn=/[\u0300-\u036f\ufe20-\ufe23]/g,kn=/\\(\\)?/g,In=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rn=/\w*$/,On=/^0[xX]/,En=/^\[object .+?Constructor\]$/,Cn=/^\d+$/,Sn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Un=/($^)/,Wn=/['\n\r\u2028\u2029\\]/g,$n=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Fn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Nn=-1,Tn={};Tn[Q]=Tn[nn]=Tn[tn]=Tn[rn]=Tn[en]=Tn[un]=Tn[on]=Tn[fn]=Tn[an]=!0,Tn[M]=Tn[q]=Tn[H]=Tn[P]=Tn[K]=Tn[V]=Tn[Y]=Tn["[object Map]"]=Tn[G]=Tn[J]=Tn[X]=Tn["[object Set]"]=Tn[Z]=Tn["[object WeakMap]"]=!1;var Ln={};Ln[M]=Ln[q]=Ln[H]=Ln[P]=Ln[K]=Ln[Q]=Ln[nn]=Ln[tn]=Ln[rn]=Ln[en]=Ln[G]=Ln[J]=Ln[X]=Ln[Z]=Ln[un]=Ln[on]=Ln[fn]=Ln[an]=!0,Ln[V]=Ln[Y]=Ln["[object Map]"]=Ln["[object Set]"]=Ln["[object WeakMap]"]=!1;var Bn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},zn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Dn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Mn={function:!0,object:!0},qn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Pn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kn=Mn[typeof exports]&&exports&&!exports.nodeType&&exports,Vn=Mn[typeof module]&&module&&!module.nodeType&&module,Yn=Kn&&Vn&&"object"==typeof global&&global&&global.Object&&global,Gn=Mn[typeof self]&&self&&self.Object&&self,Jn=Mn[typeof window]&&window&&window.Object&&window,Xn=Vn&&Vn.exports===Kn&&Kn,Zn=Yn||Jn!==(this&&this.window)&&Jn||Gn||this,Hn=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Zn._=Hn,define(function(){return Hn})):Kn&&Vn?Xn?(Vn.exports=Hn)._=Hn:Kn._=Hn:Zn._=Hn}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],80:[function(require,module,exports){
(function(){"use strict";function e(e){var t=function(e){return"string"==typeof e?e:"object"==typeof e&&e.hashCode?e.hashCode():""+e},r=e.declare({instance:{constructor:function(){this.__entries=[],this.__keys=[],this.__values=[]},pushValue:function(e,t){return this.__keys.push(e),this.__values.push(t),this.__entries.push({key:e,value:t}),t},remove:function(e){for(var t,r=this.__entries,n=this.__keys,i=this.__values,s=r.length-1;s>=0;s--)if((t=r[s])&&t.key===e)return r.splice(s,1),n.splice(s,1),i.splice(s,1),t.value;return null},set:function(e,t){for(var r=null,n=this.__entries,i=this.__values,s=n.length-1;s>=0;s--){var u=n[s];if(u&&e===u.key){i[s]=t,u.value=t,r=t;break}}return r||n.push({key:e,value:t}),r},find:function(e){for(var t,r=null,n=this.__entries,i=n.length-1;i>=0;i--)if((t=n[i])&&e===t.key){r=t.value;break}return r},getEntrySet:function(){return this.__entries},getKeys:function(){return this.__keys},getValues:function(e){return this.__values}}});return e.declare({instance:{constructor:function(){this.__map={}},entrySet:function(){var e=[],t=this.__map;for(var r in t)t.hasOwnProperty(r)&&(e=e.concat(t[r].getEntrySet()));return e},put:function(e,n){var i=t(e),s=null;return(s=this.__map[i])||(s=this.__map[i]=new r),s.pushValue(e,n),n},remove:function(e){var r=t(e),n=null,i=this.__map[r];return i&&(n=i.remove(e)),n},get:function(e){var r,n=t(e),i=null;return(r=this.__map[n])&&(i=r.find(e)),i},set:function(e,n){var i=t(e),s=null,u=this.__map;return(s=u[i])?s.set(e,n):(u[i]=new r).pushValue(e,n)},contains:function(e){var r=t(e),n=!1,i=null;return(i=this.__map[r])&&(n=!!i.find(e)),n},concat:function(e){if(e instanceof this._static){for(var t=new this._static,r=e.entrySet().concat(this.entrySet()),n=r.length-1;n>=0;n--){var i=r[n];t.put(i.key,i.value)}return t}throw new TypeError("When joining hashtables the joining arg must be a HashTable")},filter:function(t,r){var n=this.entrySet(),i=new this._static;n=e.filter(n,t,r);for(var s=n.length-1;s>=0;s--){var u=n[s];i.put(u.key,u.value)}return i},forEach:function(t,r){var n=this.entrySet();e.forEach(n,t,r)},every:function(t,r){var n=this.entrySet();return e.every(n,t,r)},map:function(t,r){var n=this.entrySet();return e.map(n,t,r)},some:function(t,r){var n=this.entrySet();return e.some(n,t,r)},reduce:function(t,r){var n=this.entrySet();return e.reduce(n,t,r)},reduceRight:function(t,r){var n=this.entrySet();return e.reduceRight(n,t,r)},clear:function(){this.__map={}},keys:function(){var e=[],t=this.__map;for(var r in t)e=e.concat(t[r].getKeys());return e},values:function(){var e=[],t=this.__map;for(var r in t)e=e.concat(t[r].getValues());return e},isEmpty:function(){return 0===this.keys().length}}})}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=e(require("extended")().register("declare",require("declare.js")).register(require("is-extended")).register(require("array-extended")))):"function"==typeof define?define(["extended","declare","is-extended","array-extended"],function(t,r,n,i){return e(t().register("declare",r).register(n).register(i))}):this.Ht=e(this.extended().register("declare",this.declare).register(this.isExtended).register(this.arrayExtended))}).call(this);
},{"array-extended":6,"declare.js":54,"extended":55,"is-extended":81}],81:[function(require,module,exports){
(function (Buffer){
(function(){"use strict";function n(n){function t(n,t){var e=-1,r=0,i=n.length,u=[];for(t=t||0,e+=t;++e<i;)u[r++]=n[e];return u}function e(n){var t=[];for(var e in n)W.call(n,e)&&t.push(e);return t}function r(n,t){if(n===t)return!0;if("undefined"!=typeof Buffer&&Buffer.isBuffer(n)&&Buffer.isBuffer(t)){if(n.length!==t.length)return!1;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return g(n)&&g(t)?n.getTime()===t.getTime():p(n)&&p(t)?n.source===t.source&&n.global===t.global&&n.multiline===t.multiline&&n.lastIndex===t.lastIndex&&n.ignoreCase===t.ignoreCase:(!y(n)||!y(t)||n===t)&&("object"!=typeof n&&"object"!=typeof t?n===t:i(n,t))}function i(n,t){var i;if(a(n)||a(t))return!1;if(n.prototype!==t.prototype)return!1;if(J(n))return!!J(t)&&(n=U.call(n),t=U.call(t),r(n,t));try{var u,o=e(n),f=e(t);if(o.length!==f.length)return!1;for(o.sort(),f.sort(),u=o.length-1;u>=0;u--)if(o[u]!==f[u])return!1;for(u=o.length-1;u>=0;u--)if(i=o[u],!r(n[i],t[i]))return!1}catch(n){return!1}return!0}function u(n){return null!==n&&"object"==typeof n}function o(n){return u(n)&&n.constructor===Object&&!n.nodeType&&!n.setInterval}function f(n){return J(n)?0===n.length:u(n)?0===e(n).length:!y(n)&&!K(n)||0===n.length}function c(n){return!0===n||!1===n||"[object Boolean]"===P.call(n)}function s(n){return void 0===n}function l(n){return!s(n)}function a(n){return s(n)||h(n)}function h(n){return null===n}function d(n,t){return!!z(t)&&n instanceof t}function p(n){return"[object RegExp]"===P.call(n)}function g(n){return"[object Date]"===P.call(n)}function y(n){return"[object String]"===P.call(n)}function b(n){return"[object Number]"===P.call(n)}function v(n){return!0===n}function j(n){return!1===n}function m(n){return!h(n)}function w(n,t){return n==t}function x(n,t){return n!=t}function _(n,t){return n===t}function A(n,t){return n!==t}function N(n,t){if(K(t)&&Array.prototype.indexOf||y(t))return t.indexOf(n)>-1;if(K(t))for(var e=0,r=t.length;e<r;e++)if(w(n,t[e]))return!0;return!1}function O(n,t){return!N(n,t)}function E(n,t){return n<t}function B(n,t){return n<=t}function q(n,t){return n>t}function L(n,t){return n>=t}function T(n,t){return y(t)?null!==(""+n).match(t):!!p(t)&&t.test(n)}function I(n,t){return!T(n,t)}function S(n,t){return N(t,n)}function C(n,t){return!N(t,n)}function F(n,t,e){return!!(K(n)&&n.length>e)&&w(n[e],t)}function D(n,t,e){return!!K(n)&&!w(n[e],t)}function k(n,t){return W.call(n,t)}function G(n,t){return!k(n,t)}function H(n,t){return!!k(n,"length")&&n.length===t}function R(n,t){return!!k(n,"length")&&n.length!==t}var U=Array.prototype.slice,W=Object.prototype.hasOwnProperty,P=Object.prototype.toString,z=function(n){return"[object Function]"===P.call(n)};"undefined"==typeof window||z(window.alert)||function(n){z=function(t){return"[object Function]"===P.call(t)||t===n}}(window.alert);var J=function(n){return"[object Arguments]"===P.call(n)};J(arguments)||(J=function(n){return!(!n||!W.call(n,"callee"))});var K=Array.isArray||function(n){return"[object Array]"===P.call(n)},M={isFunction:z,isObject:u,isEmpty:f,isHash:o,isNumber:b,isString:y,isDate:g,isArray:K,isBoolean:c,isUndefined:s,isDefined:l,isUndefinedOrNull:a,isNull:h,isArguments:J,instanceOf:d,isRegExp:p,deepEqual:r,isTrue:v,isFalse:j,isNotNull:m,isEq:w,isNeq:x,isSeq:_,isSneq:A,isIn:N,isNotIn:O,isLt:E,isLte:B,isGt:q,isGte:L,isLike:T,isNotLike:I,contains:S,notContains:C,has:k,notHas:G,isLength:H,isNotLength:R,containsAt:F,notContainsAt:D},Q={constructor:function(){this._testers=[]},noWrap:{tester:function(){var n=this._testers;return function(t){for(var e=!1,r=0,i=n.length;r<i&&!e;r++)e=n[r](t);return e}}}},V={constructor:function(){this._cases=[],this.__default=null},def:function(n,t){this.__default=t},noWrap:{switcher:function(){var n=this._cases,e=this.__default;return function(){for(var r,i=t(arguments),u=0,o=n.length;u<o;u++)if(r=n[u](i),r.length>1&&(r[1]||r[0]))return r[1];if(e)return e.apply(this,i)}}}};for(var X in M)W.call(M,X)&&(function(n){V[n]=function(){var e,r=t(arguments,1),i=M[n],u=!0;if(r.length<=i.length-1)throw new TypeError("A handler must be defined when calling using switch");if(e=r.pop(),c(e)&&(u=e,e=r.pop()),!z(e))throw new TypeError("handler must be defined");this._cases.push(function(n){return i.apply(M,n.concat(r))?[u,e.apply(this,n)]:[!1]})}}(X),function(n){Q[n]=function(){this._testers.push(M[n])}}(X));var Y=n.define(M).expose(M);return Y.tester=n.define(Q),Y.switcher=n.define(V),Y}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=n(require("extended"))):"function"==typeof define&&define.amd?define(["extended"],function(t){return n(t)}):this.isExtended=n(this.extended)}).call(this);
}).call(this,require("buffer").Buffer)

},{"buffer":176,"extended":55}],82:[function(require,module,exports){
!function(t,e){if("function"==typeof define&&define.amd)define(["backbone","lodash","jquery"],function(i,n,r){return i.$=r,e(t,i,n,r)});else if("undefined"!=typeof exports){var i=require("backbone"),n=require("lodash"),r=i.$=require("jquery");module.exports=e(t,i,n,r)}else{var i=t.Backbone,n=t._,r=i.$=t.jQuery||t.$;t.joint=e(t,i,n,r),t.g=t.joint.g,t.V=t.Vectorizer=t.joint.V}}(this,function(t,e,i,n){var r,s=function(){var t={},e=Math,i=e.abs,n=e.cos,r=e.sin,s=e.sqrt,a=e.min,o=e.max,l=e.atan2,c=e.round,g=e.floor,h=e.PI,d=e.random,u=e.pow;t.bezier={curveThroughPoints:function(t){for(var e=this.getCurveControlPoints(t),i=["M",t[0].x,t[0].y],n=0;n<e[0].length;n++)i.push("C",e[0][n].x,e[0][n].y,e[1][n].x,e[1][n].y,t[n+1].x,t[n+1].y);return i},getCurveControlPoints:function(t){var e,i=[],n=[],r=t.length-1;if(1==r)return i[0]=C((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=C(2*i[0].x-t[0].x,2*i[0].y-t[0].y),[i,n];var s=[];for(e=1;e<r-1;e++)s[e]=4*t[e].x+2*t[e+1].x;s[0]=t[0].x+2*t[1].x,s[r-1]=(8*t[r-1].x+t[r].x)/2;var a=this.getFirstControlPoints(s);for(e=1;e<r-1;++e)s[e]=4*t[e].y+2*t[e+1].y;s[0]=t[0].y+2*t[1].y,s[r-1]=(8*t[r-1].y+t[r].y)/2;var o=this.getFirstControlPoints(s);for(e=0;e<r;e++)i.push(C(a[e],o[e])),e<r-1?n.push(C(2*t[e+1].x-a[e+1],2*t[e+1].y-o[e+1])):n.push(C((t[r].x+a[r-1])/2,(t[r].y+o[r-1])/2));return[i,n]},getCurveDivider:function(t,e,i,n){return function(r){var s=p(t,e).pointAt(r),a=p(e,i).pointAt(r),o=p(i,n).pointAt(r),l=p(s,a).pointAt(r),c=p(a,o).pointAt(r),g=p(l,c).pointAt(r);return[{p0:t,p1:s,p2:l,p3:g},{p0:g,p1:c,p2:o,p3:n}]}},getFirstControlPoints:function(t){var e=t.length,i=[],n=[],r=2;i[0]=t[0]/r;for(var s=1;s<e;s++)n[s]=1/r,r=(s<e-1?4:3.5)-n[s],i[s]=(t[s]-i[s-1])/r;for(s=1;s<e;s++)i[e-s-1]-=n[e-s]*i[e-s];return i},getInversionSolver:function(t,e,i,n){function r(t,e){var i=s[t],n=s[e];return function(r){return(t%3?3:1)*(e%3?3:1)*(r.x*(i.y-n.y)+r.y*(n.x-i.x)+i.x*n.y-i.y*n.x)}}var s=arguments;return function(i){var n=3*r(2,3)(e),s=r(1,3)(t)/n,a=-r(2,3)(t)/n,o=s*r(3,1)(i)+a*(r(3,0)(i)+r(2,1)(i))+r(2,0)(i),l=s*r(3,0)(i)+a*r(2,0)(i)+r(1,0)(i);return l/(l-o)}}};var I=t.Ellipse=function(t,e,i){return this instanceof I?t instanceof I?new I(C(t),t.a,t.b):(t=C(t),this.x=t.x,this.y=t.y,this.a=e,void(this.b=i)):new I(t,e,i)};t.Ellipse.fromRect=function(t){return t=A(t),I(t.center(),t.width/2,t.height/2)},t.Ellipse.prototype={bbox:function(){return A(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},clone:function(){return I(this)},normalizedDistance:function(t){var e=t.x,i=t.y,n=this.a,r=this.b,s=this.x,a=this.y;return(e-s)*(e-s)/(n*n)+(i-a)*(i-a)/(r*r)},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.a+=2*t,this.b+=2*e,this},containsPoint:function(t){return this.normalizedDistance(t)<=1},center:function(){return C(this.x,this.y)},tangentTheta:function(e){var i,n,r=e.x,s=e.y,a=this.a,o=this.b,l=this.bbox().center(),c=l.x,g=l.y,h=r>l.x+a/2,d=r<l.x-a/2;return h||d?(i=r>l.x?s-30:s+30,n=a*a/(r-c)-a*a*(s-g)*(i-g)/(o*o*(r-c))+c):(n=s>l.y?r+30:r-30,i=o*o/(s-g)-o*o*(r-c)*(n-c)/(a*a*(s-g))+g),t.point(n,i).theta(e)},equals:function(t){return t=I(t),t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},intersectionWithLineFromCenterToPoint:function(t,e){t=C(t),e&&t.rotate(C(this.x,this.y),e);var i,n=t.x-this.x,r=t.y-this.y;if(0===n)return i=this.bbox().pointNearestToPoint(t),e?i.rotate(C(this.x,this.y),-e):i;var a=r/n,o=a*a,l=this.a*this.a,c=this.b*this.b,g=s(1/(1/l+o/c));g=n<0?-g:g;var h=a*g;return i=C(this.x+g,this.y+h),e?i.rotate(C(this.x,this.y),-e):i},toString:function(){return C(this.x,this.y).toString()+" "+this.a+" "+this.b}};var p=t.Line=function(t,e){return this instanceof p?(this.start=C(t),void(this.end=C(e))):new p(t,e)};t.Line.prototype={bearing:function(){var t=w(this.start.y),e=w(this.end.y),i=this.start.x,s=this.end.x,a=w(s-i),o=r(a)*n(e),c=n(t)*r(e)-r(t)*n(e)*n(a),g=y(l(o,c)),h=["NE","E","SE","S","SW","W","NW","N"],d=g-22.5;return d<0&&(d+=360),d=parseInt(d/45),h[d]},clone:function(){return p(this)},equals:function(t){return this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t){if(t instanceof p){var e=C(this.end.x-this.start.x,this.end.y-this.start.y),i=C(t.end.x-t.start.x,t.end.y-t.start.y),n=e.x*i.y-e.y*i.x,r=C(t.start.x-this.start.x,t.start.y-this.start.y),s=r.x*i.y-r.y*i.x,a=r.x*e.y-r.y*e.x;if(0===n||s*n<0||a*n<0)return null;if(n>0){if(s>n||a>n)return null}else if(s<n||a<n)return null;return C(this.start.x+s*e.x/n,this.start.y+s*e.y/n)}if(t instanceof A){var o,l,c=t,g=[c.topLine(),c.rightLine(),c.bottomLine(),c.leftLine()],h=[],d=[];for(l=0;l<g.length;l++)null!==(o=this.intersect(g[l]))&&d.indexOf(o.toString())<0&&(h.push(o),d.push(o.toString()));return h.length>0?h:null}return null},length:function(){return s(this.squaredLength())},midpoint:function(){return C((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},pointAt:function(t){var e=(1-t)*this.start.x+t*this.end.x,i=(1-t)*this.start.y+t*this.end.y;return C(e,i)},pointOffset:function(t){return((this.end.x-this.start.x)*(t.y-this.start.y)-(this.end.y-this.start.y)*(t.x-this.start.x))/2},squaredLength:function(){var t=this.start.x,e=this.start.y,i=this.end.x,n=this.end.y;return(t-=i)*t+(e-=n)*e},toString:function(){return this.start.toString()+" "+this.end.toString()}},t.Line.prototype.intersection=t.Line.prototype.intersect;var C=t.Point=function(t,e){if(!(this instanceof C))return new C(t,e);if("string"==typeof t){var i=t.split(-1===t.indexOf("@")?" ":"@");t=parseInt(i[0],10),e=parseInt(i[1],10)}else Object(t)===t&&(e=t.y,t=t.x);this.x=void 0===t?0:t,this.y=void 0===e?0:e};t.Point.fromPolar=function(t,e,s){s=s&&C(s)||C(0,0);var a=i(t*n(e)),o=i(t*r(e)),l=f(y(e));return l<90?o=-o:l<180?(a=-a,o=-o):l<270&&(a=-a),C(s.x+a,s.y+o)},t.Point.random=function(t,e,i,n){return C(g(d()*(e-t+1)+t),g(d()*(n-i+1)+i))},t.Point.prototype={adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=a(o(this.x,t.x),t.x+t.width),this.y=a(o(this.y,t.y),t.y+t.height),this)},bearing:function(t){return p(this,t).bearing()},changeInAngle:function(t,e,i){return C(this).offset(-t,-e).theta(i)-this.theta(i)},clone:function(){return C(this)},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),C(this.x-(t||0),this.y-(e||0))},distance:function(t){return p(this,t).length()},equals:function(t){return this.x===t.x&&this.y===t.y},magnitude:function(){return s(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return i(t.x-this.x)+i(t.y-this.y)},move:function(t,e){var i=w(C(t).theta(this));return this.offset(n(i)*e,-r(i)*e)},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return C(t).move(this,this.distance(t))},rotate:function(t,e){e=(e+360)%360,this.toPolar(t),this.y+=w(e);var i=C.fromPolar(this.x,this.y,t);return this.x=i.x,this.y=i.y,this},round:function(t){var e=u(10,t||0);return this.x=c(this.x*e)/e,this.y=c(this.y*e)/e,this},scale:function(t,e,i){return i=i&&C(i)||C(0,0),this.x=i.x+t*(this.x-i.x),this.y=i.y+e*(this.y-i.y),this},snapToGrid:function(t,e){return this.x=m(this.x,t),this.y=m(this.y,e||t),this},theta:function(t){t=C(t);var e=-(t.y-this.y),i=t.x-this.x,n=0==e.toFixed(10)&&0==i.toFixed(10)?0:l(e,i);return n<0&&(n=2*h+n),180*n/h},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&C(t)||C(0,0);var e=this.x,i=this.y;return this.x=s((e-t.x)*(e-t.x)+(i-t.y)*(i-t.y)),this.y=w(t.theta(C(e,i))),this},toString:function(){return this.x+"@"+this.y},update:function(t,e){return this.x=t||0,this.y=e||0,this}};var A=t.Rect=function(t,e,i,n){return this instanceof A?(Object(t)===t&&(e=t.y,i=t.width,n=t.height,t=t.x),this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.width=void 0===i?0:i,void(this.height=void 0===n?0:n)):new A(t,e,i,n)};t.Rect.fromEllipse=function(t){return t=I(t),A(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},t.Rect.prototype={bbox:function(t){var e=w(t||0),s=i(r(e)),a=i(n(e)),o=this.width*a+this.height*s,l=this.width*s+this.height*a;return A(this.x+(this.width-o)/2,this.y+(this.height-l)/2,o,l)},bottomLeft:function(){return C(this.x,this.y+this.height)},bottomLine:function(){return p(this.bottomLeft(),this.corner())},bottomMiddle:function(){return C(this.x+this.width/2,this.y+this.height)},center:function(){return C(this.x+this.width/2,this.y+this.height/2)},clone:function(){return A(this)},containsPoint:function(t){return t=C(t),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=A(this).normalize(),i=A(t).normalize(),n=e.width,r=e.height,s=i.width,a=i.height;if(!(n&&r&&s&&a))return!1;var o=e.x,l=e.y,c=i.x,g=i.y;return s+=c,n+=o,a+=g,r+=l,o<=c&&s<=n&&l<=g&&a<=r},corner:function(){return C(this.x+this.width,this.y+this.height)},equals:function(t){var e=A(this).normalize(),i=A(t).normalize();return e.x===i.x&&e.y===i.y&&e.width===i.width&&e.height===i.height},intersect:function(t){var e=this.origin(),i=this.corner(),n=t.origin(),r=t.corner();if(r.x<=e.x||r.y<=e.y||n.x>=i.x||n.y>=i.y)return null;var s=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return A(s,a,Math.min(i.x,r.x)-s,Math.min(i.y,r.y)-a)},intersectionWithLineFromCenterToPoint:function(t,e){t=C(t);var i,n=C(this.x+this.width/2,this.y+this.height/2);e&&t.rotate(n,e);for(var r=[p(this.origin(),this.topRight()),p(this.topRight(),this.corner()),p(this.corner(),this.bottomLeft()),p(this.bottomLeft(),this.origin())],s=p(n,t),a=r.length-1;a>=0;--a){var o=r[a].intersection(s);if(null!==o){i=o;break}}return i&&e&&i.rotate(n,-e),i},leftLine:function(){return p(this.origin(),this.bottomLeft())},leftMiddle:function(){return C(this.x,this.y+this.height/2)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},normalize:function(){var t=this.x,e=this.y,i=this.width,n=this.height;return this.width<0&&(t=this.x+this.width,i=-this.width),this.height<0&&(e=this.y+this.height,n=-this.height),this.x=t,this.y=e,this.width=i,this.height=n,this},origin:function(){return C(this.x,this.y)},pointNearestToPoint:function(t){if(t=C(t),this.containsPoint(t)){switch(this.sideNearestToPoint(t)){case"right":return C(this.x+this.width,t.y);case"left":return C(this.x,t.y);case"bottom":return C(t.x,this.y+this.height);case"top":return C(t.x,this.y)}}return t.adhereToRect(this)},rightLine:function(){return p(this.topRight(),this.corner())},rightMiddle:function(){return C(this.x+this.width,this.y+this.height/2)},round:function(t){var e=u(10,t||0);return this.x=c(this.x*e)/e,this.y=c(this.y*e)/e,this.width=c(this.width*e)/e,this.height=c(this.height*e)/e,this},scale:function(t,e,i){return i=this.origin().scale(t,e,i),this.x=i.x,this.y=i.y,this.width*=t,this.height*=e,this},maxRectScaleToFit:function(e,i){e=t.Rect(e),i||(i=e.center());var n,r,s,a,o,l,c,g,h=i.x,d=i.y;n=r=s=a=o=l=c=g=1/0;var u=e.origin();u.x<h&&(n=(this.x-h)/(u.x-h)),u.y<d&&(o=(this.y-d)/(u.y-d));var I=e.corner();I.x>h&&(r=(this.x+this.width-h)/(I.x-h)),I.y>d&&(l=(this.y+this.height-d)/(I.y-d));var p=e.topRight();p.x>h&&(s=(this.x+this.width-h)/(p.x-h)),p.y<d&&(c=(this.y-d)/(p.y-d));var C=e.bottomLeft();return C.x<h&&(a=(this.x-h)/(C.x-h)),C.y>d&&(g=(this.y+this.height-d)/(C.y-d)),{sx:Math.min(n,r,s,a),sy:Math.min(o,l,c,g)}},maxRectUniformScaleToFit:function(t,e){var i=this.maxRectScaleToFit(t,e);return Math.min(i.sx,i.sy)},sideNearestToPoint:function(t){t=C(t);var e=t.x-this.x,i=this.x+this.width-t.x,n=t.y-this.y,r=this.y+this.height-t.y,s=e,a="left";return i<s&&(s=i,a="right"),n<s&&(s=n,a="top"),r<s&&(s=r,a="bottom"),a},snapToGrid:function(t,e){var i=this.origin().snapToGrid(t,e),n=this.corner().snapToGrid(t,e);return this.x=i.x,this.y=i.y,this.width=n.x-i.x,this.height=n.y-i.y,this},topLine:function(){return p(this.origin(),this.topRight())},topMiddle:function(){return C(this.x+this.width/2,this.y)},topRight:function(){return C(this.x+this.width,this.y)},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){var e=this.origin(),i=this.corner(),n=t.origin(),r=t.corner(),s=Math.min(e.x,n.x),a=Math.min(e.y,n.y),o=Math.max(i.x,r.x),l=Math.max(i.y,r.y);return A(s,a,o-s,l-a)}};var f=t.normalizeAngle=function(t){return t%360+(t<0?360:0)};t.scale={linear:function(t,e,i){var n=t[1]-t[0],r=e[1]-e[0];return(i-t[0])/n*r+e[0]||0}};var m=t.snapToGrid=function(t,e){return e*Math.round(t/e)},y=t.toDeg=function(t){return 180*t/h%360},w=t.toRad=function(t,e){return e=e||!1,(t=e?t:t%360)*h/180};return t.ellipse=t.Ellipse,t.line=t.Line,t.point=t.Point,t.rect=t.Rect,t}();r=function(){"use strict";if("object"!=typeof window||!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))return function(){throw new Error("SVG is required to use Vectorizer.")};var t={xmlns:"http://www.w3.org/2000/svg",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink"},e=function(i,n,r){if(!(this instanceof e))return e.apply(Object.create(e.prototype),arguments);if(i){if(e.isV(i)&&(i=i.node),n=n||{},e.isString(i)){if("svg"===i.toLowerCase())i=e.createSvgDocument();else if("<"===i[0]){var s=e.createSvgDocument(i);if(s.childNodes.length>1){var a,o,l=[];for(a=0,o=s.childNodes.length;a<o;a++){var c=s.childNodes[a];l.push(new e(document.importNode(c,!0)))}return l}i=document.importNode(s.firstChild,!0)}else i=document.createElementNS(t.xmlns,i);e.ensureId(i)}return this.node=i,this.setAttributes(n),r&&this.append(r),this}};e.prototype.getTransformToElement=function(t){return t=e.toNode(t),t.getScreenCTM().inverse().multiply(this.node.getScreenCTM())},e.prototype.transform=function(t,i){var n=this.node;if(e.isUndefined(t))return e.transformStringToMatrix(this.attr("transform"));if(i&&i.absolute)return this.attr("transform",e.matrixToTransformString(t));var r=e.createSVGTransform(t);return n.transform.baseVal.appendItem(r),this},e.prototype.translate=function(t,i,n){n=n||{},i=i||0;var r=this.attr("transform")||"",s=e.parseTransformString(r);if(r=s.value,e.isUndefined(t))return s.translate;r=r.replace(/translate\([^\)]*\)/g,"").trim();var a=n.absolute?t:s.translate.tx+t,o=n.absolute?i:s.translate.ty+i,l="translate("+a+","+o+")";return this.attr("transform",(l+" "+r).trim()),this},e.prototype.rotate=function(t,i,n,r){r=r||{};var s=this.attr("transform")||"",a=e.parseTransformString(s);if(s=a.value,e.isUndefined(t))return a.rotate;s=s.replace(/rotate\([^\)]*\)/g,"").trim(),t%=360;var o=r.absolute?t:a.rotate.angle+t,l=void 0!==i&&void 0!==n?","+i+","+n:"",c="rotate("+o+l+")";return this.attr("transform",(s+" "+c).trim()),this},e.prototype.scale=function(t,i){i=e.isUndefined(i)?t:i;var n=this.attr("transform")||"",r=e.parseTransformString(n);if(n=r.value,e.isUndefined(t))return r.scale;n=n.replace(/scale\([^\)]*\)/g,"").trim();var s="scale("+t+","+i+")";return this.attr("transform",(n+" "+s).trim()),this},e.prototype.bbox=function(t,i){if(!this.node.ownerSVGElement)return{x:0,y:0,width:0,height:0};var n;try{n=this.node.getBBox(),n={x:n.x,y:n.y,width:n.width,height:n.height}}catch(t){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}if(t)return n;var r=this.getTransformToElement(i||this.node.ownerSVGElement);return e.transformRect(n,r)},e.prototype.text=function(t,i){t=e.sanitizeText(t),i=i||{};var n,r=t.split("\n");this.attr("y")||this.attr("y","0.8em"),t?this.removeAttr("display"):this.attr("display","none"),this.attr("xml:space","preserve"),this.node.textContent="";var s=this.node;if(i.textPath){var a=this.find("defs");0===a.length&&(a=e("defs"),this.append(a));var o=Object(i.textPath)===i.textPath?i.textPath.d:i.textPath;if(o){var l=e("path",{d:o});a.append(l)}var c=e("textPath");!i.textPath["xlink:href"]&&l&&c.attr("xlink:href","#"+l.node.id),Object(i.textPath)===i.textPath&&c.attr(i.textPath),this.append(c),s=c.node}var g=0,h=this.attr("x")||0,d=i.lineHeight||"1em";"auto"===i.lineHeight&&(d="1.5em");for(var u=0;u<r.length;u++){var I=r[u],p=e("tspan",{class:"v-line",dy:0==u?"0em":d,x:h});if(I)if(i.annotations){for(var C=0,A=e.annotateString(r[u],e.isArray(i.annotations)?i.annotations:[i.annotations],{offset:-g,includeAnnotationIndices:i.includeAnnotationIndices}),f=0;f<A.length;f++){var m=A[f];if(e.isObject(m)){var y=parseInt(m.attrs["font-size"],10);y&&y>C&&(C=y),n=e("tspan",m.attrs),i.includeAnnotationIndices&&n.attr("annotations",m.annotations),m.attrs.class&&n.addClass(m.attrs.class),n.node.textContent=m.t}else n=document.createTextNode(m||" ");p.append(n)}"auto"===i.lineHeight&&C&&0!==u&&p.attr("dy",1.2*C+"px")}else p.node.textContent=I;else p.addClass("v-empty-line"),p.node.style.fillOpacity=0,p.node.style.strokeOpacity=0,p.node.textContent="-";e(s).append(p),g+=I.length+1}return this},e.prototype.removeAttr=function(t){var i=e.qualifyAttr(t),n=this.node;return i.ns?n.hasAttributeNS(i.ns,i.local)&&n.removeAttributeNS(i.ns,i.local):n.hasAttribute(t)&&n.removeAttribute(t),this},e.prototype.attr=function(t,i){if(e.isUndefined(t)){for(var n=this.node.attributes,r={},s=0;s<n.length;s++)r[n[s].name]=n[s].value;return r}if(e.isString(t)&&e.isUndefined(i))return this.node.getAttribute(t);if("object"==typeof t)for(var a in t)t.hasOwnProperty(a)&&this.setAttribute(a,t[a]);else this.setAttribute(t,i);return this},e.prototype.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},e.prototype.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},e.prototype.setAttributes=function(t){for(var e in t)t.hasOwnProperty(e)&&this.setAttribute(e,t[e]);return this},e.prototype.append=function(t){e.isArray(t)||(t=[t]);for(var i=0,n=t.length;i<n;i++)this.node.appendChild(e.toNode(t[i]));return this},e.prototype.prepend=function(t){var i=this.node.firstChild;return i?e(i).before(t):this.append(t)},e.prototype.before=function(t){var i=this.node,n=i.parentNode;if(n){e.isArray(t)||(t=[t]);for(var r=0,s=t.length;r<s;r++)n.insertBefore(e.toNode(t[r]),i)}return this},e.prototype.appendTo=function(t){return e.toNode(t).appendChild(this.node),this},e.prototype.svg=function(){return this.node instanceof window.SVGSVGElement?this:e(this.node.ownerSVGElement)},e.prototype.defs=function(){var t=this.svg().node.getElementsByTagName("defs");return t&&t.length?e(t[0]):void 0},e.prototype.clone=function(){var t=e(this.node.cloneNode(!0));return t.node.id=e.uniqueId(),t},e.prototype.findOne=function(t){var i=this.node.querySelector(t);return i?e(i):void 0},e.prototype.find=function(t){var i=[],n=this.node.querySelectorAll(t);if(n)for(var r=0;r<n.length;r++)i.push(e(n[r]));return i},e.prototype.index=function(){for(var t=0,e=this.node.previousSibling;e;)1===e.nodeType&&t++,e=e.previousSibling;return t},e.prototype.findParentByClass=function(t,i){for(var n=this.node.ownerSVGElement,r=this.node.parentNode;r&&r!==i&&r!==n;){var s=e(r);if(s.hasClass(t))return s;r=r.parentNode}return null},e.prototype.contains=function(t){var i=this.node,n=e.toNode(t),r=n&&n.parentNode;return i===r||!!(r&&1===r.nodeType&&16&i.compareDocumentPosition(r))},e.prototype.toLocalPoint=function(t,e){var i=this.svg().node,n=i.createSVGPoint();n.x=t,n.y=e;try{var r=n.matrixTransform(i.getScreenCTM().inverse()),s=this.getTransformToElement(i).inverse()}catch(t){return n}return r.matrixTransform(s)},e.prototype.translateCenterToPoint=function(t){var e=this.bbox(),i=s.rect(e).center();this.translate(t.x-i.x,t.y-i.y)},e.prototype.translateAndAutoOrient=function(t,i,n){var r=this.scale();this.attr("transform",""),this.scale(r.sx,r.sy);var a=this.svg().node,o=this.bbox(!1,n),l=a.createSVGTransform();l.setTranslate(-o.x-o.width/2,-o.y-o.height/2);var c=a.createSVGTransform(),g=s.point(t).changeInAngle(t.x-i.x,t.y-i.y,i);c.setRotate(g,0,0);var h=a.createSVGTransform(),d=s.point(t).move(i,o.width/2);h.setTranslate(t.x+(t.x-d.x),t.y+(t.y-d.y));var u=this.getTransformToElement(n),I=a.createSVGTransform();I.setMatrix(h.matrix.multiply(c.matrix.multiply(l.matrix.multiply(u))));var p=e.decomposeMatrix(I.matrix);return this.translate(p.translateX,p.translateY),this.rotate(p.rotation),this},e.prototype.animateAlongPath=function(t,i){i=e.toNode(i);var n=e.ensureId(i),r=e("animateMotion",t),s=e("mpath",{"xlink:href":"#"+n});r.append(s),this.append(r);try{r.node.beginElement()}catch(t){if("fake"===document.documentElement.getAttribute("smiling")){var a=r.node;a.animators=[];var o=a.getAttribute("id");o&&(id2anim[o]=a);for(var l=getTargets(a),c=0,g=l.length;c<g;c++){var h=l[c],d=new Animator(a,h,c);animators.push(d),a.animators[c]=d,d.register()}}}},e.prototype.hasClass=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.node.getAttribute("class"))},e.prototype.addClass=function(t){if(!this.hasClass(t)){var e=this.node.getAttribute("class")||"";this.node.setAttribute("class",(e+" "+t).trim())}return this},e.prototype.removeClass=function(t){if(this.hasClass(t)){var e=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2");this.node.setAttribute("class",e)}return this},e.prototype.toggleClass=function(t,i){return(e.isUndefined(i)?this.hasClass(t):!i)?this.removeClass(t):this.addClass(t),this},e.prototype.sample=function(t){t=t||1;for(var e,i=this.node,n=i.getTotalLength(),r=[],s=0;s<n;)e=i.getPointAtLength(s),r.push({x:e.x,y:e.y,distance:s}),s+=t;return r},e.prototype.convertToPath=function(){var t=e("path");t.attr(this.attr());var i=this.convertToPathData();return i&&t.attr("d",i),t},e.prototype.convertToPathData=function(){var t=this.node.tagName.toUpperCase();switch(t){case"PATH":return this.attr("d");case"LINE":return e.convertLineToPathData(this.node);case"POLYGON":return e.convertPolygonToPathData(this.node);case"POLYLINE":return e.convertPolylineToPathData(this.node);case"ELLIPSE":return e.convertEllipseToPathData(this.node);case"CIRCLE":return e.convertCircleToPathData(this.node);case"RECT":return e.convertRectToPathData(this.node)}throw new Error(t+" cannot be converted to PATH.")},e.prototype.findIntersection=function(t,i){var n=this.svg().node;i=i||n;var r=s.rect(this.bbox(!1,i)),a=r.center();if(r.intersectionWithLineFromCenterToPoint(t)){var o,l=this.node.localName.toUpperCase();if("RECT"===l){var c=s.rect(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),g=this.getTransformToElement(i),h=e.decomposeMatrix(g),d=n.createSVGTransform();d.setRotate(-h.rotation,a.x,a.y);var u=e.transformRect(c,d.matrix.multiply(g));o=s.rect(u).intersectionWithLineFromCenterToPoint(t,h.rotation)}else if("PATH"===l||"POLYGON"===l||"POLYLINE"===l||"CIRCLE"===l||"ELLIPSE"===l){var I,p,C,A,f,m,y="PATH"===l?this:this.convertToPath(),w=y.sample(),b=1/0,v=[];for(I=0;I<w.length;I++)p=w[I],C=e.createSVGPoint(p.x,p.y),C=C.matrixTransform(this.getTransformToElement(i)),p=s.point(C),A=p.distance(a),f=1.1*p.distance(t),m=A+f,m<b?(b=m,v=[{sample:p,refDistance:f}]):m<b+1&&v.push({sample:p,refDistance:f});v.sort(function(t,e){return t.refDistance-e.refDistance}),v[0]&&(o=v[0].sample)}return o}},e.prototype.setAttribute=function(t,i){var n=this.node;if(null===i)return this.removeAttr(t),this;var r=e.qualifyAttr(t);return r.ns?n.setAttributeNS(r.ns,t,i):"id"===t?n.id=i:n.setAttribute(t,i),this},e.createSvgDocument=function(i){var n='<svg xmlns="'+t.xmlns+'" xmlns:xlink="'+t.xlink+'" version="1.1">'+(i||"")+"</svg>";return e.parseXML(n,{async:!1}).documentElement},e.idCounter=0,e.uniqueId=function(){return"v-"+ ++e.idCounter},e.ensureId=function(t){return t.id||(t.id=e.uniqueId())},e.sanitizeText=function(t){return(t||"").replace(/ /g," ")},e.isUndefined=function(t){return void 0===t},e.isString=function(t){return"string"==typeof t},e.isObject=function(t){return t&&"object"==typeof t},e.isArray=Array.isArray,e.parseXML=function(t,i){i=i||{};var n;try{var r=new DOMParser;e.isUndefined(i.async)||(r.async=i.async),n=r.parseFromString(t,"text/xml")}catch(t){n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+t);return n},e.qualifyAttr=function(e){if(-1!==e.indexOf(":")){var i=e.split(":");return{ns:t[i[0]],local:i[1]}}return{ns:null,local:e}},e.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,e.transformSeparatorRegex=/[ ,]+/,e.transformationListRegex=/^(\w+)\((.*)\)/,e.transformStringToMatrix=function(t){var i=e.createSVGMatrix(),n=t&&t.match(e.transformRegex);if(!n)return i;for(var r=0,s=n.length;r<s;r++){var a=n[r],o=a.match(e.transformationListRegex);if(o){var l,c,g,h,d,u=e.createSVGMatrix(),I=o[2].split(e.transformSeparatorRegex);switch(o[1].toLowerCase()){case"scale":l=parseFloat(I[0]),c=void 0===I[1]?l:parseFloat(I[1]),u=u.scaleNonUniform(l,c);break;case"translate":g=parseFloat(I[0]),h=parseFloat(I[1]),u=u.translate(g,h);break;case"rotate":d=parseFloat(I[0]),g=parseFloat(I[1])||0,h=parseFloat(I[2])||0,u=0!==g||0!==h?u.translate(g,h).rotate(d).translate(-g,-h):u.rotate(d);break;case"skewx":d=parseFloat(I[0]),u=u.skewX(d);break;case"skewy":d=parseFloat(I[0]),u=u.skewY(d);break;case"matrix":u.a=parseFloat(I[0]),u.b=parseFloat(I[1]),u.c=parseFloat(I[2]),u.d=parseFloat(I[3]),u.e=parseFloat(I[4]),u.f=parseFloat(I[5]);break;default:continue}i=i.multiply(u)}}return i},e.matrixToTransformString=function(t){return t||(t=!0),"matrix("+(t.a||1)+","+(t.b||0)+","+(t.c||0)+","+(t.d||1)+","+(t.e||0)+","+(t.f||0)+")"},e.parseTransformString=function(t){var i,n,r;if(t){var s=e.transformSeparatorRegex;if(t.trim().indexOf("matrix")>=0){var a=e.transformStringToMatrix(t),o=e.decomposeMatrix(a);i=[o.translateX,o.translateY],r=[o.scaleX,o.scaleY],n=[o.rotation];var l=[];0===i[0]&&0===i[0]||l.push("translate("+i+")"),1===r[0]&&1===r[1]||l.push("scale("+r+")"),0!==n[0]&&l.push("rotate("+n+")"),t=l.join(" ")}else{var c=t.match(/translate\((.*)\)/);c&&(i=c[1].split(s));var g=t.match(/rotate\((.*)\)/);g&&(n=g[1].split(s));var h=t.match(/scale\((.*)\)/);h&&(r=h[1].split(s))}}var d=r&&r[0]?parseFloat(r[0]):1;return{value:t,translate:{tx:i&&i[0]?parseInt(i[0],10):0,ty:i&&i[1]?parseInt(i[1],10):0},rotate:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:d,sy:r&&r[1]?parseFloat(r[1]):d}}},e.deltaTransformPoint=function(t,e){return{x:e.x*t.a+e.y*t.c+0,y:e.x*t.b+e.y*t.d+0}},e.decomposeMatrix=function(t){var i=e.deltaTransformPoint(t,{x:0,y:1}),n=e.deltaTransformPoint(t,{x:1,y:0}),r=180/Math.PI*Math.atan2(i.y,i.x)-90,s=180/Math.PI*Math.atan2(n.y,n.x);return{translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),skewX:r,skewY:s,rotation:r}},e.matrixToScale=function(t){var i,n,r,s;return t?(i=e.isUndefined(t.a)?1:t.a,s=e.isUndefined(t.d)?1:t.d,n=t.b,r=t.c):i=s=1,{sx:n?Math.sqrt(i*i+n*n):i,sy:r?Math.sqrt(r*r+s*s):s}},e.matrixToRotate=function(t){var i={x:0,y:1};return t&&(i=e.deltaTransformPoint(t,i)),{angle:s.normalizeAngle(s.toDeg(Math.atan2(i.y,i.x))-90)}},e.matrixToTranslate=function(t){return{tx:t&&t.e||0,ty:t&&t.f||0}},e.isV=function(t){return t instanceof e},e.isVElement=e.isV;var i=e("svg").node;return e.createSVGMatrix=function(t){var e=i.createSVGMatrix();for(var n in t)e[n]=t[n];return e},e.createSVGTransform=function(t){return e.isUndefined(t)?i.createSVGTransform():(t instanceof SVGMatrix||(t=e.createSVGMatrix(t)),i.createSVGTransformFromMatrix(t))},e.createSVGPoint=function(t,e){var n=i.createSVGPoint();return n.x=t,n.y=e,n},e.transformRect=function(t,e){var n=i.createSVGPoint();n.x=t.x,n.y=t.y;var r=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y;var a=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y+t.height;var o=n.matrixTransform(e);n.x=t.x,n.y=t.y+t.height;var l=n.matrixTransform(e),c=Math.min(r.x,a.x,o.x,l.x),g=Math.max(r.x,a.x,o.x,l.x),h=Math.min(r.y,a.y,o.y,l.y),d=Math.max(r.y,a.y,o.y,l.y);return s.Rect(c,h,g-c,d-h)},e.transformPoint=function(t,i){return s.Point(e.createSVGPoint(t.x,t.y).matrixTransform(i))},e.styleToObject=function(t){for(var e={},i=t.split(";"),n=0;n<i.length;n++){var r=i[n],s=r.split("=");e[s[0].trim()]=s[1].trim()}return e},e.createSlicePathData=function(t,e,i,n){var r=2*Math.PI-1e-6,s=t,a=e,o=i,l=n,c=(l<o&&(c=o,o=l,l=c),l-o),g=c<Math.PI?"0":"1",h=Math.cos(o),d=Math.sin(o),u=Math.cos(l),I=Math.sin(l);return c>=r?s?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+s+"A"+s+","+s+" 0 1,0 0,"+-s+"A"+s+","+s+" 0 1,0 0,"+s+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":s?"M"+a*h+","+a*d+"A"+a+","+a+" 0 "+g+",1 "+a*u+","+a*I+"L"+s*u+","+s*I+"A"+s+","+s+" 0 "+g+",0 "+s*h+","+s*d+"Z":"M"+a*h+","+a*d+"A"+a+","+a+" 0 "+g+",1 "+a*u+","+a*I+"L0,0Z"},e.mergeAttrs=function(t,i){for(var n in i)"class"===n?t[n]=t[n]?t[n]+" "+i[n]:i[n]:"style"===n?e.isObject(t[n])&&e.isObject(i[n])?t[n]=e.mergeAttrs(t[n],i[n]):e.isObject(t[n])?t[n]=e.mergeAttrs(t[n],e.styleToObject(i[n])):e.isObject(i[n])?t[n]=e.mergeAttrs(e.styleToObject(t[n]),i[n]):t[n]=e.mergeAttrs(e.styleToObject(t[n]),e.styleToObject(i[n])):t[n]=i[n];return t},e.annotateString=function(t,i,n){i=i||[],n=n||{};for(var r,s,a,o=n.offset||0,l=[],c=[],g=0;g<t.length;g++){s=c[g]=t[g];for(var h=0;h<i.length;h++){var d=i[h],u=d.start+o,I=d.end+o;g>=u&&g<I&&(e.isObject(s)?s.attrs=e.mergeAttrs(e.mergeAttrs({},s.attrs),d.attrs):s=c[g]={t:t[g],attrs:d.attrs},n.includeAnnotationIndices&&(s.annotations||(s.annotations=[])).push(h))}a=c[g-1],a?e.isObject(s)&&e.isObject(a)?JSON.stringify(s.attrs)===JSON.stringify(a.attrs)?r.t+=s.t:(l.push(r),r=s):e.isObject(s)?(l.push(r),r=s):e.isObject(a)?(l.push(r),r=s):r=(r||"")+s:r=s}return r&&l.push(r),l},e.findAnnotationsAtIndex=function(t,e){var i=[];return t&&t.forEach(function(t){t.start<e&&e<=t.end&&i.push(t)}),i},e.findAnnotationsBetweenIndexes=function(t,e,i){var n=[];return t&&t.forEach(function(t){(e>=t.start&&e<t.end||i>t.start&&i<=t.end||t.start>=e&&t.end<i)&&n.push(t)}),n},e.shiftAnnotations=function(t,e,i){return t&&t.forEach(function(t){t.start<e&&t.end>=e?t.end+=i:t.start>=e&&(t.start+=i,t.end+=i)}),t},e.convertLineToPathData=function(t){return t=e(t),["M",t.attr("x1"),t.attr("y1"),"L",t.attr("x2"),t.attr("y2")].join(" ")},e.convertPolygonToPathData=function(t){var i=e.getPointsFromSvgNode(e(t).node);return i.length>0?e.svgPointsToPath(i)+" Z":null},e.convertPolylineToPathData=function(t){var i=e.getPointsFromSvgNode(e(t).node);return i.length>0?e.svgPointsToPath(i):null},e.svgPointsToPath=function(t){var e;for(e=0;e<t.length;e++)t[e]=t[e].x+" "+t[e].y;return"M "+t.join(" L")},e.getPointsFromSvgNode=function(t){var e,i=[];for(e=0;e<t.points.numberOfItems;e++)i.push(t.points.getItem(e));return i},e.KAPPA=.5522847498307935,e.convertCircleToPathData=function(t){t=e(t);var i=parseFloat(t.attr("cx"))||0,n=parseFloat(t.attr("cy"))||0,r=parseFloat(t.attr("r")),s=r*e.KAPPA;return["M",i,n-r,"C",i+s,n-r,i+r,n-s,i+r,n,"C",i+r,n+s,i+s,n+r,i,n+r,"C",i-s,n+r,i-r,n+s,i-r,n,"C",i-r,n-s,i-s,n-r,i,n-r,"Z"].join(" ")},e.convertEllipseToPathData=function(t){t=e(t);var i=parseFloat(t.attr("cx"))||0,n=parseFloat(t.attr("cy"))||0,r=parseFloat(t.attr("rx")),s=parseFloat(t.attr("ry"))||r,a=r*e.KAPPA,o=s*e.KAPPA;return["M",i,n-s,"C",i+a,n-s,i+r,n-o,i+r,n,"C",i+r,n+o,i+a,n+s,i,n+s,"C",i-a,n+s,i-r,n+o,i-r,n,"C",i-r,n-o,i-a,n-s,i,n-s,"Z"].join(" ")},e.convertRectToPathData=function(t){return t=e(t),e.rectToPath({x:parseFloat(t.attr("x"))||0,y:parseFloat(t.attr("y"))||0,width:parseFloat(t.attr("width"))||0,height:parseFloat(t.attr("height"))||0,rx:parseFloat(t.attr("rx"))||0,ry:parseFloat(t.attr("ry"))||0})},e.rectToPath=function(t){var e,i=t.x,n=t.y,r=t.width,s=t.height,a=Math.min(t.rx||t["top-rx"]||0,r/2),o=Math.min(t.rx||t["bottom-rx"]||0,r/2),l=Math.min(t.ry||t["top-ry"]||0,s/2),c=Math.min(t.ry||t["bottom-ry"]||0,s/2)
;return e=a||o||l||c?["M",i,n+l,"v",s-l-c,"a",o,c,0,0,0,o,c,"h",r-2*o,"a",o,c,0,0,0,o,-c,"v",-(s-c-l),"a",a,l,0,0,0,-a,-l,"h",-(r-2*a),"a",a,l,0,0,0,-a,l,"Z"]:["M",i,n,"H",i+r,"V",n+s,"H",i,"V",n,"Z"],e.join(" ")},e.toNode=function(t){return e.isV(t)?t.node:t.nodeName&&t||t[0]},e}();var a={version:"1.1.0",config:{classNamePrefix:"joint-",defaultTheme:"default"},dia:{},ui:{},layout:{},shapes:{},format:{},connectors:{},highlighters:{},routers:{},mvc:{views:{}},setTheme:function(t,e){e=e||{},i.invoke(a.mvc.views,"setTheme",t,e),a.mvc.View.prototype.defaultTheme=t},env:{_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return a.env._tests[t]=e},test:function(t){var e=a.env._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var i=a.env._results[t];if(void 0!==i)return i;try{i=e()}catch(t){i=!1}return a.env._results[t]=i,i}},util:{hashCode:function(t){var e=0;if(0==t.length)return e;for(var i=0;i<t.length;i++){e=(e<<5)-e+t.charCodeAt(i),e&=e}return e},getByPath:function(t,e,n){for(var r,s=i.isArray(e)?e.slice():e.split(n||"/");s.length;){if(r=s.shift(),!(Object(t)===t&&r in t))return;t=t[r]}return t},setByPath:function(t,e,n,r){for(var s=i.isArray(e)?e:e.split(r||"/"),a=t,o=0,l=s.length;o<l-1;o++)a=a[s[o]]||(a[s[o]]={});return a[s[l-1]]=n,t},unsetByPath:function(t,e,n){n=n||"/";var r=i.isArray(e)?e.slice():e.split(n),s=r.pop();if(r.length>0){var o=a.util.getByPath(t,r,n);o&&delete o[s]}else delete t[s];return t},flattenObject:function(t,e,i){e=e||"/";var n={};for(var r in t)if(t.hasOwnProperty(r)){var s="object"==typeof t[r];if(s&&i&&i(t[r])&&(s=!1),s){var a=this.flattenObject(t[r],e,i);for(var o in a)a.hasOwnProperty(o)&&(n[r+e+o]=a[o])}else n[r]=t[r]}return n},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},guid:function(t){return this.guid.id=this.guid.id||1,t.id=void 0===t.id?"j_"+this.guid.id++:t.id,t.id},toKebabCase:function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},mixin:i.assign,supplement:i.defaults,deepMixin:i.mixin,deepSupplement:i.defaultsDeep,normalizeEvent:function(t){var e=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(e){for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e}return t},nextFrame:function(){var t;if("undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),r=setTimeout(function(){t(i+n)},n);return e=i+n,r}}return function(e,n){return t(n?i.bind(e,n):e)}}(),cancelFrame:function(){var t,e="undefined"!=typeof window;return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?i.bind(t,window):t}(),shapePerimeterConnectionPoint:function(t,e,i,n){var a,o;if(!i){var l=e.$(".scalable")[0],c=e.$(".rotatable")[0];l&&l.firstChild?i=l.firstChild:c&&c.firstChild&&(i=c.firstChild)}return i?(o=r(i).findIntersection(n,t.paper.viewport))||(a=s.rect(r(i).bbox(!1,t.paper.viewport))):(a=e.model.getBBox(),o=a.intersectionWithLineFromCenterToPoint(n)),o||a.center()},parseCssNumeric:function(t,e){e=e||[];var n={value:parseFloat(t)};if(i.isNaN(n.value))return null;var r=e.join("|");if(i.isString(t)){var s=new RegExp("(\\d+)("+r+")$").exec(t);if(!s)return null;s[2]&&(n.unit=s[2])}return n},breakText:function(t,e,i,n){n=n||{};var s=e.width,o=e.height,l=n.svgDocument||r("svg").node,c=r("<text><tspan></tspan></text>").attr(i||{}).node,g=c.firstChild,h=document.createTextNode("");c.style.opacity=0,c.style.display="block",g.style.display="block",g.appendChild(h),l.appendChild(c),n.svgDocument||document.body.appendChild(l);for(var d,u,I=t.split(" "),p=[],C=[],A=0,f=0,m=I.length;A<m;A++){var y=I[A];if(h.data=C[f]?C[f]+" "+y:y,g.getComputedTextLength()<=s)C[f]=h.data,d&&(p[f++]=!0,d=0);else{if(!C[f]||d){var w=!!d;if(d=y.length-1,w||!d){if(!d){if(!C[f]){C=[];break}I.splice(A,2,y+I[A+1]),m--,p[f++]=!0,A--;continue}I[A]=y.substring(0,d),I[A+1]=y.substring(d)+I[A+1]}else I.splice(A,1,y.substring(0,d),y.substring(d)),m++,f&&!p[f-1]&&f--;A--;continue}f++,A--}if(void 0!==o){if(void 0===u){var b;b="auto"===i.lineHeight?{value:1.5,unit:"em"}:a.util.parseCssNumeric(i.lineHeight,["em"])||{value:1,unit:"em"},u=b.value,"em"===b.unit&&(u*=c.getBBox().height)}if(u*C.length>o){C.splice(Math.floor(o/u));break}}}return n.svgDocument?l.removeChild(c):document.body.removeChild(l),C.join("\n")},imageToDataUri:function(t,e){if(!t||"data:"===t.substr(0,"data:".length))return setTimeout(function(){e(null,t)},0);var i=function(e,i){if(200===e.status){var n=new FileReader;n.onload=function(t){var e=t.target.result;i(null,e)},n.onerror=function(){i(new Error("Failed to load image "+t))},n.readAsDataURL(e.response)}else i(new Error("Failed to load image "+t))},n=function(e,i){if(200===e.status){var n=new Uint8Array(e.response),r=t.split(".").pop()||"png";i(null,"data:image/"+({svg:"svg+xml"}[r]||r)+";base64,"+btoa(function(t){for(var e=[],i=0;i<t.length;i+=32768)e.push(String.fromCharCode.apply(null,t.subarray(i,i+32768)));return e.join("")}(n)))}else i(new Error("Failed to load image "+t))},r=new XMLHttpRequest;r.open("GET",t,!0),r.addEventListener("error",function(){e(new Error("Failed to load image "+t))}),r.responseType=window.FileReader?"blob":"arraybuffer",r.addEventListener("load",function(){window.FileReader?i(r,e):n(r,e)}),r.send()},getElementBBox:function(t){var e=n(t);if(0===e.length)throw new Error("Element not found");var i=e[0],s=i.ownerDocument,a=i.getBoundingClientRect(),o=0,l=0;if(i.ownerSVGElement){var c=r(i).bbox();o=a.width-c.width,l=a.height-c.height}return{x:a.left+window.pageXOffset-s.documentElement.offsetLeft+o/2,y:a.top+window.pageYOffset-s.documentElement.offsetTop+l/2,width:a.width-o,height:a.height-l}},sortElements:function(t,e){var i=n(t),r=i.map(function(){var t=this,e=t.parentNode,i=e.insertBefore(document.createTextNode(""),t.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,i),e.removeChild(i)}});return Array.prototype.sort.call(i,e).each(function(t){r[t].call(this)})},setAttributesBySelector:function(t,e){var r=n(t);i.each(e,function(t,e){var n=r.find(e).addBack().filter(e);i.has(t,"class")&&(n.addClass(t.class),t=i.omit(t,"class")),n.attr(t)})},normalizeSides:function(t){return Object(t)!==t?(t=t||0,{top:t,bottom:t,left:t,right:t}):{top:t.top||0,bottom:t.bottom||0,left:t.left||0,right:t.right||0}},timing:{linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,i=1;1;e+=i,i/=2)if(t>=(7-4*e)/11){var n=(11-6*e-11*t)/4;return-n*n+i*i}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,i){return e=e||0,i=i||1,function(n){var r=t(n);return r<e?e:r>i?i:r}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},interpolate:{number:function(t,e){var i=e-t;return function(e){return t+i*e}},object:function(t,e){var n=i.keys(t);return function(i){var r,s,a={};for(r=n.length-1;-1!=r;r--)s=n[r],a[s]=t[s]+(e[s]-t[s])*i;return a}},hexColor:function(t,e){var i=parseInt(t.slice(1),16),n=parseInt(e.slice(1),16),r=255&i,s=(255&n)-r,a=65280&i,o=(65280&n)-a,l=16711680&i,c=(16711680&n)-l;return function(t){return"#"+(1<<24|r+s*t&255|a+o*t&65280|l+c*t&16711680).toString(16).slice(1)}},unit:function(t,e){var i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,n=i.exec(t),r=i.exec(e),s=r[1].indexOf("."),a=s>0?r[1].length-s-1:0;t=+n[1];var o=+r[1]-t,l=n[2];return function(e){return(t+o*e).toFixed(a)+l}}},filter:{outline:function(t){var e=i.isFinite(t.margin)?t.margin:2,n=i.isFinite(t.width)?t.width:1;return a.util.template('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:t.color||"blue",opacity:i.isFinite(t.opacity)?t.opacity:1,outerRadius:e+n,innerRadius:e})},highlight:function(t){return a.util.template('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:t.color||"red",width:i.isFinite(t.width)?t.width:1,blur:i.isFinite(t.blur)?t.blur:0,opacity:i.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=i.isFinite(t.x)?t.x:2;return a.util.template('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:i.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return a.util.template(e)({dx:t.dx||0,dy:t.dy||0,opacity:i.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:i.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=i.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=i.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=i.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return a.util.template('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=i.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return a.util.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:i.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=i.isFinite(t.amount)?t.amount:1;return a.util.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},format:{number:function(t,e,i){function n(t){for(var e=t.length,n=[],r=0,s=i.grouping[0];e>0&&s>0;)n.push(t.substring(e-=s,e+s)),s=i.grouping[r=(r+1)%i.grouping.length];return n.reverse().join(i.thousands)}i=i||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var r=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,s=r.exec(t),a=s[1]||" ",o=s[2]||">",l=s[3]||"",c=s[4]||"",g=s[5],h=+s[6],d=s[7],u=s[8],I=s[9],p=1,C="",A="",f=!1;switch(u&&(u=+u.substring(1)),(g||"0"===a&&"="===o)&&(g=a="0",o="=",d&&(h-=Math.floor((h-1)/4))),I){case"n":d=!0,I="g";break;case"%":p=100,A="%",I="f";break;case"p":p=100,A="%",I="r";break;case"b":case"o":case"x":case"X":"#"===c&&(C="0"+I.toLowerCase());break;case"c":case"d":f=!0,u=0;break;case"s":p=-1,I="r"}"$"===c&&(C=i.currency[0],A=i.currency[1]),"r"!=I||u||(I="g"),null!=u&&("g"==I?u=Math.max(1,Math.min(21,u)):"e"!=I&&"f"!=I||(u=Math.max(0,Math.min(20,u))));var m=g&&d;if(f&&e%1)return"";var y=e<0||0===e&&1/e<0?(e=-e,"-"):l,w=A;if(p<0){var b=this.prefix(e,u);e=b.scale(e),w=b.symbol+A}else e*=p;e=this.convert(I,e,u);var v=e.lastIndexOf("."),M=v<0?e:e.substring(0,v),N=v<0?"":i.decimal+e.substring(v+1);!g&&d&&i.grouping&&(M=n(M));var x=C.length+M.length+N.length+(m?0:y.length),z=x<h?new Array(x=h-x+1).join(a):"";return m&&(M=n(z+M)),y+=C,e=M+N,("<"===o?y+e+z:">"===o?z+y+e:"^"===o?z.substring(0,x>>=1)+y+e+z.substring(x):y+(m?e:z+e))+w},string:function(t,e){for(var i,n="{",r=!1,s=[];-1!==(i=t.indexOf(n));){var a,o,l;if(a=t.slice(0,i),r){o=a.split(":"),l=o.shift().split("."),a=e;for(var c=0;c<l.length;c++)a=a[l[c]];o.length&&(a=this.number(o,a))}s.push(a),t=t.slice(i+1),n=(r=!r)?"}":"{"}return s.push(t),s.join("")},convert:function(t,e,i){switch(t){case"b":return e.toString(2);case"c":return String.fromCharCode(e);case"o":return e.toString(8);case"x":return e.toString(16);case"X":return e.toString(16).toUpperCase();case"g":return e.toPrecision(i);case"e":return e.toExponential(i);case"f":return e.toFixed(i);case"r":return(e=this.round(e,this.precision(e,i))).toFixed(Math.max(0,Math.min(20,this.precision(e*(1+1e-15),i))));default:return e+""}},round:function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},precision:function(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)},prefix:function(t,e){var n=i.map(["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],function(t,e){var i=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/i}:function(t){return t*i},symbol:t}}),r=0;return t&&(t<0&&(t*=-1),e&&(t=this.round(t,this.precision(t,e))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r<=0?r+1:r-1)/3)))),n[8+r/3]}},template:function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^\{\} ]+) ?\}|\{\{([^\{\} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(t){for(var e=Array.prototype.slice.call(arguments),r=i.find(e.slice(1,4),function(t){return!!t}),s=r.split("."),a=n[s.shift()];!i.isUndefined(a)&&s.length;)a=a[s.shift()];return i.isUndefined(a)?"":a})}},toggleFullScreen:function(t){function e(t,e){for(var n=["webkit","moz","ms","o",""],r=0;r<n.length;r++){var s=n[r],a=s?s+e:e.substr(0,1).toLowerCase()+e.substr(1);if(!i.isUndefined(t[a]))return i.isFunction(t[a])?t[a]():t[a]}}t=t||document.body,e(document,"FullscreenElement")||e(document,"FullScreenElement")?e(document,"ExitFullscreen")||e(document,"CancelFullScreen"):e(t,"RequestFullscreen")||e(t,"RequestFullScreen")},addClassNamePrefix:function(t){return t?i.map(t.toString().split(" "),function(t){return t.substr(0,a.config.classNamePrefix.length)!==a.config.classNamePrefix&&(t=a.config.classNamePrefix+t),t}).join(" "):t},removeClassNamePrefix:function(t){return t?i.map(t.toString().split(" "),function(t){return t.substr(0,a.config.classNamePrefix.length)===a.config.classNamePrefix&&(t=t.substr(a.config.classNamePrefix.length)),t}).join(" "):t},wrapWith:function(t,e,n){if(i.isString(n)){if(!a.util.wrappers[n])throw new Error('Unknown wrapper: "'+n+'"');n=a.util.wrappers[n]}if(!i.isFunction(n))throw new Error("Wrapper must be a function.");i.each(e,function(e){t[e]=n(t[e])})},wrappers:{cells:function(t){return function(){var e=Array.prototype.slice.call(arguments),n=e.length>0&&i.first(e)||[],r=e.length>1&&i.last(e)||{};return i.isArray(n)||(r instanceof a.dia.Cell?n=e:n instanceof a.dia.Cell&&(n=e.length>1?i.initial(e):e)),r instanceof a.dia.Cell&&(r={}),t.call(this,n,r)}}}}};if(a.mvc.View=e.View.extend({options:{},theme:null,themeClassNamePrefix:a.util.addClassNamePrefix("theme-"),requireSetThemeOverride:!1,defaultTheme:a.config.defaultTheme,constructor:function(t){e.View.call(this,t)},initialize:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=i.extend({},this.options,t),i.bindAll(this,"setTheme","onSetTheme","remove","onRemove"),a.mvc.views[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this._ensureElClassName(),this.init()},_ensureElement:function(){var t;if(this.svgElement){if(this.el)t=i.result(this,"el");else{var n=i.extend({id:this.id},i.result(this,"attributes"));this.className&&(n.class=i.result(this,"className")),t=r(i.result(this,"tagName"),n).node}this.setElement(t,!1)}else e.View.prototype._ensureElement.call(this)},_setElement:function(t){this.svgElement?(this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],this.vel=r(this.el)):e.View.prototype._setElement.call(this,t)},_ensureElClassName:function(){var t=i.result(this,"className"),e=a.util.addClassNamePrefix(t);this.$el.removeClass(t),this.$el.addClass(e)},init:function(){},onRender:function(){},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),a.mvc.views[this.cid]=null,e.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid}},{extend:function(){var t=Array.prototype.slice.call(arguments),n=t[0]&&i.clone(t[0])||{},r=t[1]&&i.clone(t[1])||{},s=n.render||this.prototype&&this.prototype.render||null;return n.render=function(){return s&&s.apply(this,arguments),this.onRender(),this},e.View.extend.call(this,n,r)}}),a.dia.GraphCells=e.Collection.extend({cellNamespace:a.shapes,initialize:function(t,e){e.cellNamespace&&(this.cellNamespace=e.cellNamespace),this.graph=e.graph},model:function(t,e){var i=e.collection,n=i.cellNamespace,r="link"===t.type?a.dia.Link:a.util.getByPath(n,t.type,".")||a.dia.Element,s=new r(t,e);return s.graph=i.graph,s},comparator:function(t){return t.get("z")||0}}),a.dia.Graph=e.Model.extend({_batches:{},initialize:function(t,i){i=i||{};var n=new a.dia.GraphCells([],{model:i.cellModel,cellNamespace:i.cellNamespace,graph:this});e.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this.on("batch:stop",this._onBatchStop,this),this._out={},this._in={},this._nodes={},this._edges={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.hasActiveBatch("to-front")||this.hasActiveBatch("to-back")||this.get("cells").sort()},_onBatchStop:function(t){var e=t&&t.batchName;"to-front"!==e&&"to-back"!==e||this.hasActiveBatch(e)||this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var e=t.get("source"),i=t.get("target");e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),i.id&&((this._in[i.id]||(this._in[i.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var e=t.get("source"),i=t.get("target");e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],i.id&&this._in[i.id]&&this._in[i.id][t.id]&&delete this._in[i.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},i.each(t,this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var i=t.get("source");i.id&&((this._out[i.id]||(this._out[i.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var i=t.get("target");i.id&&((this._in[i.id]||(this._in[i.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=e.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,n,r){var s;return"object"==typeof t?(s=t,r=n):(s={})[t]=n,s.hasOwnProperty("cells")&&(this.resetCells(s.cells,r),s=i.omit(s,"cells")),e.Model.prototype.set.call(this,s,r)},clear:function(t){t=i.extend({},t,{clear:!0});var e=this.get("cells");if(0===e.length)return this;this.startBatch("clear",t);var n=e.sortBy(function(t){return t.isLink()?1:2});do{n.shift().remove(t)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,n){var r;if(t instanceof e.Model?(r=t.attributes,t.graph||n&&n.dry||(t.graph=this)):r=t,!i.isString(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},maxZIndex:function(){var t=this.get("cells").last();return t?t.get("z")||0:0},addCell:function(t,n){return i.isArray(t)?this.addCells(t,n):(t instanceof e.Model?t.has("z")||t.set("z",this.maxZIndex()+1):i.isUndefined(t.z)&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,n),n||{}),this)},addCells:function(t,e){return t.length&&(t=i.flattenDeep(t),e.position=t.length,this.startBatch("add"),i.each(t,function(t){e.position--,this.addCell(t,e)},this),this.stopBatch("add")),this},resetCells:function(t,e){var n=i.map(t,i.bind(this._prepareCell,this,i,e));return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),i.invoke(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,i){i=i||{},i.clear||(i.disconnectLinks?this.disconnectLinks(t,i):this.removeLinks(t,i)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return i.map(this._nodes,function(t,e){return this.getCell(e)},this)},getLinks:function(){return i.map(this._edges,function(t,e){return this.getCell(e)},this)},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var n=e.inbound,r=e.outbound;i.isUndefined(n)&&i.isUndefined(r)&&(n=r=!0);var s=[],a={};if(r&&i.each(this.getOutboundEdges(t.id),function(t,e){a[e]||(s.push(this.getCell(e)),a[e]=!0)},this),n&&i.each(this.getInboundEdges(t.id),function(t,e){a[e]||(s.push(this.getCell(e)),a[e]=!0)},this),e.deep){var o=t.getEmbeddedCells({deep:!0}),l={};i.each(o,function(t){t.isLink()&&(l[t.id]=!0)}),i.each(o,function(t){t.isLink()||(r&&i.each(this.getOutboundEdges(t.id),function(t,e){a[e]||l[e]||(s.push(this.getCell(e)),a[e]=!0)},this),n&&i.each(this.getInboundEdges(t.id),function(t,e){a[e]||l[e]||(s.push(this.getCell(e)),a[e]=!0)},this))},this)}return s},getNeighbors:function(t,e){e=e||{};var n=e.inbound,r=e.outbound;i.isUndefined(n)&&i.isUndefined(r)&&(n=r=!0);var s=i.transform(this.getConnectedLinks(t,e),function(s,a){var o=a.get("source"),l=a.get("target"),c=a.hasLoop(e);if(n&&i.has(o,"id")&&!s[o.id]){var g=this.getCell(o.id);!c&&(!g||g===t||e.deep&&g.isEmbeddedIn(t))||(s[o.id]=g)}if(r&&i.has(l,"id")&&!s[l.id]){var h=this.getCell(l.id);!c&&(!h||h===t||e.deep&&h.isEmbeddedIn(t))||(s[l.id]=h)}},{},this);return i.values(s)},getCommonAncestor:function(){var t=i.map(arguments,function(t){for(var e=[],i=t.get("parent");i;)e.push(i),i=this.getCell(i).get("parent");return e},this);t=i.sortBy(t,"length");var e=i.find(t.shift(),function(e){return i.every(t,function(t){return i.contains(t,e)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var n=[];return this.search(t,function(e){e!==t&&n.push(e)},i.extend({},e,{outbound:!0})),n},cloneCells:function(t){t=i.unique(t);var e=i.transform(t,function(t,e){t[e.id]=e.clone()},{});return i.each(t,function(t){var n=e[t.id];if(n.isLink()){var r=n.get("source"),s=n.get("target");r.id&&e[r.id]&&n.prop("source/id",e[r.id].id),s.id&&e[s.id]&&n.prop("target/id",e[s.id].id)}var a=t.get("parent");a&&e[a]&&n.set("parent",e[a].id);var o=i.reduce(t.get("embeds"),function(t,i){return e[i]&&t.push(e[i].id),t},[]);i.isEmpty(o)||n.set("embeds",o)}),e},cloneSubgraph:function(t,e){var i=this.getSubgraph(t,e);return this.cloneCells(i)},getSubgraph:function(t,e){e=e||{};var n=[],r={},s=[],a=[];return i.each(t,function(t){if(r[t.id]||(n.push(t),r[t.id]=t,t.isLink()?a.push(t):s.push(t)),e.deep){var o=t.getEmbeddedCells({deep:!0});i.each(o,function(t){r[t.id]||(n.push(t),r[t.id]=t,t.isLink()?a.push(t):s.push(t))})}}),i.each(a,function(t){var e=t.get("source"),i=t.get("target");if(e.id&&!r[e.id]){var a=this.getCell(e.id);n.push(a),r[a.id]=a,s.push(a)}if(i.id&&!r[i.id]){var o=this.getCell(i.id);n.push(this.getCell(i.id)),r[o.id]=o,s.push(o)}},this),i.each(s,function(t){var s=this.getConnectedLinks(t,e);i.each(s,function(t){var e=t.get("source"),i=t.get("target");!r[t.id]&&e.id&&r[e.id]&&i.id&&r[i.id]&&(n.push(t),r[t.id]=t)})},this),n},getPredecessors:function(t,e){e=e||{};var n=[];return this.search(t,function(e){e!==t&&n.push(e)},i.extend({},e,{inbound:!0})),n},search:function(t,e,i){i=i||{},i.breadthFirst?this.bfs(t,e,i):this.dfs(t,e,i)},bfs:function(t,e,n){n=n||{};var r={},s={},a=[];for(a.push(t),s[t.id]=0;a.length>0;){var o=a.shift();if(!r[o.id]){if(r[o.id]=!0,!1===e(o,s[o.id]))return;i.each(this.getNeighbors(o,n),function(t){s[t.id]=s[o.id]+1,a.push(t)})}}},dfs:function(t,e,n,r,s){n=n||{};var a=r||{},o=s||0;!1!==e(t,o)&&(a[t.id]=!0,i.each(this.getNeighbors(t,n),function(t){a[t.id]||this.dfs(t,e,n,a,o+1)},this))},getSources:function(){var t=[];return i.each(this._nodes,function(e,n){this._in[n]&&!i.isEmpty(this._in[n])||t.push(this.getCell(n))},this),t},getSinks:function(){var t=[];return i.each(this._nodes,function(e,n){this._out[n]&&!i.isEmpty(this._out[n])||t.push(this.getCell(n))},this),t},isSource:function(t){return!this._in[t.id]||i.isEmpty(this._in[t.id])},isSink:function(t){return!this._out[t.id]||i.isEmpty(this._out[t.id])},isSuccessor:function(t,e){var i=!1;return this.search(t,function(n){if(n===e&&n!==t)return i=!0,!1},{outbound:!0}),i},isPredecessor:function(t,e){var i=!1;return this.search(t,function(n){if(n===e&&n!==t)return i=!0,!1},{inbound:!0}),i},isNeighbor:function(t,e,n){n=n||{};var r=n.inbound,s=n.outbound;i.isUndefined(r)&&i.isUndefined(s)&&(r=s=!0);var a=!1;return i.each(this.getConnectedLinks(t,n),function(t){var n=t.get("source"),o=t.get("target");return r&&i.has(n,"id")&&n.id===e.id?(a=!0,!1):s&&i.has(o,"id")&&o.id===e.id?(a=!0,!1):void 0}),a},disconnectLinks:function(t,e){i.each(this.getConnectedLinks(t),function(i){i.set(i.get("source").id===t.id?"source":"target",s.point(0,0),e)})},removeLinks:function(t,e){i.invoke(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return i.filter(this.getElements(),function(e){return e.getBBox().containsPoint(t)})},findModelsInArea:function(t,e){t=s.rect(t),e=i.defaults(e||{},{strict:!1});var n=e.strict?"containsRect":"intersect";return i.filter(this.getElements(),function(e){return t[n](e.getBBox())})},findModelsUnderElement:function(t,e){e=i.defaults(e||{},{searchBy:"bbox"});var n=t.getBBox(),r="bbox"==e.searchBy?this.findModelsInArea(n):this.findModelsFromPoint(n[e.searchBy]());return i.reject(r,function(e){return t.id==e.id||e.isEmbeddedIn(t)})},getBBox:function(t,e){return this.getCellsBBox(t||this.getElements(),e)},getCellsBBox:function(t,e){return i.reduce(t,function(t,i){return i.isLink()?t:t?t.union(i.getBBox(e)):i.getBBox(e)},null)},translate:function(t,e,n){var r=i.reject(this.getCells(),function(t){return t.isEmbedded()});i.invoke(r,"translate",t,e,n)},resize:function(t,e,i){return this.resizeCells(t,e,this.getCells(),i)},resizeCells:function(t,e,n,r){var s=this.getCellsBBox(n);if(s){var a=Math.max(t/s.width,0),o=Math.max(e/s.height,0);i.invoke(n,"scale",a,o,s.origin(),r)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",i.extend({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",i.extend({},e,{batchName:t}))},hasActiveBatch:function(t){return t?this._batches[t]:i.any(this._batches,function(t){return t>0})}}),a.util.wrapWith(a.dia.Graph.prototype,["resetCells","addCells","removeCells"],"cells"),function(t,e,i,n){function s(t){return e.isString(t)&&"%"===t.slice(-1)}function a(t,e){return function(i,n){var r=s(i);i=parseFloat(i),r&&(i/=100);var a={};if(isFinite(i)){var o=r||i>=0&&i<=1?i*n[e]:Math.max(i+n[e],0);a[t]=o}return a}}function o(t,e,n){return function(r,a){var o=s(r);r=parseFloat(r),o&&(r/=100);var l;if(isFinite(r)){var c=a[n]();l=o||r>0&&r<1?c[t]+a[e]*r:c[t]+r}var g=i.Point();return g[t]=l||0,g}}function l(t,e,n){return function(r,a){var o;o="middle"===r?a[e]/2:r===n?a[e]:isFinite(r)?r>-1&&r<1?-a[e]*r:-r:s(r)?a[e]*parseFloat(r)/100:0;var l=i.Point();return l[t]=-(a[t]+o),l}}var c=t.dia.attributes={xlinkHref:{set:"xlink:href"},xmlSpace:{set:"xml:space"},filter:{qualify:e.isPlainObject,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:e.isPlainObject,set:function(t){return"url(#"+this.paper.defineGradient(t)+")"}},stroke:{qualify:e.isPlainObject,set:function(t){return"url(#"+this.paper.defineGradient(t)+")"}},sourceMarker:{qualify:e.isPlainObject,set:function(t){return{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:e.isPlainObject,set:function(t){return t=e.assign({transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:e.isPlainObject,set:function(t){return{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{set:function(t,i,s,a){var o=n(s),l="joint-text",c=o.data(l),g=e.pick(a,"lineHeight","annotations","textPath"),h=g.fontSize=a["font-size"]||a.fontSize,d=JSON.stringify([t,g]);void 0!==c&&c===d||(h&&s.setAttribute("font-size",h),r(s).text(""+t,g),o.data(l,d))}},textWrap:{qualify:e.isPlainObject,set:function(e,i,n,a){var o=e.width||0;s(o)?i.width*=parseFloat(o)/100:o<=0?i.width+=o:i.width=o
;var l=e.height||0;s(l)?i.height*=parseFloat(l)/100:l<=0?i.height+=l:i.height=l;var c=t.util.breakText(""+e.text,i,{"font-weight":a["font-weight"]||a.fontWeight,"font-size":a["font-size"]||a.fontSize,"font-family":a["font-family"]||a.fontFamily},{svgDocument:this.paper.svg});r(n).text(c)}},lineHeight:{qualify:function(t,e,i){return void 0!==i.text}},textPath:{qualify:function(t,e,i){return void 0!==i.text}},annotations:{qualify:function(t,e,i){return void 0!==i.text}},port:{set:function(t){return null===t||void 0===t.id?t:t.id}},style:{qualify:e.isPlainObject,set:function(t,e,i){n(i).css(t)}},html:{set:function(t,e,i){n(i).html(t+"")}},ref:{},refX:{position:o("x","width","origin")},refY:{position:o("y","height","origin")},refDx:{position:o("x","width","corner")},refDy:{position:o("y","height","corner")},refWidth:{set:a("width","width")},refHeight:{set:a("height","height")},refRx:{set:a("rx","width")},refRy:{set:a("ry","height")},refCx:{set:a("cx","width")},refCy:{set:a("cy","height")},xAlignment:{offset:l("x","width","right")},yAlignment:{offset:l("y","height","bottom")}};c.refX2=c.refX,c.refY2=c.refY,c["ref-x"]=c.refX,c["ref-y"]=c.refY,c["ref-dy"]=c.refDy,c["ref-dx"]=c.refDx,c["ref-width"]=c.refWidth,c["ref-height"]=c.refHeight,c["x-alignment"]=c.xAlignment,c["y-alignment"]=c.yAlignment}(a,i,s,n),a.dia.Cell=e.Model.extend({constructor:function(t,e){var n,r=t||{};this.cid=i.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(n=i.result(this,"defaults"))&&(r=i.merge({},n,r)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,i){throw new Error("Must define a translate() method.")},toJSON:function(){var t=this.constructor.prototype.defaults.attrs||{},e=this.attributes.attrs,n={};i.each(e,function(e,r){var s=t[r];i.each(e,function(t,e){i.isObject(t)&&!i.isArray(t)?i.each(t,function(t,a){s&&s[e]&&i.isEqual(s[e][a],t)||(n[r]=n[r]||{},(n[r][e]||(n[r][e]={}))[a]=t)}):s&&i.isEqual(s[e],t)||(n[r]=n[r]||{},n[r][e]=t)})});var r=i.cloneDeep(i.omit(this.attributes,"attrs"));return r.attrs=n,r},initialize:function(t){t&&t.id||this.set("id",a.util.uuid(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},processPorts:function(){var t=this.ports,e={};i.each(this.get("attrs"),function(t,n){t&&t.port&&(i.isUndefined(t.port.id)?e[t.port]={id:t.port}:e[t.port.id]=t.port)});var n={};if(i.each(t,function(t,i){e[i]||(n[i]=!0)}),this.graph&&!i.isEmpty(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});i.each(r,function(t){n[t.get("target").port]&&t.remove()});var s=this.graph.getConnectedLinks(this,{outbound:!0});i.each(s,function(t){n[t.get("source").port]&&t.remove()})}this.ports=e},remove:function(t){t=t||{};var e=this.graph;e&&e.startBatch("remove");var n=this.get("parent");if(n){(e&&e.getCell(n)).unembed(this)}return i.invoke(this.getEmbeddedCells(),"remove",t),this.trigger("remove",this,this.collection,t),e&&e.stopBatch("remove"),this},toFront:function(t){if(this.graph){t=t||{};var e=(this.graph.getLastCell().get("z")||0)+1;if(this.startBatch("to-front").set("z",e,t),t.deep){var n=this.getEmbeddedCells({deep:!0,breadthFirst:!0});i.each(n,function(i){i.set("z",++e,t)})}this.stopBatch("to-front")}return this},toBack:function(t){if(this.graph){t=t||{};var e=(this.graph.getFirstCell().get("z")||0)-1;if(this.startBatch("to-back"),t.deep){var n=this.getEmbeddedCells({deep:!0,breadthFirst:!0});i.eachRight(n,function(i){i.set("z",e--,t)})}this.set("z",e,t).stopBatch("to-back")}return this},embed:function(t,e){if(this===t||this.isEmbeddedIn(t))throw new Error("Recursive embedding not allowed.");this.startBatch("embed");var n=i.clone(this.get("embeds")||[]);return n[t.isLink()?"unshift":"push"](t.id),t.set("parent",this.id,e),this.set("embeds",i.uniq(n),e),this.stopBatch("embed"),this},unembed:function(t,e){return this.startBatch("unembed"),t.unset("parent",e),this.set("embeds",i.without(this.get("embeds"),t.id),e),this.stopBatch("unembed"),this},getAncestors:function(){var t=[],e=this.get("parent");if(!this.graph)return t;for(;void 0!==e;){var i=this.graph.getCell(e);if(void 0===i)break;t.push(i),e=i.get("parent")}return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();e.push(r),n.push.apply(n,r.getEmbeddedCells())}}else e=this.getEmbeddedCells(),i.each(e,function(i){e.push.apply(e,i.getEmbeddedCells(t))});else e=i.map(this.get("embeds"),this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var n=i.isString(t)?t:t.id,r=this.get("parent");if(e=i.defaults({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).get("parent")}return!1}return r===n},isEmbedded:function(){return!!this.get("parent")},clone:function(t){if(t=t||{},t.deep)return i.values(a.dia.Graph.prototype.cloneCells.call(null,[this].concat(this.getEmbeddedCells({deep:!0}))));var n=e.Model.prototype.clone.apply(this,arguments);return n.set("id",a.util.uuid()),n.unset("embeds"),n.unset("parent"),n},prop:function(t,e,n){var r=i.isString(t);if(r||i.isArray(t)){if(arguments.length>1){var s,o;r?(s=t,o=s.split("/")):(s=t.join("/"),o=t.slice());var l=o[0],c=o.length;if(n=n||{},n.propertyPath=s,n.propertyValue=e,n.propertyPathArray=o,1===c)return this.set(l,e,n);for(var g={},h=g,d=l,u=1;u<c;u++){var I=o[u],p=i.isFinite(r?Number(I):I);h=h[d]=p?[]:{},d=I}g=a.util.setByPath(g,o,e,"/");var C=i.merge({},this.attributes);n.rewrite&&a.util.unsetByPath(C,s,"/");var A=i.merge(C,g);return this.set(l,A[l],n)}return a.util.getByPath(this.attributes,t,"/")}return this.set(i.merge({},this.attributes,t),e)},removeProp:function(t,e){e=e||{},e.dirty=!0;var n=i.isArray(t)?t:t.split("/");if(1===n.length)return this.unset(t,e);var r=n[0],s=n.slice(1),o=i.merge({},this.get(r));return a.util.unsetByPath(o,s,"/"),this.set(r,o,e)},attr:function(t,e,n){var r=Array.prototype.slice.call(arguments);return 0===r.length?this.get("attrs"):(i.isArray(t)?r[0]=["attrs"].concat(t):i.isString(t)?r[0]="attrs/"+t:r[0]={attrs:t},this.prop.apply(this,r))},removeAttr:function(t,e){return i.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,r){r=r||"/";var s={duration:100,delay:10,timingFunction:a.util.timing.linear,valueFunction:a.util.interpolate.number};n=i.extend(s,n);var o,l=0,c=i.bind(function(e){var i,r,s;l=l||e,e-=l,r=e/n.duration,r<1?this._transitionIds[t]=i=a.util.nextFrame(c):(r=1,delete this._transitionIds[t]),s=o(n.timingFunction(r)),n.transitionId=i,this.prop(t,s,n),i||this.trigger("transition:end",this,t)},this),g=i.bind(function(i){this.stopTransitions(t),o=n.valueFunction(a.util.getByPath(this.attributes,t,r),e),this._transitionIds[t]=a.util.nextFrame(i),this.trigger("transition:start",this,t)},this);return i.delay(g,n.delay,c)},getTransitions:function(){return i.keys(this._transitionIds)},stopTransitions:function(t,e){e=e||"/";var n=t&&t.split(e);return i(this._transitionIds).keys().filter(n&&function(t){return i.isEqual(n,t.split(e).slice(0,n.length))}).each(function(t){a.util.cancelFrame(this._transitionIds[t]),delete this._transitionIds[t],this.trigger("transition:end",this,t)},this),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,i.extend({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,i.extend({},e,{cell:this})),this}},{getAttributeDefinition:function(t){var e=this.attributes,i=a.dia.attributes;return e&&e[t]||i[t]},define:function(t,e,n,r){n=i.assign({defaults:i.defaultsDeep({type:t},e,this.prototype.defaults)},n);var s=this.extend(n,r);return a.util.setByPath(a.shapes,t,s,"."),s}}),a.dia.CellView=a.mvc.View.extend({tagName:"g",svgElement:!0,className:function(){var t=["cell"],e=this.model.get("type");return e&&i.each(e.toLowerCase().split("."),function(e,i,n){t.push("type-"+n.slice(0,i+1).join("-"))}),t.join(" ")},attributes:function(){return{"model-id":this.model.id}},constructor:function(t){t.id=t.id||a.util.guid(this),a.mvc.View.call(this,t)},init:function(){i.bindAll(this,"remove","update"),this.$el.data("view",this),this.$el.attr("data-type",this.model.get("type")),this.listenTo(this.model,"change:attrs",this.onChangeAttrs)},onChangeAttrs:function(t,e,i){return i.dirty?this.render():this.update(t,e,i)},can:function(t){var e=i.isFunction(this.options.interactive)?this.options.interactive(this):this.options.interactive;return i.isObject(e)&&!1!==e[t]||i.isBoolean(e)&&!1!==e},findBySelector:function(t,e){var i=n(e||this.el);return"."===t?i:i.find(t)},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getStrokeBBox:function(t){var e=!!t;t=t||this.el;var i,n=r(t).bbox(!1,this.paper.viewport);return i=e?r(t).attr("stroke-width"):this.model.attr("rect/stroke-width")||this.model.attr("circle/stroke-width")||this.model.attr("ellipse/stroke-width")||this.model.attr("path/stroke-width"),i=parseFloat(i)||0,s.rect(n).moveAndExpand({x:-i/2,y:-i/2,width:i,height:i})},getBBox:function(){return s.rect(this.vel.bbox())},highlight:function(t,e){return t=t?this.$(t)[0]||this.el:this.el,e=e||{},e.partial=t!==this.el,this.notify("cell:highlight",t,e),this},unhighlight:function(t,e){return t=t?this.$(t)[0]||this.el:this.el,e=e||{},e.partial=t!=this.el,this.notify("cell:unhighlight",t,e),this},findMagnet:function(t){var e=this.$(t),i=this.$el;0===e.length&&(e=i);do{var n=e.attr("magnet");if((n||e.is(i))&&"false"!==n)return e[0];e=e.parent()}while(e.length>0)},getSelector:function(t,e){if(t===this.el)return e;var i;if(t){var n=r(t).index()+1;i=t.tagName+":nth-child("+n+")",e&&(i+=" > "+e),i=this.getSelector(t.parentNode,i)}return i},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){i.isEmpty(e)||(t instanceof SVGElement?r(t).attr(e):n(t).attr(e))},processNodeAttributes:function(t,e){var n,r,s,o,l,c,g,h,d,u=[];for(n in e)e.hasOwnProperty(n)&&(r=e[n],s=this.getAttributeDefinition(n),!s||i.isFunction(s.qualify)&&!s.qualify.call(this,r,t,e)?(c||(c={}),c[a.util.toKebabCase(n)]=r):(i.isString(s.set)&&(c||(c={}),c[s.set]=r),null!==r&&u.push(n,s)));for(o=0,l=u.length;o<l;o+=2)n=u[o],s=u[o+1],r=e[n],i.isFunction(s.set)&&(g||(g={}),g[n]=r),i.isFunction(s.position)&&(h||(h={}),h[n]=r),i.isFunction(s.offset)&&(d||(d={}),d[n]=r);return{raw:e,normal:c,set:g,position:h,offset:d}},updateRelativeAttributes:function(t,e,n,a){a||(a={});var o,l,c,g=e.raw||{},h=e.normal||{},d=e.set,u=e.position,I=e.offset;for(o in d){l=d[o],c=this.getAttributeDefinition(o);var p=c.set.call(this,l,n.clone(),t,g);i.isObject(p)?i.extend(h,p):void 0!==p&&(h[o]=p)}if(t instanceof HTMLElement)return void this.setNodeAttributes(t,h);var C=h.transform||"",A=r.transformStringToMatrix(C),f=s.Point(A.e,A.f);C&&(h=i.omit(h,"transform"),A.e=A.f=0);var m,y,w;if(u||I){var b=this.getNodeScale(t,a.scalableNode);m=b.sx,y=b.sy}for(o in u)l=u[o],c=this.getAttributeDefinition(o),(w=c.position.call(this,l,n.clone(),t,g))&&f.offset(s.Point(w).scale(m,y));if(this.setNodeAttributes(t,h),I){var v=t.getBoundingClientRect();if(v.width>0&&v.height>0){var M=r.transformRect(t.getBBox(),A).scale(1/m,1/y);for(o in I)l=I[o],c=this.getAttributeDefinition(o),(w=c.offset.call(this,l,M,t,g))&&f.offset(s.Point(w).scale(m,y))}}f.round(1),A.e=f.x,A.f=f.y,t.setAttribute("transform",r.matrixToTransformString(A))},getNodeScale:function(t,e){var i,n;if(e&&e.contains(t)){var r=e.scale();i=1/r.sx,n=1/r.sy}else i=1,n=1;return{sx:i,sy:n}},findNodesAttributes:function(t,e,n){var s={};for(var a in t)if(t.hasOwnProperty(a))for(var o=n[a]=this.findBySelector(a,e),l=0,c=o.length;l<c;l++){var g=o[l],h=r.ensureId(g),d=t[a],u=s[h];u?(u.merged||(u.merged=!0,u.attributes=i.cloneDeep(u.attributes)),i.merge(u.attributes,d)):s[h]={attributes:d,node:g,merged:!1}}return s},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=s.Rect());var a,o,l,c,g,h={},d={},u=[],I=n.roAttributes,p=this.findNodesAttributes(I||e,t,h),C=I?C=this.findNodesAttributes(e,t,h):p;for(var A in p)if(c=p[A],l=c.attributes,o=c.node,g=this.processNodeAttributes(o,l),g.set||g.position||g.offset){var f,m=C[A]&&C[A].attributes,y=m&&void 0===l.ref?m.ref:l.ref;if(y){if(!(f=(h[y]||this.findBySelector(y,t))[0]))throw new Error('dia.ElementView: "'+y+'" reference does not exists.')}else f=null;a={node:o,refNode:f,processedAttributes:g,allAttributes:m};var w=i.findIndex(u,{refNode:o});w>-1?u.splice(w,0,a):u.push(a)}else this.setNodeAttributes(o,g.normal);for(var b=0,v=u.length;b<v;b++){a=u[b],o=a.node,f=a.refNode;var M=f?r.ensureId(f):"",N=d[M];N||(N=d[M]=f?r(f).bbox(!1,n.rotatableNode||t):n.rootBBox),I?(g=this.processNodeAttributes(o,a.allAttributes),this.mergeProcessedAttributes(g,a.processedAttributes)):g=a.processedAttributes,this.updateRelativeAttributes(o,g,N,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),i.extend(t.set,e.set),i.extend(t.position,e.position),i.extend(t.offset,e.offset);var n=t.normal&&t.normal.transform;void 0!==n&&e.normal&&(e.normal.transform=n),t.normal=e.normal},pointerdblclick:function(t,e,i){this.notify("cell:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){this.notify("cell:pointerclick",t,e,i)},pointerdown:function(t,e,i){this.model.graph&&(this.model.startBatch("pointer"),this._graph=this.model.graph),this.notify("cell:pointerdown",t,e,i)},pointermove:function(t,e,i){this.notify("cell:pointermove",t,e,i)},pointerup:function(t,e,i){this.notify("cell:pointerup",t,e,i),this._graph&&(this._graph.stopBatch("pointer",{cell:this.model}),delete this._graph)},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,i,n){this.notify("cell:mousewheel",t,e,i,n)},contextmenu:function(t,e,i){this.notify("cell:contextmenu",t,e,i)},setInteractivity:function(t){this.options.interactive=t}}),a.dia.Element=a.dia.Cell.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),a.dia.Cell.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},isElement:function(){return!0},position:function(t,e,n){var r=i.isNumber(e);if(n=(r?n:t)||{},n.parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var a=this.graph.getCell(this.get("parent")),o=a&&!a.isLink()?a.get("position"):{x:0,y:0}}if(r)return n.parentRelative&&(t+=o.x,e+=o.y),this.set("position",{x:t,y:e},n);var l=s.point(this.get("position"));return n.parentRelative?l.difference(o):l},translate:function(t,e,n){if(t=t||0,e=e||0,0===t&&0===e)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0};if(n.restrictedArea&&n.translateBy===this.id){var s=this.getBBox({deep:!0}),o=n.restrictedArea,l=r.x-s.x,c=r.y-s.y,g=Math.max(o.x+l,Math.min(o.x+o.width+l-s.width,r.x+t)),h=Math.max(o.y+c,Math.min(o.y+o.height+c-s.height,r.y+e));t=g-r.x,e=h-r.y}var d={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(i.isObject(n.transition)||(n.transition={}),this.transition("position",d,i.extend({},n.transition,{valueFunction:a.util.interpolate.object}))):this.set("position",d,n),i.invoke(this.getEmbeddedCells(),"translate",t,e,n),this},size:function(t,e,n){var r=this.get("size");return void 0===t?{width:r.width,height:r.height}:(i.isObject(t)&&(n=e,e=i.isNumber(t.height)?t.height:r.height,t=i.isNumber(t.width)?t.width:r.width),this.resize(t,e,n))},resize:function(t,e,i){if(i=i||{},this.startBatch("resize",i),i.direction){var n=this.get("size");switch(i.direction){case"left":case"right":e=n.height;break;case"top":case"bottom":t=n.width}var r=s.normalizeAngle(this.get("angle")||0),a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[i.direction];i.absolute&&(a+=Math.floor((r+45)/90),a%=4);var o=this.getBBox(),l=o[["bottomLeft","corner","topRight","origin"][a]](),c=s.point(l).rotate(o.center(),-r),g=Math.sqrt(t*t+e*e)/2,h=a*Math.PI/2;h+=Math.atan(a%2==0?e/t:t/e),h-=s.toRad(r);var d=s.point.fromPolar(g,h,c),u=s.point(d).offset(t/-2,e/-2);this.set("size",{width:t,height:e},i),this.position(u.x,u.y,i)}else this.set("size",{width:t,height:e},i);return this.stopBatch("resize",i),this},scale:function(t,e,i,n){var r=this.getBBox().scale(t,e,i);return this.startBatch("scale",n),this.position(r.x,r.y,n),this.resize(r.width,r.height,n),this.stopBatch("scale"),this},fitEmbeds:function(t){if(t=t||{},!this.graph)throw new Error("Element must be part of a graph.");var e=this.getEmbeddedCells();if(e.length>0){this.startBatch("fit-embeds",t),t.deep&&i.invoke(e,"fitEmbeds",t);var n=this.graph.getCellsBBox(e),r=a.util.normalizeSides(t.padding);n.moveAndExpand({x:-r.left,y:-r.top,width:r.right+r.left,height:r.bottom+r.top}),this.set({position:{x:n.x,y:n.y},size:{width:n.width,height:n.height}},t),this.stopBatch("fit-embeds")}return this},rotate:function(t,e,i,n){if(i){var r=this.getBBox().center(),s=this.get("size"),a=this.get("position");r.rotate(i,this.get("angle")-t);var o=r.x-s.width/2-a.x,l=r.y-s.height/2-a.y;this.startBatch("rotate",{angle:t,absolute:e,origin:i}),this.position(a.x+o,a.y+l,n),this.rotate(t,e,null,n),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,n);return this},getBBox:function(t){if(t=t||{},t.deep&&this.graph){var e=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return e.push(this),this.graph.getCellsBBox(e)}var i=this.get("position"),n=this.get("size");return s.rect(i.x,i.y,n.width,n.height)}}),a.dia.ElementView=a.dia.CellView.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=a.dia.CellView.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){a.dia.CellView.prototype.initialize.apply(this,arguments);var t=this.model;this.listenTo(t,"change:position",this.translate),this.listenTo(t,"change:size",this.resize),this.listenTo(t,"change:angle",this.rotate),this.listenTo(t,"change:markup",this.render),this._initializePorts()},_initializePorts:function(){},update:function(t,e){this._removePorts();var i=this.model,n=i.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:s.Rect(i.size()),scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===n?null:e}),this._renderPorts()},renderMarkup:function(){var t=this.model.get("markup")||this.model.markup;if(!t)throw new Error("properties.markup is missing while the default render() implementation is used.");var e=a.util.template(t)(),i=r(e);this.vel.append(i)},render:function(){return this.$el.empty(),this.renderMarkup(),this.rotatableNode=this.vel.findOne(".rotatable"),(this.scalableNode=this.vel.findOne(".scalable"))&&this.update(),this.resize(),this.rotate(),this.translate(),this},resize:function(t,e,i){var n=this.model,r=n.get("size")||{width:1,height:1},s=n.get("angle")||0,a=this.scalableNode;if(!a)return 0!==s&&this.rotate(),void this.update();var o=a.bbox(!0);a.attr("transform","scale("+r.width/(o.width||1)+","+r.height/(o.height||1)+")");var l=this.rotatableNode,c=l&&l.attr("transform");if(c&&"null"!==c){l.attr("transform",c+" rotate("+-s+","+r.width/2+","+r.height/2+")");var g=a.bbox(!1,this.paper.viewport);n.set("position",{x:g.x,y:g.y},i),this.rotate()}this.update()},translate:function(t,e,i){var n=this.model.get("position")||{x:0,y:0};this.vel.attr("transform","translate("+n.x+","+n.y+")")},rotate:function(){var t=this.rotatableNode;if(t){var e=this.model.get("angle")||0,i=this.model.get("size")||{width:1,height:1},n=i.width/2,r=i.height/2;0!==e?t.attr("transform","rotate("+e+","+n+","+r+")"):t.removeAttr("transform")}},getBBox:function(t){if(t&&t.useModelGeometry){var e=this.model.getBBox().bbox(this.model.get("angle"));return this.paper.localToPaperRect(e)}return a.dia.CellView.prototype.getBBox.apply(this,arguments)},prepareEmbedding:function(t){t=t||{};var e=t.model||this.model,n=t.paper||this.paper,r=n.model;e.startBatch("to-front",t),e.toFront({deep:!0,ui:!0});var s=r.get("cells").max("z").get("z"),a=r.getConnectedLinks(e,{deep:!0});i.invoke(a,"set","z",s+1,{ui:!0}),e.stopBatch("to-front");var o=e.get("parent");o&&r.getCell(o).unembed(e,{ui:!0})},processEmbedding:function(t){t=t||{};var e=t.model||this.model,i=t.paper||this.paper,n=i.options,r=i.model.findModelsUnderElement(e,{searchBy:n.findParentBy});n.frontParentOnly&&(r=r.slice(-1));for(var s=null,a=this._candidateEmbedView,o=r.length-1;o>=0;o--){var l=r[o];if(a&&a.model.id==l.id){s=a;break}var c=l.findView(i);if(n.validateEmbedding.call(i,this,c)){s=c;break}}s&&s!=a&&(this.clearEmbedding(),this._candidateEmbedView=s.highlight(null,{embedding:!0})),!s&&a&&this.clearEmbedding()},clearEmbedding:function(){var t=this._candidateEmbedView;t&&(t.unhighlight(null,{embedding:!0}),this._candidateEmbedView=null)},finalizeEmbedding:function(t){t=t||{};var e=this._candidateEmbedView,n=t.model||this.model,r=t.paper||this.paper;e&&(e.model.embed(n,{ui:!0}),e.unhighlight(null,{embedding:!0}),delete this._candidateEmbedView),i.invoke(r.model.getConnectedLinks(n,{deep:!0}),"reparent",{ui:!0})},pointerdown:function(t,e,i){var n=this.paper;if(t.target.getAttribute("magnet")&&this.can("addLinkFromMagnet")&&n.options.validateMagnet.call(n,this,t.target)){this.model.startBatch("add-link");var r=n.getDefaultLink(this,t.target);r.set({source:{id:this.model.id,selector:this.getSelector(t.target),port:t.target.getAttribute("port")},target:{x:e,y:i}}),n.model.addCell(r);var s=this._linkView=n.findViewByModel(r);s.pointerdown(t,e,i),s.startArrowheadMove("target",{whenNotAllowed:"remove"})}else this._dx=e,this._dy=i,this.restrictedArea=n.getRestrictedArea(this),a.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("element:pointerdown",t,e,i)},pointermove:function(t,e,i){if(this._linkView)this._linkView.pointermove(t,e,i);else{var n=this.paper.options.gridSize;if(this.can("elementMove")){var r=this.model.get("position"),o=s.snapToGrid(r.x,n)-r.x+s.snapToGrid(e-this._dx,n),l=s.snapToGrid(r.y,n)-r.y+s.snapToGrid(i-this._dy,n);this.model.translate(o,l,{restrictedArea:this.restrictedArea,ui:!0}),this.paper.options.embeddingMode&&(this._inProcessOfEmbedding||(this.prepareEmbedding(),this._inProcessOfEmbedding=!0),this.processEmbedding())}this._dx=s.snapToGrid(e,n),this._dy=s.snapToGrid(i,n),a.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("element:pointermove",t,e,i)}},pointerup:function(t,e,i){this._linkView?(this._linkView.pointerup(t,e,i),this._linkView=null,this.model.stopBatch("add-link")):(this._inProcessOfEmbedding&&(this.finalizeEmbedding(),this._inProcessOfEmbedding=!1),this.notify("element:pointerup",t,e,i),a.dia.CellView.prototype.pointerup.apply(this,arguments))},mouseenter:function(t){a.dia.CellView.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){a.dia.CellView.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)}}),a.dia.Link=a.dia.Cell.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),labelMarkup:['<g class="label">',"<rect />","<text />","</g>"].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(){return this.set({source:s.point(0,0),target:s.point(0,0)})},label:function(t,e,i){return t=t||0,arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,i)},translate:function(t,e,i){return i=i||{},i.translateBy=i.translateBy||this.id,i.tx=t,i.ty=e,this.applyToPoints(function(i){return{x:(i.x||0)+t,y:(i.y||0)+e}},i)},scale:function(t,e,i,n){return this.applyToPoints(function(n){return s.point(n).scale(t,e,i).toJSON()},n)},applyToPoints:function(t,e){if(!i.isFunction(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},r=this.get("source");r.id||(n.source=t(r));var s=this.get("target");s.id||(n.target=t(s));var a=this.get("vertices");return a&&a.length>0&&(n.vertices=i.map(a,t)),this.set(n,e)},reparent:function(t){var e;if(this.graph){var i=this.graph.getCell(this.get("source").id),n=this.graph.getCell(this.get("target").id),r=this.graph.getCell(this.get("parent"));i&&n&&(e=this.graph.getCommonAncestor(i,n)),!r||e&&e.id===r.id||r.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var e=this.get("source").id,i=this.get("target").id;if(!e||!i)return!1;var n=e===i;if(!n&&t.deep&&this.graph){var r=this.graph.getCell(e),s=this.graph.getCell(i);n=r.isEmbeddedIn(s)||s.isEmbeddedIn(r)}return n},getSourceElement:function(){var t=this.get("source");return t&&t.id&&this.graph&&this.graph.getCell(t.id)||null},getTargetElement:function(){var t=this.get("target");return t&&t.id&&this.graph&&this.graph.getCell(t.id)||null},getRelationshipAncestor:function(){var t;if(this.graph){var e=i.compact([this,this.getSourceElement(),this.getTargetElement()]);t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=i.isString(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))}},{endsEqual:function(t,e){var i=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&i}}),a.dia.LinkView=a.dia.CellView.extend({className:function(){var t=a.dia.CellView.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:100,doubleLinkTools:!1,longLinkLength:160,linkToolsOffset:40,doubleLinkToolsOffset:60,sampleInterval:50},_z:null,initialize:function(t){a.dia.CellView.prototype.initialize.apply(this,arguments),"function"!=typeof this.constructor.prototype.watchSource&&(this.constructor.prototype.watchSource=this.createWatcher("source"),this.constructor.prototype.watchTarget=this.createWatcher("target")),this._labelCache={},this._markerCache={},this.startListening()},startListening:function(){var t=this.model;this.listenTo(t,"change:markup",this.render),this.listenTo(t,"change:smooth change:manhattan change:router change:connector",this.update),this.listenTo(t,"change:toolMarkup",this.onToolsChange),this.listenTo(t,"change:labels change:labelMarkup",this.onLabelsChange),this.listenTo(t,"change:vertices change:vertexMarkup",this.onVerticesChange),this.listenTo(t,"change:source",this.onSourceChange),this.listenTo(t,"change:target",this.onTargetChange)},onSourceChange:function(t,e,i){this.watchSource(t,e),i.translateBy&&this.model.get("target").id||(i.updateConnectionOnly=!0,this.update(this.model,null,i))},onTargetChange:function(t,e,i){this.watchTarget(t,e),i.translateBy||(i.updateConnectionOnly=!0,this.update(this.model,null,i))},onVerticesChange:function(t,e,i){this.renderVertexMarkers(),i.translateBy&&i.translateBy!==this.model.id||(i.updateConnectionOnly=!0,this.update(t,null,i))},onToolsChange:function(){this.renderTools().updateToolsPosition()},onLabelsChange:function(){this.renderLabels().updateLabelPositions()},render:function(){this.$el.empty();var t=this.model,e=t.get("markup")||t.markup,s=r(e);if(i.isArray(s)||(s=[s]),this._V={},i.each(s,function(t){var e=t.attr("class");e&&(e=a.util.removeClassNamePrefix(e),this._V[n.camelCase(e)]=t)},this),!this._V.connection)throw new Error("link: no connection path in the markup");return this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(s),this.renderLabels(),this.watchSource(t,t.get("source")).watchTarget(t,t.get("target")).update(),this},renderLabels:function(){var t=this._V.labels;if(!t)return this;t.empty();var e=this.model,n=e.get("labels")||[],s=this._labelCache={},o=n.length;if(0===o)return this;for(var l=a.util.template(e.get("labelMarkup")||e.labelMarkup),c=r(l()),g=this.can("labelMove"),h=0;h<o;h++){var d=n[h],u=d.markup,I=s[h]=u?r("g").append(r(u)):c.clone();I.addClass("label").attr({"label-idx":h,cursor:g?"move":"default"}).appendTo(t);var p=d.attrs;u||(p=i.merge({text:{textAnchor:"middle",fontSize:14,pointerEvents:"none",yAlignment:"middle"},rect:{ref:"text",fill:"white",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},p)),this.updateDOMSubtreeAttributes(I.node,p)}return this},renderTools:function(){if(!this._V.linkTools)return this;var t=n(this._V.linkTools.node).empty(),e=a.util.template(this.model.get("toolMarkup")||this.model.toolMarkup),i=r(e());if(t.append(i.node),this._toolCache=i,this.options.doubleLinkTools){var s;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=a.util.template(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),s=r(e())):s=i.clone(),t.append(s.node),this._tool2Cache=s}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this
;var t=n(this._V.markerVertices.node).empty(),e=a.util.template(this.model.get("vertexMarkup")||this.model.vertexMarkup);return i.each(this.model.get("vertices"),function(n,s){t.append(r(e(i.extend({idx:s},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=n(this._V.markerArrowheads.node);t.empty();var e=a.util.template(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=r(e({end:"source"})),this._V.targetArrowhead=r(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},update:function(t,e,i){return i=i||{},i.updateConnectionOnly||this.updateDOMSubtreeAttributes(this.el,this.model.attr()),this.updateConnection(i),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null,this.updatePostponed=!1,this},updateConnection:function(t){t=t||{};var e,n=this.model;if(t.translateBy&&n.isRelationshipEmbeddedIn(t.translateBy)){var r=t.tx||0,a=t.ty||0;e=this.route=i.map(this.route,function(t){return s.point(t).offset(r,a)}),this._translateConnectionPoints(r,a)}else e=this.route=this.findRoute(n.get("vertices")||[],t),this._findConnectionPoints(e);var o=this.getPathData(e);this._V.connection.attr("d",o),this._V.connectionWrap&&this._V.connectionWrap.attr("d",o),this._translateAndAutoOrientArrows(this._V.markerSource,this._V.markerTarget)},_findConnectionPoints:function(t){var e,n,r,a,o=i.first(t);e=this.getConnectionPoint("source",this.model.get("source"),o||this.model.get("target")).round();var l=i.last(t);n=this.getConnectionPoint("target",this.model.get("target"),l||e).round();var c=this._markerCache;this._V.markerSource&&(c.sourceBBox=c.sourceBBox||this._V.markerSource.bbox(!0),r=s.point(e).move(o||n,c.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(c.targetBBox=c.targetBBox||this._V.markerTarget.bbox(!0),a=s.point(n).move(l||e,c.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),c.sourcePoint=r||e.clone(),c.targetPoint=a||n.clone(),this.sourcePoint=e,this.targetPoint=n},_translateConnectionPoints:function(t,e){var i=this._markerCache;i.sourcePoint.offset(t,e),i.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.model.get("labels")||[];if(!t.length)return this;var e=this._V.connection.node,n=e.getTotalLength();if(!i.isNaN(n)){var r;i.each(t,function(t,a){var o=t.position,l=i.isObject(o)?o.distance:o,c=i.isObject(o)?o.offset:{x:0,y:0};i.isFinite(l)?(l=l>n?n:l,l=l<0?n+l:l,l=l>1?l:n*l):l=n/2;var g=e.getPointAtLength(l);if(i.isObject(c))g=s.point(g).offset(c);else if(i.isFinite(c)){r||(r=this._samples||this._V.connection.sample(this.options.sampleInterval));for(var h,d,u,I=1/0,p=0;p<r.length;p++)d=r[p],(u=s.line(d,g).squaredLength())<I&&(I=u,h=p);var C=r[h-1],A=r[h+1],f=0;A?f=s.point(g).theta(A):C&&(f=s.point(C).theta(g)),g=s.point(g).offset(c).rotate(g,f-90)}this._labelCache[a].attr("transform","translate("+g.x+", "+g.y+")")},this)}return this},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!i.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var r=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var s=this.options.doubleLinkToolsOffset||e;r=this.getPointAtLength(n-s),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===n.css(this._V.markerArrowheads.node,"display"))return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},createWatcher:function(t){function e(e,i){i=i||{};var r=null,s=e.previous(t)||{};return s.id&&this.stopListening(this.paper.getModelById(s.id),"change",n),i.id&&(r=this.paper.getModelById(i.id),this.listenTo(r,"change",n)),n.call(this,r,{cacheOnly:!0}),this}var n=i.partial(this.onEndModelChange,t);return e},onEndModelChange:function(t,e,n){var r=!n.cacheOnly,a=this.model,o=a.get(t)||{};if(e){var l=this.constructor.makeSelector(o),c="source"==t?"target":"source",g=a.get(c)||{},h=g.id&&this.constructor.makeSelector(g);if(n.handleBy===this.cid&&l==h)this[t+"BBox"]=this[c+"BBox"],this[t+"View"]=this[c+"View"],this[t+"Magnet"]=this[c+"Magnet"];else if(n.translateBy){var d=this[t+"BBox"];d.x+=n.tx,d.y+=n.ty}else{var u=this.paper.findViewByModel(o.id),I=u.el.querySelector(l);this[t+"BBox"]=u.getStrokeBBox(I),this[t+"View"]=u,this[t+"Magnet"]=I}if(n.handleBy===this.cid&&n.translateBy&&a.isEmbeddedIn(e)&&!i.isEmpty(a.get("vertices"))&&(r=!1),!this.updatePostponed&&g.id){var p=this.paper.getModelById(g.id);o.id===g.id&&(n.handleBy=this.cid),(n.handleBy===this.cid||n.translateBy&&p.isEmbeddedIn(n.translateBy))&&(this.updatePostponed=!0,r=!1)}}else this[t+"BBox"]=s.rect(o.x||0,o.y||0,1,1),this[t+"View"]=this[t+"Magnet"]=null;r&&(n.updateConnectionOnly=!0,this.update(a,null,n))},_translateAndAutoOrientArrows:function(t,e){t&&t.translateAndAutoOrient(this.sourcePoint,i.first(this.route)||this.targetPoint,this.paper.viewport),e&&e.translateAndAutoOrient(this.targetPoint,i.last(this.route)||this.sourcePoint,this.paper.viewport)},removeVertex:function(t){var e=i.clone(this.model.get("vertices"));return e&&e.length&&(e.splice(t,1),this.model.set("vertices",e,{ui:!0})),this},addVertex:function(t){for(var e=(this.model.get("vertices")||[]).slice(),i=e.slice(),n=this._V.connection.node.cloneNode(!1),s=n.getTotalLength(),a=e.length+1;a--&&(e.splice(a,0,t),r(n).attr("d",this.getPathData(this.findRoute(e))),n.getTotalLength()-s>20);)e=i.slice();return-1===a&&(a=0,e.splice(a,0,t)),this.model.set("vertices",e,{ui:!0}),a},sendToken:function(t,e,n){e=e||1e3,r(this.paper.viewport).append(t),r(t).animateAlongPath({dur:e+"ms",repeatCount:1},this._V.connection.node),i.delay(function(){r(t).remove(),n&&n()},e)},findRoute:function(t){var e=a.routers,n=this.model.get("router"),r=this.paper.options.defaultRouter;if(!n)if(this.model.get("manhattan"))n={name:"orthogonal"};else{if(!r)return t;n=r}var s=n.args||{},o=i.isFunction(n)?n:e[n.name];if(!i.isFunction(o))throw new Error('unknown router: "'+n.name+'"');return o.call(this,t||[],s,this)},getPathData:function(t){var e=a.connectors,n=this.model.get("connector"),r=this.paper.options.defaultConnector;n||(n=this.model.get("smooth")?{name:"smooth"}:r||{});var s=i.isFunction(n)?n:e[n.name],o=n.args||{};if(!i.isFunction(s))throw new Error('unknown connector: "'+n.name+'"');return s.call(this,this._markerCache.sourcePoint,this._markerCache.targetPoint,t||this.model.get("vertices")||{},o,this)},getConnectionPoint:function(t,e,n){var r;if(i.isEmpty(e)&&(e={x:0,y:0}),i.isEmpty(n)&&(n={x:0,y:0}),e.id){var a,o=s.Rect("source"===t?this.sourceBBox:this.targetBBox);if(n.id){var l=s.Rect("source"===t?this.targetBBox:this.sourceBBox);a=l.intersectionWithLineFromCenterToPoint(o.center()),a=a||l.center()}else a=s.Point(n);var c=this.paper.options;if(c.perpendicularLinks||this.options.perpendicular){var g=o.origin(),h=o.corner();if(g.y<=a.y&&a.y<=h.y)switch(o.sideNearestToPoint(a)){case"left":r=s.Point(g.x,a.y);break;case"right":r=s.Point(h.x,a.y);break;default:r=o.center()}else if(g.x<=a.x&&a.x<=h.x)switch(o.sideNearestToPoint(a)){case"top":r=s.Point(a.x,g.y);break;case"bottom":r=s.Point(a.x,h.y);break;default:r=o.center()}else r=o.intersectionWithLineFromCenterToPoint(a),r=r||o.center()}else if(c.linkConnectionPoint){var d="target"===t?this.targetView:this.sourceView,u="target"===t?this.targetMagnet:this.sourceMagnet;r=c.linkConnectionPoint(this,d,u,a)}else r=o.intersectionWithLineFromCenterToPoint(a),r=r||o.center()}else r=s.Point(e);return r},getConnectionLength:function(){return this._V.connection.node.getTotalLength()},getPointAtLength:function(t){return this._V.connection.node.getPointAtLength(t)},_beforeArrowheadMove:function(){this._z=this.model.get("z"),this.model.toFront(),this.el.style.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets()},_afterArrowheadMove:function(){i.isNull(this._z)||(this.model.set("z",this._z,{ui:!0}),this._z=null),this.el.style.pointerEvents="visiblePainted",this.paper.options.markAvailable&&this._unmarkAvailableMagnets()},_createValidateConnectionArgs:function(t){function e(t,e){return i[s]=t,i[s+1]=t.el===e?void 0:e,i}var i=[];i[4]=t,i[5]=this;var n,r=0,s=0;"source"===t?(r=2,n="target"):(s=2,n="source");var a=this.model.get(n);return a.id&&(i[r]=this.paper.findViewByModel(a.id),i[r+1]=a.selector&&i[r].el.querySelector(a.selector)),e},_markAvailableMagnets:function(){function t(t,e){var i=t.paper;return i.options.validateConnection.apply(i,this._validateConnectionArgs(t,e))}var e=this.paper,n=e.model.getElements();this._marked={},i.chain(n).map(e.findViewByModel,e).each(function(e){var n=Array.prototype.slice.call(e.el.querySelectorAll("[magnet]"));"false"!==e.el.getAttribute("magnet")&&n.push(e.el);var r=i.filter(n,i.partial(t,e),this);r.length>0&&(i.each(r,i.partial(e.highlight,i,{magnetAvailability:!0}),e),e.highlight(null,{elementAvailability:!0}),this._marked[e.model.id]=r)},this).value()},_unmarkAvailableMagnets:function(){i.each(this._marked,function(t,e){var n=this.paper.findViewByModel(e);n&&(i.each(t,i.partial(n.unhighlight,i,{magnetAvailability:!0}),n),n.unhighlight(null,{elementAvailability:!0}))},this),this._marked=null},startArrowheadMove:function(t,e){e=i.defaults(e||{},{whenNotAllowed:"revert"}),this._action="arrowhead-move",this._whenNotAllowed=e.whenNotAllowed,this._arrowhead=t,this._initialMagnet=this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),this._initialEnd=i.clone(this.model.get(t))||{x:0,y:0},this._validateConnectionArgs=this._createValidateConnectionArgs(this._arrowhead),this._beforeArrowheadMove()},pointerdown:function(t,e,i){if(a.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("link:pointerdown",t,e,i),this._dx=e,this._dy=i,null==t.target.getAttribute("magnet")){var n,s=a.util.removeClassNamePrefix(t.target.getAttribute("class")),o=a.util.removeClassNamePrefix(t.target.parentNode.getAttribute("class"));switch("label"===o?(s=o,n=t.target.parentNode):n=t.target,s){case"marker-vertex":this.can("vertexMove")&&(this._action="vertex-move",this._vertexIdx=t.target.getAttribute("idx"));break;case"marker-vertex-remove":case"marker-vertex-remove-area":this.can("vertexRemove")&&this.removeVertex(t.target.getAttribute("idx"));break;case"marker-arrowhead":this.can("arrowheadMove")&&this.startArrowheadMove(t.target.getAttribute("end"));break;case"label":this.can("labelMove")&&(this._action="label-move",this._labelIdx=parseInt(r(n).attr("label-idx"),10),this._samples=this._V.connection.sample(1),this._linkLength=this._V.connection.node.getTotalLength());break;default:var l=t.target.parentNode.getAttribute("event");l?this.can("useLinkTools")&&("remove"===l?this.model.remove():this.notify(l,t,e,i)):this.can("vertexAdd")&&(this._vertexIdx=this.addVertex({x:e,y:i}),this._action="vertex-move")}}},pointermove:function(t,e,n){switch(this._action){case"vertex-move":var o=i.clone(this.model.get("vertices"));o[this._vertexIdx]={x:e,y:n},this.model.set("vertices",o,{ui:!0});break;case"label-move":for(var l,c,g,h,d={x:e,y:n},u=this._samples,I=1/0,p=0,C=u.length;p<C;p++)g=u[p],(h=s.line(g,d).squaredLength())<I&&(I=h,l=g,c=p);var A=u[c-1],f=u[c+1],m=0;A&&f?m=s.line(A,f).pointOffset(d):A?m=s.line(A,l).pointOffset(d):f&&(m=s.line(l,f).pointOffset(d)),this.model.label(this._labelIdx,{position:{distance:l.distance/this._linkLength,offset:m}});break;case"arrowhead-move":if(this.paper.options.snapLinks){var y=this.paper.options.snapLinks.radius||50,w=this.paper.findViewsInArea({x:e-y,y:n-y,width:2*y,height:2*y});this._closestView&&this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this._closestView=this._closestEnd=null;var b,v=Number.MAX_VALUE,M=s.point(e,n);i.each(w,function(t){"false"!==t.el.getAttribute("magnet")&&(b=t.model.getBBox().center().distance(M))<y&&b<v&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(t,null))&&(v=b,this._closestView=t,this._closestEnd={id:t.model.id}),t.$("[magnet]").each(i.bind(function(e,i){var n=r(i).bbox(!1,this.paper.viewport);(b=M.distance({x:n.x+n.width/2,y:n.y+n.height/2}))<y&&b<v&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(t,i))&&(v=b,this._closestView=t,this._closestEnd={id:t.model.id,selector:t.getSelector(i),port:i.getAttribute("port")})},this))},this),this._closestView&&this._closestView.highlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this.model.set(this._arrowhead,this._closestEnd||{x:e,y:n},{ui:!0})}else{var N="mousemove"===t.type?t.target:document.elementFromPoint(t.clientX,t.clientY);this._targetEvent!==N&&(this._magnetUnderPointer&&this._viewUnderPointer.unhighlight(this._magnetUnderPointer,{connecting:!0}),this._viewUnderPointer=this.paper.findView(N),this._viewUnderPointer?(this._magnetUnderPointer=this._viewUnderPointer.findMagnet(N),this._magnetUnderPointer&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(this._viewUnderPointer,this._magnetUnderPointer))?this._magnetUnderPointer&&this._viewUnderPointer.highlight(this._magnetUnderPointer,{connecting:!0}):this._magnetUnderPointer=null):this._magnetUnderPointer=null),this._targetEvent=N,this.model.set(this._arrowhead,{x:e,y:n},{ui:!0})}}this._dx=e,this._dy=n,a.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("link:pointermove",t,e,n)},pointerup:function(t,e,i){if("label-move"===this._action)this._samples=null;else if("arrowhead-move"===this._action){var n,r=this.paper,s=r.options,o=this._arrowhead,l=this._initialEnd;if(s.snapLinks)this._closestView&&(this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),n=this._closestView.findMagnet(this._closestEnd.selector)),this._closestView=this._closestEnd=null;else{var c=this._viewUnderPointer;if(n=this._magnetUnderPointer,this._viewUnderPointer=null,this._magnetUnderPointer=null,n){c.unhighlight(n,{connecting:!0});var g=c.getSelector(n),h=n.getAttribute("port"),d={id:c.model.id};null!=h&&(d.port=h),null!=g&&(d.selector=g),this.model.set(o,d,{ui:!0})}}if(!r.linkAllowed(this))switch(this._whenNotAllowed){case"remove":this.model.remove();break;case"revert":default:this.model.set(o,l,{ui:!0})}s.embeddingMode&&this.model.reparent()&&(this._z=null);var u=this.model.prop(o)||{},I=!a.dia.Link.endsEqual(l,u);I&&(l.id&&this.notify("link:disconnect",t,r.findViewByModel(l.id),this._initialMagnet,o),u.id&&this.notify("link:connect",t,r.findViewByModel(u.id),n,o)),this._afterArrowheadMove()}this._action=null,this._whenNotAllowed=null,this._initialMagnet=null,this._initialEnd=null,this._validateConnectionArgs=null,this.notify("link:pointerup",t,e,i),a.dia.CellView.prototype.pointerup.apply(this,arguments)},mouseenter:function(t){a.dia.CellView.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){a.dia.CellView.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)}},{makeSelector:function(t){var e='[model-id="'+t.id+'"]';return t.port?e+=' [port="'+t.port+'"]':t.selector&&(e+=" "+t.selector),e}}),a.dia.Paper=a.mvc.View.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:a.dia.ElementView,linkView:a.dia.LinkView,snapLinks:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:{default:{name:"stroke",options:{padding:3}},magnetAvailability:{name:"addClass",options:{className:"available-magnet"}},elementAvailability:{name:"addClass",options:{className:"available-cell"}}},preventContextMenu:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new a.dia.Link,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},validateMagnet:function(t,e){return"passive"!==e.getAttribute("magnet")},validateConnection:function(t,e,i,n,r,s){return("target"===r?i:t)instanceof a.dia.ElementView},embeddingMode:!1,validateEmbedding:function(t,e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,clickThreshold:0,cellViewNamespace:a.shapes,highlighterNamespace:a.highlighters},events:{mousedown:"pointerdown",dblclick:"mousedblclick",click:"mouseclick",touchstart:"pointerdown",touchend:"mouseclick",touchmove:"pointermove",mousemove:"pointermove","mouseover .joint-cell":"cellMouseover","mouseout .joint-cell":"cellMouseout",contextmenu:"contextmenu",mousewheel:"mousewheel",DOMMouseScroll:"mousewheel","mouseenter .joint-cell":"cellMouseenter","mouseleave .joint-cell":"cellMouseleave"},_highlights:{},init:function(){i.bindAll(this,"pointerup");var t=this.model=this.options.model||new a.dia.Graph;this.setGrid(this.options.drawGrid),this.cloneOptions(),this.render(),this.setDimensions(),this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.removeView).listenTo(t,"reset",this.resetViews).listenTo(t,"sort",this._onSort).listenTo(t,"batch:stop",this._onBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update),this._mousemoved=0,this._views={},this.$document=n(this.el.ownerDocument)},cloneOptions:function(){var t=this.options;t.origin=i.clone(t.origin),t.defaultConnector=i.clone(t.defaultConnector),t.highlighting=i.defaultsDeep({},t.highlighting,this.constructor.prototype.options.highlighting)},bindDocumentEvents:function(){var t=this.getEventNamespace();this.$document.on("mouseup"+t+" touchend"+t,this.pointerup)},unbindDocumentEvents:function(){this.$document.off(this.getEventNamespace())},render:function(){return this.$el.empty(),this.svg=r("svg").attr({width:"100%",height:"100%"}).node,this.viewport=r("g").addClass(a.util.addClassNamePrefix("viewport")).node,this.defs=r("defs").node,r(this.svg).append([this.viewport,this.defs]),this.$background=n("<div/>").addClass(a.util.addClassNamePrefix("paper-background")),this.options.background&&this.drawBackground(this.options.background),this.$grid=n("<div/>").addClass(a.util.addClassNamePrefix("paper-grid")),this.options.drawGrid&&this.drawGrid(),this.$el.append(this.$background,this.$grid,this.svg),this},update:function(){this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background)},_viewportMatrix:null,_viewportTransformString:null,matrix:function(t){var e=this.viewport;if(void 0===t){var i=e.getAttribute("transform");return(this._viewportTransformString||null)===i?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=i),r.createSVGMatrix(t)}return t=r.createSVGMatrix(t),r(e).transform(t,{absolute:!0}),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return r.createSVGMatrix(this.viewport.getScreenCTM())},_onSort:function(){this.model.hasActiveBatch("add")||this.sortViews()},_onBatchStop:function(t){"add"!==(t&&t.batchName)||this.model.hasActiveBatch("add")||this.sortViews()},onRemove:function(){this.removeViews(),this.unbindDocumentEvents()},setDimensions:function(t,e){t=this.options.width=t||this.options.width,e=this.options.height=e||this.options.height,this.$el.css({width:Math.round(t),height:Math.round(e)}),this.trigger("resize",t,e)},setOrigin:function(t,e){return this.translate(t||0,e||0,{absolute:!0})},fitToContent:function(t,e,n,s){i.isObject(t)?(s=t,t=s.gridWidth||1,e=s.gridHeight||1,n=s.padding||0):(s=s||{},t=t||1,e=e||1,n=n||0),n=a.util.normalizeSides(n);var o=r(this.viewport).bbox(!0,this.svg),l=this.scale(),c=this.translate();o.x*=l.sx,o.y*=l.sy,o.width*=l.sx,o.height*=l.sy;var g=Math.max(Math.ceil((o.width+o.x)/t),1)*t,h=Math.max(Math.ceil((o.height+o.y)/e),1)*e,d=0,u=0;("negative"==s.allowNewOrigin&&o.x<0||"positive"==s.allowNewOrigin&&o.x>=0||"any"==s.allowNewOrigin)&&(d=Math.ceil(-o.x/t)*t,d+=n.left,g+=d),("negative"==s.allowNewOrigin&&o.y<0||"positive"==s.allowNewOrigin&&o.y>=0||"any"==s.allowNewOrigin)&&(u=Math.ceil(-o.y/e)*e,u+=n.top,h+=u),g+=n.right,h+=n.bottom,g=Math.max(g,s.minWidth||0),h=Math.max(h,s.minHeight||0),g=Math.min(g,s.maxWidth||Number.MAX_VALUE),h=Math.min(h,s.maxHeight||Number.MAX_VALUE);var I=g!=this.options.width||h!=this.options.height;(d!=c.tx||u!=c.ty)&&this.translate(d,u),I&&this.setDimensions(g,h)},scaleContentToFit:function(t){var e=this.getContentBBox();if(e.width&&e.height){t=t||{},i.defaults(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var n,r=t.padding,a=t.minScaleX||t.minScale,o=t.maxScaleX||t.maxScale,l=t.minScaleY||t.minScale,c=t.maxScaleY||t.maxScale;if(t.fittingBBox)n=t.fittingBBox;else{var g=this.translate();n={x:g.tx,y:g.ty,width:this.options.width,height:this.options.height}}n=s.rect(n).moveAndExpand({x:r,y:r,width:-2*r,height:-2*r});var h=this.scale(),d=n.width/e.width*h.sx,u=n.height/e.height*h.sy;if(t.preserveAspectRatio&&(d=u=Math.min(d,u)),t.scaleGrid){var I=t.scaleGrid;d=I*Math.floor(d/I),u=I*Math.floor(u/I)}d=Math.min(o,Math.max(a,d)),u=Math.min(c,Math.max(l,u)),this.scale(d,u);var p=this.getContentBBox(),C=n.x-p.x,A=n.y-p.y;this.translate(C,A)}},getContentBBox:function(){var t=this.viewport.getBoundingClientRect(),e=this.clientMatrix(),i=this.translate();return s.rect({x:t.left-e.e+i.tx,y:t.top-e.f+i.ty,width:t.width,height:t.height})},getArea:function(){return this.paperToLocalRect({x:0,y:0,width:this.options.width,height:this.options.height})},getRestrictedArea:function(){return i.isFunction(this.options.restrictTranslate)?this.options.restrictTranslate.apply(this,arguments):!0===this.options.restrictTranslate?this.getArea():this.options.restrictTranslate||null},createViewForModel:function(t){var i,n,r=this.options.cellViewNamespace,s=t.get("type")+"View",o=a.util.getByPath(r,s,".");return t.isLink()?(i=this.options.linkView,n=a.dia.LinkView):(i=this.options.elementView,n=a.dia.ElementView),new(i.prototype instanceof e.View?o||i:i.call(this,t)||o||n)({model:t,interactive:this.options.interactive})},onCellAdded:function(t,e,n){if(this.options.async&&!1!==n.async&&i.isNumber(n.position)){if(this._asyncCells=this._asyncCells||[],this._asyncCells.push(t),0==n.position){if(this._frameId)throw new Error("another asynchronous rendering in progress");this.asyncRenderViews(this._asyncCells,n),delete this._asyncCells}}else this.renderView(t)},removeView:function(t){var e=this._views[t.id];return e&&(e.remove(),delete this._views[t.id]),e},renderView:function(t){var e=this._views[t.id]=this.createViewForModel(t);return r(this.viewport).append(e.el),e.paper=this,e.render(),n(e.el).find("image").on("dragstart",function(){return!1}),e},beforeRenderViews:function(t){return t.sort(function(t){return t instanceof a.dia.Link?1:-1}),t},afterRenderViews:function(){this.sortViews()},resetViews:function(t,e){this.removeViews();var n=t.models.slice();n=this.beforeRenderViews(n,e)||n,this._frameId&&(a.util.cancelFrame(this._frameId),delete this._frameId),this.options.async?this.asyncRenderViews(n,e):(i.each(n,this.renderView,this),this.sortViews())},removeViews:function(){i.invoke(this._views,"remove"),this._views={}},asyncBatchAdded:i.noop,asyncRenderViews:function(t,e){if(this._frameId){var n=this.options.async&&this.options.async.batchSize||50,r=t.splice(0,n);i.each(r,function(t){t.graph===this.model&&this.renderView(t)},this),this.asyncBatchAdded()}t.length?this._frameId=a.util.nextFrame(function(){this.asyncRenderViews(t,e)},this):(delete this._frameId,this.afterRenderViews(e),this.trigger("render:done",e))},sortViews:function(){var t=n(this.viewport).children("[model-id]"),e=this.model.get("cells");a.util.sortElements(t,function(t,i){var r=e.get(n(t).attr("model-id")),s=e.get(n(i).attr("model-id"));return(r.get("z")||0)>(s.get("z")||0)?1:-1})},scale:function(t,e,i,n){if(void 0===t)return r.matrixToScale(this.matrix());void 0===e&&(e=t),void 0===i&&(i=0,n=0);var s=this.translate();if(i||n||s.tx||s.ty){var a=s.tx-i*(t-1),o=s.ty-n*(e-1);this.translate(a,o)}var l=this.matrix();return l.a=t||0,l.d=e||0,this.matrix(l),this.trigger("scale",t,e,i,n),this},rotate:function(t,e,i){if(void 0===t)return r.matrixToRotate(this.matrix());if(void 0===e){var n=this.viewport.getBBox();e=n.width/2,i=n.height/2}var s=this.matrix().translate(e,i).rotate(t).translate(-e,-i);return this.matrix(s),this},translate:function(t,e){if(void 0===t)return r.matrixToTranslate(this.matrix());var i=this.matrix();i.e=t||0,i.f=e||0,this.matrix(i);var n=this.translate(),s=this.options.origin;return s.x=n.tx,s.y=n.ty,this.trigger("translate",n.tx,n.ty),this.options.drawGrid&&this.drawGrid(),this},findView:function(t){for(var e=i.isString(t)?this.viewport.querySelector(t):t instanceof n?t[0]:t;e&&e!==this.el&&e!==document;){var r=e.getAttribute("model-id");if(r)return this._views[r];e=e.parentNode}},findViewByModel:function(t){var e=i.isString(t)?t:t.id;return this._views[e]},findViewsFromPoint:function(t){t=s.point(t);var e=i.map(this.model.getElements(),this.findViewByModel,this);return i.filter(e,function(e){return e&&s.rect(e.vel.bbox(!1,this.viewport)).containsPoint(t)},this)},findViewsInArea:function(t,e){e=i.defaults(e||{},{strict:!1}),t=s.rect(t);var n=i.map(this.model.getElements(),this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return i.filter(n,function(e){return e&&t[r](s.rect(e.vel.bbox(!1,this.viewport)))},this)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var i=s.Point(t,e),n=r.transformPoint(i,this.matrix());return s.Point(n)},localToPaperRect:function(t,e,i,n){var a=s.Rect(t,e),o=r.transformRect(a,this.matrix());return s.Rect(o)},paperToLocalPoint:function(t,e){var i=s.Point(t,e),n=r.transformPoint(i,this.matrix().inverse());return s.Point(n)},paperToLocalRect:function(t,e,i,n){var a=s.Rect(t,e,i,n),o=r.transformRect(a,this.matrix().inverse());return s.Rect(o)},localToClientPoint:function(t,e){var i=s.Point(t,e),n=r.transformPoint(i,this.clientMatrix());return s.Point(n)},localToClientRect:function(t,e,i,n){var a=s.Rect(t,e,i,n),o=r.transformRect(a,this.clientMatrix());return s.Rect(o)},clientToLocalPoint:function(t,e){var i=s.Point(t,e),n=r.transformPoint(i,this.clientMatrix().inverse());return s.Point(n)},clientToLocalRect:function(t,e,i,n){var a=s.Rect(t,e,i,n),o=r.transformRect(a,this.clientMatrix().inverse());return s.Rect(o)},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,i,n){return this.localToPaperRect(t,e,i,n).moveAndExpand(this.pageOffset())},pageToLocalPoint:function(t,e){var i=s.Point(t,e),n=i.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(t,e,i,n){var r=this.pageOffset(),a=s.Rect(t,e,i,n);return a.x-=r.x,a.y-=r.y,this.paperToLocalRect(a)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return s.Point(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){var e;if(t instanceof a.dia.Link)e=t;else{if(!(t instanceof a.dia.LinkView))throw new Error("Must provide link model or view.");e=t.model}if(!this.options.multiLinks){var n=e.get("source"),r=e.get("target");if(n.id&&r.id){var s=e.getSourceElement();if(s){var o=this.model.getConnectedLinks(s,{outbound:!0,inbound:!1});if(i.filter(o,function(t){var e=t.get("source"),i=t.get("target");return e&&e.id===n.id&&(!e.port||e.port===n.port)&&i&&i.id===r.id&&(!i.port||i.port===r.port)}).length>1)return!1}}}return!!(this.options.linkPinning||i.has(e.get("source"),"id")&&i.has(e.get("target"),"id"))},getDefaultLink:function(t,e){return i.isFunction(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t){t=t||{};var e=t.highlighter,n=this.options;if(i.isUndefined(e)){var r=i.chain(t).pick("embedding","connecting","magnetAvailability","elementAvailability").keys().first().value();e=r&&n.highlighting[r]||n.highlighting.default}if(!e)return!1;i.isString(e)&&(e={name:e});var s=e.name,a=n.highlighterNamespace[s];if(!a)throw new Error('Unknown highlighter ("'+s+'")');if("function"!=typeof a.highlight)throw new Error('Highlighter ("'+s+'") is missing required highlight() method');if("function"!=typeof a.unhighlight)throw new Error('Highlighter ("'+s+'") is missing required unhighlight() method');return{highlighter:a,options:e.options||{},name:s}},onCellHighlight:function(t,e,n){if(n=this.resolveHighlighter(n)){e.id||(e.id=r.uniqueId());var s=n.name+e.id+JSON.stringify(n.options);if(!this._highlights[s]){var a=n.highlighter;a.highlight(t,e,i.clone(n.options)),this._highlights[s]={cellView:t,magnetEl:e,opt:n.options,highlighter:a}}}},onCellUnhighlight:function(t,e,i){if(i=this.resolveHighlighter(i)){var n=i.name+e.id+JSON.stringify(i.options),r=this._highlights[n];r&&(r.highlighter.unhighlight(r.cellView,r.magnetEl,r.opt),this._highlights[n]=null)}},mousedblclick:function(t){t.preventDefault(),t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.pointerdblclick(t,i.x,i.y):this.trigger("blank:pointerdblclick",t,i.x,i.y)}},mouseclick:function(t){if(this._mousemoved<=this.options.clickThreshold){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(this.guard(t,e))return;var i=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.pointerclick(t,i.x,i.y):this.trigger("blank:pointerclick",t,i.x,i.y)}},guard:function(t,e){return!(!this.options.guard||!this.options.guard(t,e))||(t.data&&!i.isUndefined(t.data.guarded)?t.data.guarded:!(e&&e.model&&e.model instanceof a.dia.Cell||this.svg===t.target||this.el===t.target||n.contains(this.svg,t.target)))},contextmenu:function(t){t=a.util.normalizeEvent(t),this.options.preventContextMenu&&t.preventDefault();var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.contextmenu(t,i.x,i.y):this.trigger("blank:contextmenu",t,i.x,i.y)}},pointerdown:function(t){this.bindDocumentEvents(),t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){t.preventDefault(),this._mousemoved=0;var i=this.snapToGrid({x:t.clientX,y:t.clientY});e?(this.sourceView=e,e.pointerdown(t,i.x,i.y)):this.trigger("blank:pointerdown",t,i.x,i.y)}},pointermove:function(t){if(this.sourceView){t.preventDefault(),t=a.util.normalizeEvent(t),this._mousemoved++;var e=this.snapToGrid({x:t.clientX,y:t.clientY});this.sourceView.pointermove(t,e.x,e.y)}},pointerup:function(t){this.unbindDocumentEvents(),t=a.util.normalizeEvent(t);var e=this.snapToGrid({x:t.clientX,y:t.clientY});this.sourceView?(this.sourceView.pointerup(t,e.x,e.y),this.sourceView=null):this.trigger("blank:pointerup",t,e.x,e.y)},mousewheel:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=t.originalEvent,n=this.snapToGrid({x:i.clientX,y:i.clientY}),r=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));e?e.mousewheel(t,n.x,n.y,r):this.trigger("blank:mousewheel",t,n.x,n.y,r)}},cellMouseover:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(e){if(this.guard(t,e))return;e.mouseover(t)}},cellMouseout:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);if(e){if(this.guard(t,e))return;e.mouseout(t)}},cellMouseenter:function(t){
t=a.util.normalizeEvent(t);var e=this.findView(t.target);e&&!this.guard(t,e)&&e.mouseenter(t)},cellMouseleave:function(t){t=a.util.normalizeEvent(t);var e=this.findView(t.target);e&&!this.guard(t,e)&&e.mouseleave(t)},setGridSize:function(t){return this.options.gridSize=t,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGriRefs:function(){return this._gridCache||(this._gridCache={root:r("svg",{width:"100%",height:"100%"},r("defs")),patterns:{},add:function(t,e){r(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(r("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return void 0!==this.patterns[t]}}),this._gridCache},setGrid:function(t){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var e=i.isArray(t)?t:[t||{}];return i.each(e,function(t){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(t))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(i.isString(t)&&e[t])return i.map(e[t],i.clone);var n=t||{args:[{}]},r=i.isArray(n),s=n.name;if(r||s||n.markup||(s="dot"),s&&e[s]){var a=i.map(e[s],i.clone),o=i.isArray(n.args)?n.args:[n.args||{}];i.defaults(o[0],i.omit(t,"args"));for(var l=0;l<o.length;l++)a[l]&&i.extend(a[l],o[l]);return a}return r?n:[n]},drawGrid:function(t){var e=this.options.gridSize;if(e<=1)return this.clearGrid();var n=i.isArray(t)?t:[t],s=this.matrix(),a=this._getGriRefs();i.each(this._gridSettings,function(t,o){var l="pattern_"+o,c=i.merge(t,n[o],{sx:s.a||1,sy:s.d||1,ox:s.e||0,oy:s.f||0});c.width=e*(s.a||1)*(c.scaleFactor||1),c.height=e*(s.d||1)*(c.scaleFactor||1),a.exist(l)||a.add(l,r("pattern",{id:l,patternUnits:"userSpaceOnUse"},r(c.markup)));var g=a.get(l);i.isFunction(c.update)&&c.update(g.node.childNodes[0],c);var h=c.ox%c.width;h<0&&(h+=c.width);var d=c.oy%c.height;d<0&&(d+=c.height),g.attr({x:h,y:d,width:c.width,height:c.height})});var o=(new XMLSerializer).serializeToString(a.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(t){t=t||{};var e=t.position||"center",n=t.size||"auto auto",r=this.scale(),a=this.translate();if(i.isObject(e)){e=a.tx+r.sx*(e.x||0)+"px "+(a.ty+r.sy*(e.y||0))+"px"}i.isObject(n)&&(n=s.rect(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(!(t instanceof HTMLImageElement))return void this.$background.css("backgroundImage","");e=e||{};var n,r=e.size,s=e.repeat||"no-repeat",a=e.opacity||1,o=Math.abs(e.quality)||1,l=this.constructor.backgroundPatterns[i.camelCase(s)];if(i.isFunction(l)){t.width*=o,t.height*=o;var c=l(t,e);if(!(c instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=c.toDataURL("image/png"),s="repeat",i.isObject(r)?(r.width*=c.width/t.width,r.height*=c.height/t.height):i.isUndefined(r)&&(e.size={width:c.width/o,height:c.height/o})}else n=t.src,i.isUndefined(r)&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:a,backgroundRepeat:s,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=i.cloneDeep(t);var e=document.createElement("img");e.onload=i.bind(this.drawBackgroundImage,this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,i.invoke(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!i.isObject(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+a.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var s=a.util.filter,o=s[n]&&s[n](t.args||{});if(!o)throw new Error("Non-existing filter "+n);var l=i.extend({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});r(o,l).appendTo(this.defs)}return e},defineGradient:function(t){if(!i.isObject(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");var e=t.id,n=t.type,s=t.stops;if(e||(e=n+this.svg.id+a.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var o=a.util.template('<stop offset="${offset}" stop-color="${color}" stop-opacity="${opacity}"/>'),l=i.map(s,function(t){return o({offset:t.offset,color:t.color,opacity:i.isFinite(t.opacity)?t.opacity:1})}),c=["<"+n+">",l.join(""),"</"+n+">"].join(""),g=i.extend({id:e},t.attrs);r(c,g).appendTo(this.defs)}return e},defineMarker:function(t){if(!i.isObject(t))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");var e=t.id;if(e||(e=this.svg.id+a.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var n=i.omit(t,"type","userSpaceOnUse");r("marker",{id:e,orient:"auto",overflow:"visible",markerUnits:t.markerUnits||"userSpaceOnUse"},[r(t.type||"path",n)]).appendTo(this.defs)}return e}},{backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=2*i,e.height=2*n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.setTransform(-1,0,0,-1,e.width,e.height),r.drawImage(t,0,0,i,n),r.setTransform(-1,0,0,1,e.width,0),r.drawImage(t,0,0,i,n),r.setTransform(1,0,0,-1,0,e.height),r.drawImage(t,0,0,i,n),e},flipX:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=2*i,e.height=n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.translate(2*i,0),r.scale(-1,1),r.drawImage(t,0,0,i,n),e},flipY:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=i,e.height=2*n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.translate(0,2*n),r.scale(1,-1),r.drawImage(t,0,0,i,n),e},watermark:function(t,e){e=e||{};var n=t.width,r=t.height,a=document.createElement("canvas");a.width=3*n,a.height=3*r;for(var o=a.getContext("2d"),l=i.isNumber(e.watermarkAngle)?-e.watermarkAngle:-20,c=s.toRad(l),g=a.width/4,h=a.height/4,d=0;d<4;d++)for(var u=0;u<4;u++)(d+u)%2>0&&(o.setTransform(1,0,0,1,(2*d-1)*g,(2*u-1)*h),o.rotate(c),o.drawImage(t,-n/2,-r/2,n,r));return a}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){r(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var i=e.sx<=1?e.thickness*e.sx:e.thickness;r(t).attr({width:i,height:i,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var i,n=e.width,s=e.height,a=e.thickness;i=n-a>=0&&s-a>=0?["M",n,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",r(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var i,n=e.width,s=e.height,a=e.thickness;i=n-a>=0&&s-a>=0?["M",n,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",r(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var i,n=e.width,s=e.height,a=e.thickness;i=n-a>=0&&s-a>=0?["M",n,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",r(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}]}}),function(t,e){var i=function(i){var n=e.cloneDeep(i)||{};this.ports=[],this.groups={},this.portLayoutNamespace=t.layout.Port,this.portLabelLayoutNamespace=t.layout.PortLabel,this._init(n)};i.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return e.filter(this.ports,function(e){return e.group===t})},getGroupPortsMetrics:function(t,i){var n=this.getGroup(t),r=this.getPortsByGroup(t),a=n.position||{},o=a.name,l=this.portLayoutNamespace;l[o]||(o="left");var c=a.args||{},g=e.pluck(r,"position.args"),h=l[o](g,i,c);return e.transform(h,e.bind(function(t,e,n){var a=r[n];t.push({portId:a.id,portTransformation:e,labelTransformation:this._getPortLabelLayout(a,s.Point(e),i),portAttrs:a.attrs,portSize:a.size,labelSize:a.label.size})},this),[])},_getPortLabelLayout:function(t,e,i){var n=this.portLabelLayoutNamespace,r=t.label.position.name||"left";return n[r]?n[r](e,i,t.label.position.args):null},_init:function(t){e.transform(t.groups||{},e.bind(this._evaluateGroup,this),this.groups),e.transform(t.items||[],e.bind(this._evaluatePort,this),this.ports)},_evaluateGroup:function(t,i,n){t[n]=e.merge(i,{position:this._getPosition(i.position,!0),label:this._getLabel(i,!0)})},_evaluatePort:function(t,i){var n=e.clone(i),r=this.getGroup(i.group);n.markup=n.markup||r.markup,n.attrs=e.merge({},r.attrs,n.attrs),n.position=this._createPositionNode(r,n),n.label=e.merge({},r.label,this._getLabel(n)),n.z=this._getZIndex(r,n),n.size=e.extend({},r.size,n.size),t.push(n)},_getZIndex:function(t,i){return e.isNumber(i.z)?i.z:e.isNumber(t.z)||"auto"===t.z?t.z:"auto"},_createPositionNode:function(t,i){return e.merge({name:"left",args:{}},t.position,{args:i.args})},_getPosition:function(t,i){var n,r={};e.isFunction(t)?(n="fn",r.fn=t):e.isString(t)?n=t:e.isUndefined(t)?n=i?"left":null:e.isArray(t)?(n="absolute",r.x=t[0],r.y=t[1]):e.isObject(t)&&(n=t.name,e.extend(r,t.args));var s={args:r};return n&&(s.name=n),s},_getLabel:function(t,e){var i=t.label||{},n=i;return n.position=this._getPosition(i.position,e),n}},e.extend(t.dia.Element.prototype,{_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},i={};e.each(t.items,function(t){i[t.id]=!0});var n=this.previous("ports")||{},r={};e.each(n.items,function(t){i[t.id]||(r[t.id]=!0)});var s=this.graph;if(s&&!e.isEmpty(r)){var a=s.getConnectedLinks(this,{inbound:!0});e.each(a,function(t){r[t.get("target").port]&&t.remove()});var o=s.getConnectedLinks(this,{outbound:!0});e.each(o,function(t){r[t.get("source").port]&&t.remove()})}},hasPorts:function(){return this.prop("ports/items").length>0},hasPort:function(t){return-1!==this.getPortIndex(t)},getPorts:function(){return e.cloneDeep(this.prop("ports/items"))||[]},getPort:function(t){return e.cloneDeep(e.find(this.prop("ports/items"),function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){var i=this._portSettingsData.getGroupPortsMetrics(t,s.Rect(this.size()));return e.transform(i,function(t,e){var i=e.portTransformation;t[e.portId]={x:i.x,y:i.y,angle:i.angle}},{})},getPortIndex:function(t){var i=e.isObject(t)?t.id:t;return this._isValidPortId(i)?e.findIndex(this.prop("ports/items"),{id:i}):-1},addPort:function(t,i){if(!e.isObject(t)||e.isArray(t))throw new Error("Element: addPort requires an object.");var n=e.clone(this.prop("ports/items"))||[];return n.push(t),this.prop("ports/items",n,i),this},portProp:function(t,i,n,r){var s=this.getPortIndex(t);if(-1===s)throw new Error("Element: unable to find port with id "+t);var a=Array.prototype.slice.call(arguments,1);return e.isArray(i)?a[0]=["ports","items",s].concat(i):e.isString(i)?a[0]=["ports/items/",s,"/",i].join(""):(a=["ports/items/"+s],e.isPlainObject(i)&&(a.push(i),a.push(n))),this.prop.apply(this,a)},_validatePorts:function(){var i=this.get("ports")||{},n=[];i=i||{};var r=i.items||[];return e.each(r,function(e){this._isValidPortId(e.id)||(e.id=t.util.uuid())},this),e.uniq(r,"id").length!==r.length&&n.push("Element: found id duplicities in ports."),n},_isValidPortId:function(t){return!e.isNull(t)&&!e.isUndefined(t)&&!e.isObject(t)},addPorts:function(t,i){return t.length&&this.prop("ports/items",(e.clone(this.prop("ports/items"))||[]).concat(t),i),this},removePort:function(t,i){var n=i||{},r=e.clone(this.prop("ports/items")),s=this.getPortIndex(t);return-1!==s&&(r.splice(s,1),n.rewrite=!0,this.prop("ports/items",r,n)),this},_createPortData:function(){var t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));var n;this._portSettingsData&&(n=this._portSettingsData.getPorts()),this._portSettingsData=new i(this.get("ports"));var r=this._portSettingsData.getPorts();if(n){var s=e.filter(r,function(t){if(!e.find(n,"id",t.id))return t}),a=e.filter(n,function(t){if(!e.find(r,"id",t.id))return t});a.length>0&&this.trigger("ports:remove",this,a),s.length>0&&this.trigger("ports:add",this,s)}}}),e.extend(t.dia.ElementView.prototype,{portContainerMarkup:'<g class="joint-port"/>',portMarkup:'<circle class="joint-port-body" r="10" fill="#FFFFFF" stroke="#000000"/>',portLabelMarkup:'<text class="joint-port-label" fill="#000000"/>',_portElementsCache:null,_initializePorts:function(){this._portElementsCache={},this.listenTo(this.model,"change:ports",function(){this._refreshPorts()})},_refreshPorts:function(){this._removePorts(),this._portElementsCache={},this._renderPorts()},_renderPorts:function(){var t=[],i=this._getContainerElement();e.each(i.node.childNodes,function(e){t.push(e)});var n=e.groupBy(this.model._portSettingsData.getPorts(),"z"),r="auto";e.each(n[r],function(e){var n=this._getPortElement(e);i.append(n),t.push(n)},this),e.each(n,function(e,i){if(i!==r){var s=parseInt(i,10);this._appendPorts(n[i],s,t)}},this),this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,i,n){var s=this._getContainerElement(),a=e.map(t,this._getPortElement,this);n[i]||i<0?r(n[Math.max(i,0)]).before(a):s.append(a)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},_updatePorts:function(){this._updatePortGroup(void 0);var t=e.keys(this.model._portSettingsData.groups);e.each(t,this._updatePortGroup,this)},_removePorts:function(){e.invoke(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){var e=r(this._getPortMarkup(t)),i=r(this._getPortLabelMarkup(t.label));if(e&&e.length>1)throw new Error("ElementView: Invalid port markup - multiple roots.");e.attr({port:t.id,"port-group":t.group});var n=r(this.portContainerMarkup).append(e).append(i);return this._portElementsCache[t.id]={portElement:n,portLabelElement:i},n},_updatePortGroup:function(t){for(var e=s.Rect(this.model.size()),i=this.model._portSettingsData.getGroupPortsMetrics(t,e),n=0,r=i.length;n<r;n++){var a=i[n],o=a.portId,l=this._portElementsCache[o]||{},c=a.portTransformation;this.applyPortTransform(l.portElement,c),this.updateDOMSubtreeAttributes(l.portElement.node,a.portAttrs,{rootBBox:s.Rect(a.portSize)});var g=a.labelTransformation;g&&(this.applyPortTransform(l.portLabelElement,g,-c.angle||0),this.updateDOMSubtreeAttributes(l.portLabelElement.node,g.attrs,{rootBBox:s.Rect(a.labelSize)}))}},applyPortTransform:function(t,e,i){var n=r.createSVGMatrix().rotate(i||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(n,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}})}(a,i),a.shapes.basic={},a.shapes.basic.Generic=a.dia.Element.extend({defaults:i.defaultsDeep({type:"basic.Generic",attrs:{".":{fill:"#ffffff",stroke:"none"}}},a.dia.Element.prototype.defaults)}),a.shapes.basic.Rect=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>',defaults:i.defaultsDeep({type:"basic.Rect",attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.basic.TextView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:attrs",this.resize)}}),a.shapes.basic.Text=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><text/></g></g>',defaults:i.defaultsDeep({type:"basic.Text",attrs:{text:{"font-size":18,fill:"#000000"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.basic.Circle=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>',defaults:i.defaultsDeep({type:"basic.Circle",size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.basic.Ellipse=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>',defaults:i.defaultsDeep({type:"basic.Ellipse",size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.basic.Polygon=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>',defaults:i.defaultsDeep({type:"basic.Polygon",size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.basic.Polyline=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>',defaults:i.defaultsDeep({type:"basic.Polyline",size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.basic.Image=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>',defaults:i.defaultsDeep({type:"basic.Image",attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.basic.Path=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>',defaults:i.defaultsDeep({type:"basic.Path",size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.basic.Rhombus=a.shapes.basic.Path.extend({defaults:i.defaultsDeep({type:"basic.Rhombus",attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}},a.shapes.basic.Path.prototype.defaults)}),a.shapes.basic.PortsModelInterface={initialize:function(){this.updatePortsAttrs(),this.on("change:inPorts change:outPorts",this.updatePortsAttrs,this),this.constructor.__super__.constructor.__super__.initialize.apply(this,arguments)},updatePortsAttrs:function(t){if(this._portSelectors){var e=i.omit(this.get("attrs"),this._portSelectors);this.set("attrs",e,{silent:!0})}this._portSelectors=[];var n={};i.each(this.get("inPorts"),function(t,e,r){var s=this.getPortAttrs(t,e,r.length,".inPorts","in");this._portSelectors=this._portSelectors.concat(i.keys(s)),i.extend(n,s)},this),i.each(this.get("outPorts"),function(t,e,r){var s=this.getPortAttrs(t,e,r.length,".outPorts","out");this._portSelectors=this._portSelectors.concat(i.keys(s)),i.extend(n,s)},this),this.attr(n,{silent:!0}),this.processPorts(),this.trigger("process:ports")},getPortSelector:function(t){var e=".inPorts",i=this.get("inPorts").indexOf(t);if(i<0&&(e=".outPorts",(i=this.get("outPorts").indexOf(t))<0))throw new Error("getPortSelector(): Port doesn't exist.");return e+">g:nth-child("+(i+1)+")>.port-body"}},a.shapes.basic.PortsViewInterface={initialize:function(){this.listenTo(this.model,"process:ports",this.update),a.dia.ElementView.prototype.initialize.apply(this,arguments)},update:function(){this.renderPorts(),a.dia.ElementView.prototype.update.apply(this,arguments)},renderPorts:function(){var t=this.$(".inPorts").empty(),e=this.$(".outPorts").empty(),n=a.util.template(this.model.portMarkup);i.each(i.filter(this.model.ports,function(t){return"in"===t.type}),function(e,i){t.append(r(n({id:i,port:e})).node)}),i.each(i.filter(this.model.ports,function(t){return"out"===t.type}),function(t,i){e.append(r(n({id:i,port:t})).node)})}},a.shapes.basic.TextBlock=a.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',a.env.test("svgforeignobject")?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),defaults:i.defaultsDeep({type:"basic.TextBlock",attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},a.shapes.basic.Generic.prototype.defaults),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),a.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":i.clone(e),div:{style:i.clone(e)}})},updateContent:function(t,e){a.env.test("svgforeignobject")?this.attr({".content":{html:e}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),a.shapes.basic.TextBlockView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments),this.noSVGForeignObjectElement=!a.env.test("svgforeignobject"),a.env.test("svgforeignobject")||this.listenTo(this.model,"change:content change:size",function(t){this.updateContent(t)})},update:function(t,e){var n=this.model;if(a.env.test("svgforeignobject"))a.dia.ElementView.prototype.update.call(this,n,e);else{var r=i.omit(e||n.get("attrs"),".content");a.dia.ElementView.prototype.update.call(this,n,r),e&&!i.has(e,".content")||this.updateContent(n,e)}},updateContent:function(t,e){var n=i.merge({},(e||t.get("attrs"))[".content"]);n=i.omit(n,"text");var r=a.util.breakText(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),s=a.util.setByPath({},".content",n,"/");s[".content"].text=r,a.dia.ElementView.prototype.update.call(this,t,s)}}),a.routers.manhattan=function(t,e,i){"use strict";function n(t){this.map={},this.options=t,this.mapGridSize=100}function r(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function s(e){return t.point(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function a(e,i,n,r){for(var a,o=[],l=s(r.difference(i)),c=i;a=e[c];){var g=s(c.difference(a));g.equals(l)||(o.unshift(c),l=g),c=a}return s(t.point(c).difference(n)).equals(l)||o.unshift(c),o}function o(t,i,n){var r=n.step,s=t.center();return e.chain(n.directionMap).pick(i).map(function(e){var i=e.x*t.width/2,n=e.y*t.height/2,a=s.clone().offset(i,n);return t.containsPoint(a)&&a.offset(e.x*r,e.y*r),a.snapToGrid(r)}).value()}function l(e,i,n){var r=360/n;return Math.floor(t.normalizeAngle(e.theta(i)+r/2)/r)*r}function c(t,e){var i=Math.abs(t-e);return i>180?360-i:i}function g(t,e){for(var i=1/0,n=0,r=e.length;n<r;n++){var s=t.manhattanDistance(e[n]);s<i&&(i=s)}return i}function h(i,n,s,h){var d,u,I,p,C=h.step;if(i instanceof t.rect?(d=o(i,h.startDirections,h),I=i.center().snapToGrid(C)):(I=i.clone().snapToGrid(C),d=[I]),n instanceof t.rect?(u=o(n,h.endDirections,h),p=n.center().snapToGrid(C)):(p=n.clone().snapToGrid(C),u=[p]),d=e.filter(d,s.isPointAccessible,s),u=e.filter(u,s.isPointAccessible,s),d.length>0&&u.length>0){var A=new r,f={},m={};e.each(d,function(t){var e=t.toString();A.add(e,g(t,u)),m[e]=0});for(var y,w,b=h.directions,v=b.length,M=h.maximumLoops,N=e.invoke(u,"toString");!A.isEmpty()&&M>0;){var x=A.pop(),z=t.point(x),D=m[x],Z=j,j=f[x]?l(f[x],z,v):null!=h.previousDirAngle?h.previousDirAngle:l(I,z,v);if(N.indexOf(x)>=0&&(w=c(j,l(z,p,v)),z.equals(p)||w<180))return h.previousDirAngle=j,a(f,z,I,p);for(var G=0;G<v;G++)if(y=b[G],w=c(j,y.angle),!(Z&&w>h.maxAllowedDirectionChange)){var k=z.clone().offset(y.offsetX,y.offsetY),T=k.toString();if(!A.isClose(T)&&s.isPointAccessible(k)){var B=D+y.cost+h.penalties[w];(!A.isOpen(T)||B<m[T])&&(f[T]=z,m[T]=B,A.add(T,B+g(k,u)))}}M--}}return h.fallbackRoute(I,p,h)}function d(i){i.directions=e.result(i,"directions"),i.penalties=e.result(i,"penalties"),i.paddingBox=e.result(i,"paddingBox"),e.each(i.directions,function(e){var i=t.point(0,0),n=t.point(e.offsetX,e.offsetY);e.angle=t.normalizeAngle(i.theta(n))})}function u(r,s){d(s),this.options.perpendicular=!!s.perpendicular;for(var a=t.rect(this.sourceBBox).moveAndExpand(s.paddingBox),o=t.rect(this.targetBBox).moveAndExpand(s.paddingBox),l=new n(s).build(this.paper.model,this.model),c=e.map(r,t.point),g=[],u=a.center().snapToGrid(s.step),I=0,p=c.length;I<=p;I++){var C=null,A=f||a,f=c[I];if(!f){f=o;if((!this.model.get("source").id||!this.model.get("target").id)&&e.isFunction(s.draggingRoute)){var m=A instanceof t.rect?A.center():A;C=s.draggingRoute(m,f.origin(),s)}}if(null===(C=C||h(A,f,l,s))){if(!e.isFunction(i.routers.orthogonal))throw new Error("Manhattan requires the orthogonal router.");return i.routers.orthogonal(r,s,this)}var y=e.first(C);y&&y.equals(u)&&C.shift(),u=e.last(C)||u,Array.prototype.push.apply(g,C)}return g}var I={step:10,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],maximumLoops:2e3,startDirections:["left","right","top","bottom"],endDirections:["left","right","top","bottom"],directionMap:{right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0},top:{x:0,y:-1}},maxAllowedDirectionChange:90,paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},directions:function(){var t=this.step;return[{offsetX:t,offsetY:0,cost:t},{offsetX:0,offsetY:t,cost:t},{offsetX:-t,offsetY:0,cost:t},{offsetX:0,offsetY:-t,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},fallbackRoute:e.constant(null),draggingRoute:null};return n.prototype.build=function(t,i){var n=this.options,r=e.chain(n.excludeEnds).map(i.get,i).pluck("id").map(t.getCell,t).value(),s=[],a=t.getCell(i.get("source").id);a&&(s=e.union(s,e.map(a.getAncestors(),"id")));var o=t.getCell(i.get("target").id);o&&(s=e.union(s,e.map(o.getAncestors(),"id")));var l=this.mapGridSize;return e.chain(t.getElements()).difference(r).reject(function(t){return e.contains(n.excludeTypes,t.get("type"))||e.contains(s,t.id)}).invoke("getBBox").invoke("moveAndExpand",n.paddingBox).foldl(function(t,e){for(var i=e.origin().snapToGrid(l),n=e.corner().snapToGrid(l),r=i.x;r<=n.x;r+=l)for(var s=i.y;s<=n.y;s+=l){var a=r+"@"+s;t[a]=t[a]||[],t[a].push(e)}return t},this.map).value(),this},n.prototype.isPointAccessible=function(t){var i=t.clone().snapToGrid(this.mapGridSize).toString();return e.every(this.map[i],function(e){return!e.containsPoint(t)})},r.prototype.add=function(t,i){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=i;var n=e.sortedIndex(this.items,t,function(t){return this.values[t]},this);this.items.splice(n,0,t)},r.prototype.remove=function(t){this.hash[t]=this.CLOSE},r.prototype.isOpen=function(t){return this.hash[t]===this.OPEN},r.prototype.isClose=function(t){return this.hash[t]===this.CLOSE},r.prototype.isEmpty=function(){return 0===this.items.length},r.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t},function(t,i,n){return u.call(n,t,e.extend({},I,i))}}(s,i,a),a.routers.metro=function(){if(!i.isFunction(a.routers.manhattan))throw new Error("Metro requires the manhattan router.");var t={diagonalCost:null,directions:function(){var t=this.step,e=this.diagonalCost||Math.ceil(Math.sqrt(t*t<<1));return[{offsetX:t,offsetY:0,cost:t},{offsetX:t,offsetY:t,cost:e},{offsetX:0,offsetY:t,cost:t},{offsetX:-t,offsetY:t,cost:e},{offsetX:-t,offsetY:0,cost:t},{offsetX:-t,offsetY:-t,cost:e},{offsetX:0,offsetY:-t,cost:t},{offsetX:t,offsetY:-t,cost:e}]},maxAllowedDirectionChange:45,fallbackRoute:function(t,e,i){var n=t.theta(e),r={x:e.x,y:t.y},a={x:t.x,y:e.y};if(n%180>90){var o=r;r=a,a=o}var l=n%90<45?r:a,c=s.line(t,l),g=90*Math.ceil(n/90),h=s.point.fromPolar(c.squaredLength(),s.toRad(g+135),l),d=s.line(e,h),u=c.intersection(d);return u?[u.round(),e]:[e]}};return function(e,n,r){return a.routers.manhattan(e,i.extend({},t,n),r)}}(),a.routers.normal=function(t,e,i){return t},a.routers.oneSide=function(t,e,i){var n,r,s,a=e.side||"bottom",o=e.padding||40,l=i.sourceBBox,c=i.targetBBox,g=l.center(),h=c.center();switch(a){case"bottom":s=1,n="y",r="height";break;case"top":s=-1,n="y",r="height";break;case"left":s=-1,n="x",r="width";break;case"right":s=1,n="x",r="width";break;default:throw new Error("Router: invalid side")}return g[n]+=s*(l[r]/2+o),h[n]+=s*(c[r]/2+o),s*(g[n]-h[n])>0?h[n]=g[n]:g[n]=h[n],[g].concat(t,h)},a.routers.orthogonal=function(){function t(t,e){return t.x==e.x?t.y>e.y?"N":"S":t.y==e.y?t.x>e.x?"W":"E":null}function e(t,e){return t["W"==e||"E"==e?"width":"height"]}function n(t,e){return s.rect(t).moveAndExpand({x:-e,y:-e,width:2*e,height:2*e})}function r(t){return s.rect(t.x,t.y,0,0)}function a(t,e){var i=Math.min(t.x,e.x),n=Math.min(t.y,e.y),r=Math.max(t.x+t.width,e.x+e.width),a=Math.max(t.y+t.height,e.y+e.height);return s.rect(i,n,r-i,a-n)}function o(t,e,i){var n=s.point(t.x,e.y);return i.containsPoint(n)&&(n=s.point(e.x,t.y)),n}function l(e,i,n){var r=s.point(e.x,i.y),a=s.point(i.x,e.y),o=t(e,r),l=t(e,a),c=I[n],g=o==n||o!=c&&(l==c||l!=n)?r:a;return{points:[g],direction:t(g,i)}}function c(e,i,n){var r=o(e,i,n);return{points:[r],direction:t(r,i)}}function g(n,r,a,l){var c,g={},h=[s.point(n.x,r.y),s.point(r.x,n.y)],d=i.filter(h,function(t){return!a.containsPoint(t)}),u=i.filter(d,function(e){return t(e,n)!=l});if(u.length>0)c=i.filter(u,function(e){return t(n,e)==l}).pop(),c=c||u[0],g.points=[c],g.direction=t(c,r);else{c=i.difference(h,d)[0];var I=s.point(r).move(c,-e(a,l)/2),p=o(I,n,a);g.points=[p,I],g.direction=t(I,r)}return g}function h(i,n,r,a){var o=c(n,i,a),g=o.points[0];if(r.containsPoint(g)){o=c(i,n,r);var h=o.points[0];if(a.containsPoint(h)){var d=s.point(i).move(h,-e(r,t(i,h))/2),u=s.point(n).move(g,-e(a,t(n,g))/2),I=s.line(d,u).midpoint(),p=c(i,I,r),C=l(I,n,p.direction);o.points=[p.points[0],C.points[0]],o.direction=C.direction}}return o}function d(e,i,r,l,c){var g,h,d,u={},I=n(a(r,l),1),C=I.center().distance(i)>I.center().distance(e),A=C?i:e,f=C?e:i;return c?(g=s.point.fromPolar(I.width+I.height,p[c],A),g=I.pointNearestToPoint(g).move(g,-1)):g=I.pointNearestToPoint(A).move(A,1),h=o(g,f,I),g.round().equals(h.round())?(h=s.point.fromPolar(I.width+I.height,s.toRad(g.theta(A))+Math.PI/2,f),h=I.pointNearestToPoint(h).move(f,1).round(),d=o(g,h,I),u.points=C?[h,d,g]:[g,d,h]):u.points=C?[h,g]:[g,h],u.direction=C?t(g,i):t(h,i),u}function u(e,a,o){var u=a.elementPadding||20,I=[],p=n(o.sourceBBox,u),C=n(o.targetBBox,u);e=i.map(e,s.point),e.unshift(p.center()),e.push(C.center());for(var A,f=0,m=e.length-1;f<m;f++){var y=null,w=e[f],b=e[f+1],v=!!t(w,b)
;if(0==f)f+1==m?p.intersect(n(C,1))?y=d(w,b,p,C):v||(y=h(w,b,p,C)):p.containsPoint(b)?y=d(w,b,p,n(r(b),u)):v||(y=c(w,b,p));else if(f+1==m){var M=v&&t(b,w)==A;C.containsPoint(w)||M?y=d(w,b,n(r(w),u),C,A):v||(y=g(w,b,C,A))}else v||(y=l(w,b,A));y?(Array.prototype.push.apply(I,y.points),A=y.direction):A=t(w,b),f+1<m&&I.push(b)}return I}var I={N:"S",S:"N",E:"W",W:"E"},p={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};return u}(),a.connectors.normal=function(t,e,n){var r=["M",t.x,t.y];return i.each(n,function(t){r.push(t.x,t.y)}),r.push(e.x,e.y),r.join(" ")},a.connectors.rounded=function(t,e,n,r){r=r||{};var a,o,l,c,g,h,d=r.radius||10,u=["M",t.x,t.y];return i.each(n,function(i,r){g=n[r-1]||t,h=n[r+1]||e,l=c||s.point(i).distance(g)/2,c=s.point(i).distance(h)/2,a=s.point(i).move(g,-Math.min(d,l)).round(),o=s.point(i).move(h,-Math.min(d,c)).round(),u.push(a.x,a.y,"S",i.x,i.y,o.x,o.y,"L")}),u.push(e.x,e.y),u.join(" ")},a.connectors.smooth=function(t,e,i){var n;if(i.length)n=s.bezier.curveThroughPoints([t].concat(i).concat([e]));else{var r=(t.x+e.x)/2;n=["M",t.x,t.y,"C",r,t.y,r,e.y,e.x,e.y]}return n.join(" ")},a.connectors.jumpover=function(t,e){function i(t,i,n){var r=[].concat(t,n,i);return r.reduce(function(t,i,n){var s=r[n+1];return null!=s&&(t[n]=e.line(i,s)),t},[])}function n(t){var e=t.paper._jumpOverUpdateList;null==e&&(e=t.paper._jumpOverUpdateList=[],t.paper.on("cell:pointerup",r),t.paper.model.on("reset",function(){e=t.paper._jumpOverUpdateList=[]})),e.indexOf(t)<0&&(e.push(t),t.listenToOnce(t.model,"change:connector remove",function(){e.splice(e.indexOf(t),1)}))}function r(){for(var t=this._jumpOverUpdateList,e=0;e<t.length;e++)t[e].update()}function s(e,i){return t(i).map(function(t){return e.intersection(t)}).compact().value()}function a(t,i){return e.line(t,i).squaredLength()}function o(t,i,n){return i.reduce(function(r,s,a){if(!0===s.skip)return r;var o=r.pop()||t,l=e.point(s).move(o.start,-n),c=e.point(s).move(o.start,+n),h=i[a+1];if(null!=h){var d=c.distance(h);d<=n&&(c=h.move(o.start,d),h.skip=!0)}else{if(l.distance(o.end)<2*n+g)return r.push(o),r}if(c.distance(o.start)<2*n+g)return r.push(o),r;var u=e.line(l,c);return u.isJump=!0,r.push(e.line(o.start,l),u,e.line(c,o.end)),r},[])}function l(i,n,r){return[].concat(["M",i[0].start.x,i[0].start.y],t(i).map(function(t){if(t.isJump){var i;if("arc"===r){i=t.start.difference(t.end);var s=Number(i.x<0&&i.y<0);return["A",n,n,0,0,s,t.end.x,t.end.y]}if("gap"===r)return["M",t.end.x,t.end.y];if("cubic"===r){i=t.start.difference(t.end);var a=t.start.theta(t.end),o=.6*n,l=1.35*n;i.x<0&&i.y<0&&(l*=-1);var c=e.point(t.start.x+o,t.start.y+l).rotate(t.start,a),g=e.point(t.end.x-o,t.end.y+l).rotate(t.end,a);return["C",c.x,c.y,g.x,g.y,t.end.x,t.end.y]}}return["L",t.end.x,t.end.y]}).flatten().value()).join(" ")}var c=["arc","gap","cubic"],g=1,h=["smooth"];return function(e,r,g,d){n(this);var u=d.size||5,I=d.jump&&(""+d.jump).toLowerCase(),p=d.ignoreConnectors||h;-1===c.indexOf(I)&&(I=c[0]);var C=this.paper,A=C.model,f=A.getLinks();if(1===f.length)return l(i(e,r,g),u,I);var m=this.model,y=f.indexOf(m),w=C.options.defaultConnector||{},b=f.filter(function(e,i){var n=e.get("connector")||w;return!(t.contains(p,n.name)||i>y&&"jumpover"===n.name)}),v=b.map(function(t){return C.findViewByModel(t)}),M=i(e,r,g),N=v.map(function(t){return null==t?[]:t===this?M:i(t.sourcePoint,t.targetPoint,t.route)},this);return l(M.reduce(function(e,i){var n=t(b).map(function(t,e){return t===m?null:s(i,N[e])}).flatten().compact().sortBy(t.partial(a,i.start)).value();return n.length>0?e.push.apply(e,o(i,n,u)):e.push(i),e},[]),u,I)}}(i,s),function(t,e,i){function n(e,i,n){var r=e.toJSON();return r.angle=i||0,t.defaults({},n,r)}function r(i,r,s){return t.map(i,function(t,e,i){var r=this.pointAt((e+.5)/i.length);return(t.dx||t.dy)&&r.offset(t.dx||0,t.dy||0),n(r.round(),0,t)},e.line(r,s))}function s(i,r,s,a){var o=r.center(),l=r.width/r.height,c=r.topMiddle(),g=e.Ellipse.fromRect(r);return t.map(i,function(t,e,i){var r=s+a(e,i.length),h=c.clone().rotate(o,-r).scale(l,1,o),d=t.compensateRotation?-g.tangentTheta(h):0;return(t.dx||t.dy)&&h.offset(t.dx||0,t.dy||0),t.dr&&h.move(o,t.dr),n(h.round(),d,t)})}function a(i,n){var r=n.x;t.isString(r)&&(r=parseFloat(r)/100*i.width);var s=n.y;return t.isString(s)&&(s=parseFloat(s)/100*i.height),e.point(r||0,s||0)}i.layout.Port={absolute:function(e,i,n){return t.map(e,t.partial(a,i))},fn:function(t,e,i){return i.fn(t,e,i)},line:function(t,e,i){return r(t,a(e,i.start||e.origin()),a(e,i.end||e.corner()))},left:function(t,e,i){return r(t,e.origin(),e.bottomLeft())},right:function(t,e,i){return r(t,e.topRight(),e.corner())},top:function(t,e,i){return r(t,e.origin(),e.topRight())},bottom:function(t,e,i){return r(t,e.bottomLeft(),e.corner())},ellipseSpread:function(t,e,i){var n=i.startAngle||0,r=i.step||360/t.length;return s(t,e,n,function(t){return t*r})},ellipse:function(t,e,i){var n=i.startAngle||0,r=i.step||20;return s(t,e,n,function(t,e){return(t+.5-e/2)*r})}}}(i,s,a),function(t,e,i){function n(e,i){return t.defaultsDeep({},e,i,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function r(e,i,r,a){a=t.defaults({},a,{offset:15});var o,l,c,g,h=i.center().theta(e),d=s(i),u=a.offset,I=0;h<d[1]||h>d[2]?(c=".3em",o=u,l=0,g="start"):h<d[0]?(c="0",o=0,l=-u,r?(I=-90,g="start"):g="middle"):h<d[3]?(c=".3em",o=-u,l=0,g="end"):(c=".6em",o=0,l=u,r?(I=90,g="start"):g="middle");var p=Math.round;return n({x:p(o),y:p(l),angle:I,attrs:{".":{y:c,"text-anchor":g}}})}function s(t){var e=t.center(),i=e.theta(t.origin()),n=e.theta(t.bottomLeft()),r=e.theta(t.corner());return[i,e.theta(t.topRight()),r,n]}function a(e,i,r,a){var o=i.center().theta(e);a=t.defaults({},a,{offset:15});var l,c,g,h,d=a.offset,u=0,I=s(i);o<I[1]||o>I[2]?(g=".3em",l=-d,c=0,h="end"):o<I[0]?(g=".6em",l=0,c=d,r?(u=90,h="start"):h="middle"):o<I[3]?(g=".3em",l=d,c=0,h="start"):(g="0em",l=0,c=-d,r?(u=-90,h="start"):h="middle");var p=Math.round;return n({x:p(l),y:p(c),angle:u,attrs:{".":{y:g,"text-anchor":h}}})}function o(i,r,s){s=t.defaults({},s,{offset:20});var a,o=e.point(0,0),l=-i.theta(o),c=l,g=i.clone().move(o,s.offset).difference(i).round(),h=".3em";(l+90)%180==0?(a=r?"end":"middle",r||-270!==l||(h="0em")):l>-270&&l<-90?(a="start",c=l-180):a="end";var d=Math.round;return n({x:d(g.x),y:d(g.y),angle:r?c:0,attrs:{".":{y:h,"text-anchor":a}}})}i.layout.PortLabel={manual:t.rearg(n,2),left:function(t,e,i){return n(i,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},right:function(t,e,i){return n(i,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},top:function(t,e,i){return n(i,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},bottom:function(t,e,i){return n(i,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},outsideOriented:function(t,e,i){return r(t,e,!0,i)},outside:function(t,e,i){return r(t,e,!1,i)},insideOriented:function(t,e,i){return a(t,e,!0,i)},inside:function(t,e,i){return a(t,e,!1,i)},radial:function(t,e,i){return o(t.difference(e.center()),!1,i)},radialOriented:function(t,e,i){return o(t.difference(e.center()),!0,i)}}}(i,s,a),a.highlighters.addClass={className:a.util.addClassNamePrefix("highlighted"),highlight:function(t,e,i){var n=i||{},s=n.className||this.className;r(e).addClass(s)},unhighlight:function(t,e,i){var n=i||{},s=n.className||this.className;r(e).removeClass(s)}},a.highlighters.opacity={highlight:function(t,e){r(e).addClass(a.util.addClassNamePrefix("highlight-opacity"))},unhighlight:function(t,e){r(e).removeClass(a.util.addClassNamePrefix("highlight-opacity"))}},a.highlighters.stroke={defaultOptions:{padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},_views:{},getHighlighterId:function(t,e){return t.id+JSON.stringify(e)},removeHighlighter:function(t){this._views[t]&&(this._views[t].remove(),this._views[t]=null)},highlight:function(t,e,n){var s=this.getHighlighterId(e,n);if(!this._views[s]){var o,l=i.defaults(n||{},this.defaultOptions),c=r(e);try{var g=c.convertToPathData()}catch(t){o=c.bbox(!0),g=r.rectToPath(i.extend({},l,o))}var h=r("path").attr({d:g,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"}).attr(l.attrs);h.transform(t.el.getCTM().inverse()),h.transform(e.getCTM());var d=l.padding;if(d){o||(o=c.bbox(!0));var u=o.x+o.width/2,I=o.y+o.height/2,p=(o.width+d)/o.width,C=(o.height+d)/o.height;h.transform({a:p,b:0,c:0,d:C,e:u-p*u,f:I-C*I})}var A=this._views[s]=new a.mvc.View({svgElement:!0,className:"highlight-stroke",el:h.node}),f=i.bind(this.removeHighlighter,this,s),m=t.model;A.listenTo(m,"remove",f),A.listenTo(m.graph,"reset",f),t.vel.append(h)}},unhighlight:function(t,e,i){this.removeHighlighter(this.getHighlighterId(e,i))}},a.shapes.erd={},a.shapes.erd.Entity=a.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>',defaults:i.defaultsDeep({type:"erd.Entity",size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},a.dia.Element.prototype.defaults)}),a.shapes.erd.WeakEntity=a.shapes.erd.Entity.extend({defaults:i.defaultsDeep({type:"erd.WeakEntity",attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}},a.shapes.erd.Entity.prototype.defaults)}),a.shapes.erd.Relationship=a.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>',defaults:i.defaultsDeep({type:"erd.Relationship",size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},a.dia.Element.prototype.defaults)}),a.shapes.erd.IdentifyingRelationship=a.shapes.erd.Relationship.extend({defaults:i.defaultsDeep({type:"erd.IdentifyingRelationship",attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}},a.shapes.erd.Relationship.prototype.defaults)}),a.shapes.erd.Attribute=a.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>',defaults:i.defaultsDeep({type:"erd.Attribute",size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},a.dia.Element.prototype.defaults)}),a.shapes.erd.Multivalued=a.shapes.erd.Attribute.extend({defaults:i.defaultsDeep({type:"erd.Multivalued",attrs:{".inner":{display:"block"},text:{text:"multivalued"}}},a.shapes.erd.Attribute.prototype.defaults)}),a.shapes.erd.Derived=a.shapes.erd.Attribute.extend({defaults:i.defaultsDeep({type:"erd.Derived",attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}},a.shapes.erd.Attribute.prototype.defaults)}),a.shapes.erd.Key=a.shapes.erd.Attribute.extend({defaults:i.defaultsDeep({type:"erd.Key",attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}},a.shapes.erd.Attribute.prototype.defaults)}),a.shapes.erd.Normal=a.shapes.erd.Attribute.extend({defaults:i.defaultsDeep({type:"erd.Normal",attrs:{text:{text:"Normal"}}},a.shapes.erd.Attribute.prototype.defaults)}),a.shapes.erd.ISA=a.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>',defaults:i.defaultsDeep({type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},a.dia.Element.prototype.defaults)}),a.shapes.erd.Line=a.dia.Link.extend({defaults:{type:"erd.Line"},cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),a.shapes.fsa={},a.shapes.fsa.State=a.shapes.basic.Circle.extend({defaults:i.defaultsDeep({type:"fsa.State",attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}},a.shapes.basic.Circle.prototype.defaults)}),a.shapes.fsa.StartState=a.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>',defaults:i.defaultsDeep({type:"fsa.StartState",size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},a.dia.Element.prototype.defaults)}),a.shapes.fsa.EndState=a.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:i.defaultsDeep({type:"fsa.EndState",size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},a.dia.Element.prototype.defaults)}),a.shapes.fsa.Arrow=a.dia.Link.extend({defaults:i.defaultsDeep({type:"fsa.Arrow",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0},a.dia.Link.prototype.defaults)}),a.shapes.org={},a.shapes.org.Member=a.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>',defaults:i.defaultsDeep({type:"org.Member",size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},a.dia.Element.prototype.defaults)}),a.shapes.org.Arrow=a.dia.Link.extend({defaults:{type:"org.Arrow",source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}}),a.shapes.chess={},a.shapes.chess.KingWhite=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.KingWhite",size:{width:42,height:38}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.KingBlack=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.KingBlack",size:{width:42,height:38}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.QueenWhite=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.QueenWhite",size:{width:42,height:38}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.QueenBlack=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.QueenBlack",size:{width:42,height:38}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.RookWhite=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.RookWhite",size:{width:32,height:34}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.RookBlack=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.RookBlack",size:{width:32,height:34}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.BishopWhite=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.BishopWhite",size:{width:38,height:38}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.BishopBlack=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.BishopBlack",size:{width:38,height:38}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.KnightWhite=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.KnightWhite",size:{width:38,height:37}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.KnightBlack=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>',defaults:i.defaultsDeep({type:"chess.KnightBlack",size:{width:38,height:37}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.PawnWhite=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>',defaults:i.defaultsDeep({type:"chess.PawnWhite",size:{width:28,height:33}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.chess.PawnBlack=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>',defaults:i.defaultsDeep({type:"chess.PawnBlack",size:{width:28,height:33}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.pn={},a.shapes.pn.Place=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>',defaults:i.defaultsDeep({type:"pn.Place",size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.pn.PlaceView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments),this.model.on("change:tokens",function(){this.renderTokens(),this.update()},this)},render:function(){a.dia.ElementView.prototype.render.apply(this,arguments),this.renderTokens(),this.update()},renderTokens:function(){var t=this.$(".tokens").empty();t[0].className.baseVal="tokens";var e=this.model.get("tokens");if(e)switch(e){case 1:
t[0].className.baseVal+=" one",t.append(r("<circle/>").node);break;case 2:t[0].className.baseVal+=" two",t.append(r("<circle/>").node,r("<circle/>").node);break;case 3:t[0].className.baseVal+=" three",t.append(r("<circle/>").node,r("<circle/>").node,r("<circle/>").node);break;default:t[0].className.baseVal+=" alot",t.append(r("<text/>").text(e+"").node)}}}),a.shapes.pn.Transition=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>',defaults:i.defaultsDeep({type:"pn.Transition",size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.pn.Link=a.dia.Link.extend({defaults:i.defaultsDeep({type:"pn.Link",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}},a.dia.Link.prototype.defaults)}),a.shapes.devs={},a.shapes.devs.Model=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',defaults:i.defaultsDeep({type:"devs.Model",inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},a.shapes.basic.Generic.prototype.defaults),initialize:function(){a.shapes.basic.Generic.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,n){var r=i.uniq(this.get("inPorts")),s=i.difference(i.uniq(this.get("outPorts")),r),a=this.createPortItems("in",r),o=this.createPortItems("out",s);this.prop("ports/items",a.concat(o),i.extend({rewrite:!0},n))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return i.map(e,i.bind(this.createPortItem,this,t))},_addGroupPort:function(t,e,n){var r=this.get(e);return this.set(e,i.isArray(r)?r.concat(t):[t],n)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,n){return this.set(e,i.without(this.get(e),t),n)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,n){return this.prop("ports/groups/"+t,i.isObject(e)?e:{},n)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),a.shapes.devs.Atomic=a.shapes.devs.Model.extend({defaults:i.defaultsDeep({type:"devs.Atomic",size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}},a.shapes.devs.Model.prototype.defaults)}),a.shapes.devs.Coupled=a.shapes.devs.Model.extend({defaults:i.defaultsDeep({type:"devs.Coupled",size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}},a.shapes.devs.Model.prototype.defaults)}),a.shapes.devs.Link=a.dia.Link.extend({defaults:{type:"devs.Link",attrs:{".connection":{"stroke-width":2}}}}),a.shapes.uml={},a.shapes.uml.Class=a.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),defaults:i.defaultsDeep({type:"uml.Class",attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},a.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),a.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;i.each(e,function(e){var r=i.isArray(e.text)?e.text:[e.text],s=20*r.length+20;t[".uml-class-"+e.type+"-text"].text=r.join("\n"),t[".uml-class-"+e.type+"-rect"].height=s,t[".uml-class-"+e.type+"-rect"].transform="translate(0,"+n+")",n+=s})}}),a.shapes.uml.ClassView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),a.shapes.uml.Abstract=a.shapes.uml.Class.extend({defaults:i.defaultsDeep({type:"uml.Abstract",attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},a.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Abstract>>",this.get("name")]}}),a.shapes.uml.AbstractView=a.shapes.uml.ClassView,a.shapes.uml.Interface=a.shapes.uml.Class.extend({defaults:i.defaultsDeep({type:"uml.Interface",attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},a.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Interface>>",this.get("name")]}}),a.shapes.uml.InterfaceView=a.shapes.uml.ClassView,a.shapes.uml.Generalization=a.dia.Link.extend({defaults:{type:"uml.Generalization",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}}),a.shapes.uml.Implementation=a.dia.Link.extend({defaults:{type:"uml.Implementation",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}}),a.shapes.uml.Aggregation=a.dia.Link.extend({defaults:{type:"uml.Aggregation",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}}),a.shapes.uml.Composition=a.dia.Link.extend({defaults:{type:"uml.Composition",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}}),a.shapes.uml.Association=a.dia.Link.extend({defaults:{type:"uml.Association"}}),a.shapes.uml.State=a.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),defaults:i.defaultsDeep({type:"uml.State",attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},a.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),a.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),a.shapes.uml.StartState=a.shapes.basic.Circle.extend({defaults:i.defaultsDeep({type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}},a.shapes.basic.Circle.prototype.defaults)}),a.shapes.uml.EndState=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:i.defaultsDeep({type:"uml.EndState",size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},a.shapes.basic.Generic.prototype.defaults)}),a.shapes.uml.Transition=a.dia.Link.extend({defaults:{type:"uml.Transition",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}}),a.shapes.logic={},a.shapes.logic.Gate=a.shapes.basic.Generic.extend({defaults:i.defaultsDeep({type:"logic.Gate",size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},a.shapes.basic.Generic.prototype.defaults),operation:function(){return!0}}),a.shapes.logic.IO=a.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>',defaults:i.defaultsDeep({type:"logic.IO",size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},a.shapes.logic.Gate.prototype.defaults)}),a.shapes.logic.Input=a.shapes.logic.IO.extend({defaults:i.defaultsDeep({type:"logic.Input",attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}},a.shapes.logic.IO.prototype.defaults)}),a.shapes.logic.Output=a.shapes.logic.IO.extend({defaults:i.defaultsDeep({type:"logic.Output",attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}},a.shapes.logic.IO.prototype.defaults)}),a.shapes.logic.Gate11=a.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>',defaults:i.defaultsDeep({type:"logic.Gate11",attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},a.shapes.logic.Gate.prototype.defaults)}),a.shapes.logic.Gate21=a.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>',defaults:i.defaultsDeep({type:"logic.Gate21",attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},a.shapes.logic.Gate.prototype.defaults)}),a.shapes.logic.Repeater=a.shapes.logic.Gate11.extend({defaults:i.defaultsDeep({type:"logic.Repeater",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},a.shapes.logic.Gate11.prototype.defaults),operation:function(t){return t}}),a.shapes.logic.Not=a.shapes.logic.Gate11.extend({defaults:i.defaultsDeep({type:"logic.Not",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},a.shapes.logic.Gate11.prototype.defaults),operation:function(t){return!t}}),a.shapes.logic.Or=a.shapes.logic.Gate21.extend({defaults:i.defaultsDeep({type:"logic.Or",attrs:{image:{
"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},a.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return t||e}}),a.shapes.logic.And=a.shapes.logic.Gate21.extend({defaults:i.defaultsDeep({type:"logic.And",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},a.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return t&&e}}),a.shapes.logic.Nor=a.shapes.logic.Gate21.extend({defaults:i.defaultsDeep({type:"logic.Nor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},a.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return!(t||e)}}),a.shapes.logic.Nand=a.shapes.logic.Gate21.extend({defaults:i.defaultsDeep({type:"logic.Nand",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},a.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return!(t&&e)}}),a.shapes.logic.Xor=a.shapes.logic.Gate21.extend({defaults:i.defaultsDeep({type:"logic.Xor",attrs:{image:{
"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},a.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return(!t||e)&&(t||!e)}}),a.shapes.logic.Xnor=a.shapes.logic.Gate21.extend({defaults:i.defaultsDeep({type:"logic.Xnor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},a.shapes.logic.Gate21.prototype.defaults),operation:function(t,e){return(!t||!e)&&(t||e)}}),a.shapes.logic.Wire=a.dia.Link.extend({arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join(""),defaults:i.defaultsDeep({type:"logic.Wire",attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},a.dia.Link.prototype.defaults)}),"object"==typeof exports)var o=require("graphlib"),l=require("dagre");return o=o||"undefined"!=typeof window&&window.graphlib,l=l||"undefined"!=typeof window&&window.dagre,a.layout.DirectedGraph={layout:function(t,e){var n;n=t instanceof a.dia.Graph?t:(new a.dia.Graph).resetCells(t,{dry:!0}),t=null,e=i.defaults(e||{},{resizeClusters:!0,clusterPadding:10});var r=n.toGraphLib({directed:!0,multigraph:!0,compound:!0,setNodeLabel:function(t){return{width:t.get("size").width,height:t.get("size").height,rank:t.get("rank")}},setEdgeLabel:function(t){return{minLen:t.get("minLen")||1}},setEdgeName:function(t){return t.id}}),o={},c=e.marginX||0,g=e.marginY||0;e.rankDir&&(o.rankdir=e.rankDir),e.align&&(o.align=e.align),e.nodeSep&&(o.nodesep=e.nodeSep),e.edgeSep&&(o.edgesep=e.edgeSep),e.rankSep&&(o.ranksep=e.rankSep),c&&(o.marginx=c),g&&(o.marginy=g),r.setGraph(o),l.layout(r,{debugTiming:!!e.debugTiming}),n.startBatch("layout"),n.fromGraphLib(r,{importNode:function(t,i){var n=this.getCell(t),r=i.node(t);e.setPosition?e.setPosition(n,r):n.set("position",{x:r.x-r.width/2,y:r.y-r.height/2})},importEdge:function(t,i){var n=this.getCell(t.name),r=i.edge(t),s=r.points||[];e.setLinkVertices&&(e.setVertices?e.setVertices(n,s):n.set("vertices",s.slice(1,s.length-1)))}}),e.resizeClusters&&i.chain(r.nodes()).filter(function(t){return r.children(t).length>0}).map(n.getCell,n).sortBy(function(t){return-t.getAncestors().length}).invoke("fitEmbeds",{padding:e.clusterPadding}).value(),n.stopBatch("layout");var h=r.graph();return s.Rect(c,g,Math.abs(h.width-2*c),Math.abs(h.height-2*g))},fromGraphLib:function(t,e){e=e||{};var n=e.importNode||i.noop,r=e.importEdge||i.noop,s=this instanceof a.dia.Graph?this:new a.dia.Graph;return t.nodes().forEach(function(i){n.call(s,i,t,s,e)}),t.edges().forEach(function(i){r.call(s,i,t,s,e)}),s},toGraphLib:function(t,e){e=e||{};var n=i.pick(e,"directed","compound","multigraph"),r=new o.Graph(n),s=e.setNodeLabel||i.noop,a=e.setEdgeLabel||i.noop,l=e.setEdgeName||i.noop;return t.get("cells").each(function(t){if(t.isLink()){var e=t.get("source"),i=t.get("target");if(!e.id||!i.id)return;r.setEdge(e.id,i.id,a(t),l(t))}else r.setNode(t.id,s(t)),r.isCompound()&&t.has("parent")&&r.setParent(t.id,t.get("parent"))}),r}},a.dia.Graph.prototype.toGraphLib=function(t){return a.layout.DirectedGraph.toGraphLib(this,t)},a.dia.Graph.prototype.fromGraphLib=function(t,e){return a.layout.DirectedGraph.fromGraphLib.call(this,t,e)},a.g=s,a.V=a.Vectorizer=r,a});
},{"backbone":7,"dagre":21,"graphlib":59,"jquery":83,"lodash":84}],83:[function(require,module,exports){
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||te;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=de.type(e);return"function"!==n&&!de.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){return de.isFunction(t)?de.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?de.grep(e,function(e){return e===t!==n}):"string"!=typeof t?de.grep(e,function(e){return ae.call(t,e)>-1!==n}):Ce.test(t)?de.filter(t,e,n):(t=de.filter(t,e),de.grep(e,function(e){return ae.call(t,e)>-1!==n&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return de.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function u(e){throw e}function l(e,t,n){var r;try{e&&de.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&de.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function c(){te.removeEventListener("DOMContentLoaded",c),e.removeEventListener("load",c),de.ready()}function f(){this.expando=de.expando+f.uid++}function p(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Oe.test(e)?JSON.parse(e):e)}function d(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Pe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=p(n)}catch(e){}Fe.set(e,t,n)}else n=void 0;return n}function h(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return de.css(e,t,"")},u=s(),l=n&&n[3]||(de.cssNumber[t]?"":"px"),c=(de.cssNumber[t]||"px"!==l&&+u)&&Me.exec(de.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{o=o||".5",c/=o,de.style(e,t,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function g(e){var t,n=e.ownerDocument,r=e.nodeName,i=Be[r];return i||(t=n.body.appendChild(n.createElement(r)),i=de.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Be[r]=i,i)}function m(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=He.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&We(r)&&(i[o]=g(r))):"none"!==n&&(i[o]="none",He.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function v(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&de.nodeName(e,t)?de.merge([e],n):n}function y(e,t){for(var n=0,r=e.length;n<r;n++)He.set(e[n],"globalEval",!t||He.get(t[n],"globalEval"))}function x(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===de.type(o))de.merge(p,o.nodeType?[o]:o);else if(Ve.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(ze.exec(o)||["",""])[1].toLowerCase(),u=Ue[s]||Ue._default,a.innerHTML=u[1]+de.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;de.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&de.inArray(o,r)>-1)i&&i.push(o);else if(l=de.contains(o.ownerDocument,o),a=v(f.appendChild(o),"script"),l&&y(a),n)for(c=0;o=a[c++];)Xe.test(o.type||"")&&n.push(o);return f}function b(){return!0}function w(){return!1}function T(){try{return te.activeElement}catch(e){}}function C(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)C(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=w;else if(!i)return e;return 1===o&&(a=i,i=function(e){return de().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=de.guid++)),e.each(function(){de.event.add(this,t,i,r,n)})}function E(e,t){return de.nodeName(e,"table")&&de.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function N(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(He.hasData(e)&&(o=He.access(e),a=He.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)de.event.add(t,i,l[i][n])}Fe.hasData(e)&&(s=Fe.access(e),u=de.extend({},s),Fe.set(t,u))}}function D(e,t){var n=t.nodeName.toLowerCase();"input"===n&&_e.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function j(e,t,r,i){t=ie.apply([],t);var o,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0],g=de.isFunction(h);if(g||p>1&&"string"==typeof h&&!pe.checkClone&&et.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),j(o,t,r,i)});if(p&&(o=x(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=de.map(v(o,"script"),k),u=s.length;f<p;f++)l=o,f!==d&&(l=de.clone(l,!0,!0),u&&de.merge(s,v(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,de.map(s,N),f=0;f<u;f++)l=s[f],Xe.test(l.type||"")&&!He.access(l,"globalEval")&&de.contains(c,l)&&(l.src?de._evalUrl&&de._evalUrl(l.src):n(l.textContent.replace(nt,""),c))}return e}function A(e,t,n){for(var r,i=t?de.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||de.cleanData(v(r)),r.parentNode&&(n&&de.contains(r.ownerDocument,r)&&y(v(r,"script")),r.parentNode.removeChild(r));return e}function q(e,t,n){var r,i,o,a,s=e.style;return n=n||ot(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||de.contains(e.ownerDocument,e)||(a=de.style(e,t)),!pe.pixelMarginRight()&&it.test(a)&&rt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function L(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function H(e){if(e in ct)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=lt.length;n--;)if((e=lt[n]+t)in ct)return e}function F(e,t,n){var r=Me.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function O(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=de.css(e,n+Ie[o],!0,i)),r?("content"===n&&(a-=de.css(e,"padding"+Ie[o],!0,i)),"margin"!==n&&(a-=de.css(e,"border"+Ie[o]+"Width",!0,i))):(a+=de.css(e,"padding"+Ie[o],!0,i),"padding"!==n&&(a+=de.css(e,"border"+Ie[o]+"Width",!0,i)));return a}function P(e,t,n){var r,i=!0,o=ot(e),a="border-box"===de.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),r<=0||null==r){if(r=q(e,t,o),(r<0||null==r)&&(r=e.style[t]),it.test(r))return r;i=a&&(pe.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+O(e,t,n||(a?"border":"content"),i,o)+"px"}function R(e,t,n,r,i){return new R.prototype.init(e,t,n,r,i)}function M(){pt&&(e.requestAnimationFrame(M),de.fx.tick())}function I(){return e.setTimeout(function(){ft=void 0}),ft=de.now()}function W(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ie[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function $(e,t,n){for(var r,i=(z.tweeners[t]||[]).concat(z.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function B(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&We(e),v=He.get(e,"fxshow");n.queue||(a=de._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,de.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],dt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||de.style(e,r)}if((u=!de.isEmptyObject(t))||!de.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=v&&v.display,null==l&&(l=He.get(e,"display")),c=de.css(e,"display"),"none"===c&&(l?c=l:(m([e],!0),l=e.style.display||l,c=de.css(e,"display"),m([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===de.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(v?"hidden"in v&&(g=v.hidden):v=He.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&m([e],!0),p.done(function(){g||m([e]),He.remove(e,"fxshow");for(r in d)de.style(e,r,d[r])})),u=$(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}}function _(e,t){var n,r,i,o,a;for(n in e)if(r=de.camelCase(n),i=t[r],o=e[n],de.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=de.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function z(e,t,n){var r,i,o=0,a=z.prefilters.length,s=de.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ft||I(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:de.extend({},t),opts:de.extend(!0,{specialEasing:{},easing:de.easing._default},n),originalProperties:t,originalOptions:n,startTime:ft||I(),duration:n.duration,tweens:[],createTween:function(t,n){var r=de.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(_(c,l.opts.specialEasing);o<a;o++)if(r=z.prefilters[o].call(l,e,c,l.opts))return de.isFunction(r.stop)&&(de._queueHooks(l.elem,l.opts.queue).stop=de.proxy(r.stop,r)),r;return de.map(c,$,l),de.isFunction(l.opts.start)&&l.opts.start.call(e,l),de.fx.timer(de.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function X(e){return(e.match(De)||[]).join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e,t,n,r){var i;if(de.isArray(t))de.each(t,function(t,i){n||Et.test(e)?r(e,i):V(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==de.type(t))r(e,t);else for(i in t)V(e+"["+i+"]",t[i],n,r)}function G(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(De)||[];if(de.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Y(e,t,n,r){function i(s){var u;return o[s]=!0,de.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Pt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function Q(e,t){var n,r,i=de.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&de.extend(!0,e,r),e}function J(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function K(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Z(e){return de.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,re=ee.slice,ie=ee.concat,oe=ee.push,ae=ee.indexOf,se={},ue=se.toString,le=se.hasOwnProperty,ce=le.toString,fe=ce.call(Object),pe={},de=function(e,t){return new de.fn.init(e,t)},he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([a-z])/g,ve=function(e,t){return t.toUpperCase()};de.fn=de.prototype={jquery:"3.1.1",constructor:de,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=de.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return de.each(this,e)},map:function(e){return this.pushStack(de.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ee.sort,splice:ee.splice},de.extend=de.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||de.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(de.isPlainObject(r)||(i=de.isArray(r)))?(i?(i=!1,o=n&&de.isArray(n)?n:[]):o=n&&de.isPlainObject(n)?n:{},a[t]=de.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},de.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===de.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=de.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ue.call(e))&&(!(t=ne(e))||"function"==typeof(n=le.call(t,"constructor")&&t.constructor)&&ce.call(n)===fe)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[ue.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(he,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?de.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),de.isFunction(e))return r=re.call(arguments,2),i=function(){return e.apply(t||this,r.concat(re.call(arguments)))},i.guid=e.guid=e.guid||de.guid++,i},now:Date.now,support:pe}),"function"==typeof Symbol&&(de.fn[Symbol.iterator]=ee[Symbol.iterator]),de.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var ye=function(e){function t(e,t,n,r){var i,o,a,s,u,c,p,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:I)!==q&&A(t),t=t||q,H)){if(11!==h&&(u=ge.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(b.qsa&&!z[e+" "]&&(!F||!F.test(e))){if(1!==h)d=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,be):t.setAttribute("id",s=M),c=E(e),o=c.length;o--;)c[o]="#"+s+" "+f(c[o]);p=c.join(","),d=me.test(e)&&l(t.parentNode)||t}if(p)try{return Q.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{s===M&&t.removeAttribute("id")}}}return N(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[M]=!0,e}function i(e){var t=q.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Te(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=$++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[W,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[M]||(t[M]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===W&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[M]&&(i=m(i)),o&&!o[M]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],m=a.length,v=r||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,p,e,s,u),x=n?o||(r?e:m||i)?[]:a:y;if(n&&n(y,x,s,u),i)for(l=g(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?K(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else x=g(x===a?x.splice(m,x.length):x),o?o(null,a,x,u):Q.apply(a,x)})}function v(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return K(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==S)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=w.relative[e[s].type])c=[p(d(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[M]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return m(s>1&&d(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&f(e))}c.push(n)}return d(c)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",m=r&&[],v=[],y=S,x=r||o&&w.find.TAG("*",l),b=W+=null==y?1:Math.random()||.1,T=x.length;for(l&&(S=a===q||a||l);h!==T&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument===q||(A(c),s=!H);p=e[f++];)if(p(c,a||q,s)){u.push(c);break}l&&(W=b)}i&&((c=!p&&c)&&d--,r&&m.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(m,v,a,s);if(r){if(d>0)for(;h--;)m[h]||v[h]||(v[h]=G.call(u));v=g(v)}Q.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(W=b,S=y),m};return i?r(a):a}var x,b,w,T,C,E,k,N,S,D,j,A,q,L,H,F,O,P,R,M="sizzle"+1*new Date,I=e.document,W=0,$=0,B=n(),_=n(),z=n(),X=function(e,t){return e===t&&(j=!0),0},U={}.hasOwnProperty,V=[],G=V.pop,Y=V.push,Q=V.push,J=V.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,be=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){A()},Te=p(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(V=J.call(I.childNodes),I.childNodes),V[I.childNodes.length].nodeType}catch(e){Q={apply:V.length?function(e,t){Y.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:I;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,L=q.documentElement,H=!C(q),I!==q&&(n=q.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(q.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(q.getElementsByClassName),b.getById=i(function(e){return L.appendChild(e).id=M,!q.getElementsByName||!q.getElementsByName(M).length}),b.getById?(w.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&H)return t.getElementsByClassName(e)},O=[],F=[],(b.qsa=he.test(q.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+M+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+M+"+*").length||F.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=q.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(b.matchesSelector=he.test(P=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){b.disconnectedMatch=P.call(e,"*"),P.call(e,"[s!='']:x"),O.push("!=",re)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),t=he.test(L.compareDocumentPosition),R=t||he.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===q||e.ownerDocument===I&&R(I,e)?-1:t===q||t.ownerDocument===I&&R(I,t)?1:D?K(D,e)-K(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===q?-1:t===q?1:i?-1:o?1:D?K(D,e)-K(D,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===I?-1:u[r]===I?1:0},q):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&A(e),n=n.replace(ue,"='$1']"),b.matchesSelector&&H&&!z[n+" "]&&(!O||!O.test(n))&&(!F||!F.test(n)))try{var r=P.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&A(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&A(e);var n=w.attrHandle[t.toLowerCase()],r=n&&U.call(w.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==r?r:b.attributes||!H?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,be)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!b.detectDuplicates,D=!b.sortStable&&e.slice(0),e.sort(X),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},T=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(p=m,f=p[M]||(p[M]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===W&&l[1],x=d&&l[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[W,d,x];break}}else if(y&&(p=t,f=p[M]||(p[M]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===W&&l[1],x=d),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++x||(y&&(f=p[M]||(p[M]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[W,x]),p!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[M]?o(n):o.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=K(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(oe,"$1"));return i[M]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ve,ye),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,ye).toLowerCase(),function(t){var n;do{if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase()
;return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(x);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=_[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=w.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in w.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):_(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=v(t[n]),o[M]?r.push(o):i.push(o);o=z(e,y(i,r)),o.selector=e}return o},N=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,p=!r&&E(e=c.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&H&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ve,ye),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(ve,ye),me.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return Q.apply(n,r),n;break}}return(c||k(e,p))(r,t,!H,n,!t||me.test(e)&&l(t.parentNode)||t),n},b.sortStable=M.split("").sort(X).join("")===M,b.detectDuplicates=!!j,A(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);de.find=ye,de.expr=ye.selectors,de.expr[":"]=de.expr.pseudos,de.uniqueSort=de.unique=ye.uniqueSort,de.text=ye.getText,de.isXMLDoc=ye.isXML,de.contains=ye.contains,de.escapeSelector=ye.escape;var xe=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&de(e).is(n))break;r.push(e)}return r},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=de.expr.match.needsContext,Te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ce=/^.[^:#\[\.,]*$/;de.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?de.find.matchesSelector(r,e)?[r]:[]:de.find.matches(e,de.grep(t,function(e){return 1===e.nodeType}))},de.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(de(e).filter(function(){for(t=0;t<r;t++)if(de.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)de.find(e,i[t],n);return r>1?de.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&we.test(e)?de(e):e||[],!1).length}});var Ee,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(de.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ee,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ke.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof de?t[0]:t,de.merge(this,de.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),Te.test(r[1])&&de.isPlainObject(t))for(r in t)de.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=te.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):de.isFunction(e)?void 0!==n.ready?n.ready(e):e(de):de.makeArray(e,this)}).prototype=de.fn,Ee=de(te);var Ne=/^(?:parents|prev(?:Until|All))/,Se={children:!0,contents:!0,next:!0,prev:!0};de.fn.extend({has:function(e){var t=de(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(de.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&de(e);if(!we.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&de.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?de.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ae.call(de(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(de.uniqueSort(de.merge(this.get(),de(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),de.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,n){return xe(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,n){return xe(e,"nextSibling",n)},prevUntil:function(e,t,n){return xe(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return e.contentDocument||de.merge([],e.childNodes)}},function(e,t){de.fn[e]=function(n,r){var i=de.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=de.filter(r,i)),this.length>1&&(Se[e]||de.uniqueSort(i),Ne.test(e)&&i.reverse()),this.pushStack(i)}});var De=/[^\x20\t\r\n\f]+/g;de.Callbacks=function(e){e="string"==typeof e?a(e):de.extend({},e);var t,n,r,i,o=[],s=[],u=-1,l=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)!1===o[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(u=o.length-1,s.push(n)),function t(n){de.each(n,function(n,r){de.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==de.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return de.each(arguments,function(e,t){for(var n;(n=de.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?de.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},de.extend({Deferred:function(t){var n=[["notify","progress",de.Callbacks("memory"),de.Callbacks("memory"),2],["resolve","done",de.Callbacks("once memory"),de.Callbacks("once memory"),0,"resolved"],["reject","fail",de.Callbacks("once memory"),de.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return de.Deferred(function(t){de.each(n,function(n,r){var i=de.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&de.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var l=this,c=arguments,f=function(){var e,f;if(!(t<a)){if((e=r.apply(l,c))===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,de.isFunction(f)?i?f.call(e,o(a,n,s,i),o(a,n,u,i)):(a++,f.call(e,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&&(l=void 0,c=[e]),(i||n.resolveWith)(l,c))}},p=i?f:function(){try{f()}catch(e){de.Deferred.exceptionHook&&de.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==u&&(l=void 0,c=[e]),n.rejectWith(l,c))}};t?p():(de.Deferred.getStackHook&&(p.stackTrace=de.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return de.Deferred(function(e){n[0][3].add(o(0,e,de.isFunction(i)?i:s,e.notifyWith)),n[1][3].add(o(0,e,de.isFunction(t)?t:s)),n[2][3].add(o(0,e,de.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?de.extend(e,i):i}},o={};return de.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=re.call(arguments),o=de.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?re.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(l(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||de.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)l(i[n],a(n),o.reject);return o.promise()}});var je=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;de.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&je.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},de.readyException=function(t){e.setTimeout(function(){throw t})};var Ae=de.Deferred();de.fn.ready=function(e){return Ae.then(e).catch(function(e){de.readyException(e)}),this},de.extend({isReady:!1,readyWait:1,holdReady:function(e){e?de.readyWait++:de.ready(!0)},ready:function(e){(!0===e?--de.readyWait:de.isReady)||(de.isReady=!0,!0!==e&&--de.readyWait>0||Ae.resolveWith(te,[de]))}}),de.ready.then=Ae.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(de.ready):(te.addEventListener("DOMContentLoaded",c),e.addEventListener("load",c));var qe=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===de.type(n)){i=!0;for(s in n)qe(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,de.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(de(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Le=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Le(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[de.camelCase(t)]=n;else for(r in t)i[de.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][de.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){de.isArray(t)?t=t.map(de.camelCase):(t=de.camelCase(t),t=t in r?[t]:t.match(De)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||de.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!de.isEmptyObject(t)}};var He=new f,Fe=new f,Oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/[A-Z]/g;de.extend({hasData:function(e){return Fe.hasData(e)||He.hasData(e)},data:function(e,t,n){return Fe.access(e,t,n)},removeData:function(e,t){Fe.remove(e,t)},_data:function(e,t,n){return He.access(e,t,n)},_removeData:function(e,t){He.remove(e,t)}}),de.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Fe.get(o),1===o.nodeType&&!He.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=de.camelCase(r.slice(5)),d(o,r,i[r])));He.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Fe.set(this,e)}):qe(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Fe.get(o,e)))return n;if(void 0!==(n=d(o,e)))return n}else this.each(function(){Fe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Fe.remove(this,e)})}}),de.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=He.get(e,t),n&&(!r||de.isArray(n)?r=He.access(e,t,de.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=de.queue(e,t),r=n.length,i=n.shift(),o=de._queueHooks(e,t),a=function(){de.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return He.get(e,n)||He.access(e,n,{empty:de.Callbacks("once memory").add(function(){He.remove(e,[t+"queue",n])})})}}),de.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?de.queue(this[0],e):void 0===t?this:this.each(function(){var n=de.queue(this,e,t);de._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&de.dequeue(this,e)})},dequeue:function(e){return this.each(function(){de.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=de.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=He.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Me=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],We=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&de.contains(e.ownerDocument,e)&&"none"===de.css(e,"display")},$e=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Be={};de.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){We(this)?de(this).show():de(this).hide()})}});var _e=/^(?:checkbox|radio)$/i,ze=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xe=/^$|\/(?:java|ecma)script/i,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;var Ve=/<|&#?\w+;/;!function(){var e=te.createDocumentFragment(),t=e.appendChild(te.createElement("div")),n=te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),pe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ge=te.documentElement,Ye=/^key/,Qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Je=/^([^.]*)(?:\.(.+)|)/;de.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=He.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&de.find.matchesSelector(Ge,i),n.guid||(n.guid=de.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==de&&de.event.triggered!==t.type?de.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(De)||[""],l=t.length;l--;)s=Je.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=de.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=de.event.special[d]||{},c=de.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&de.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),de.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=He.hasData(e)&&He.get(e);if(m&&(u=m.events)){for(t=(t||"").match(De)||[""],l=t.length;l--;)if(s=Je.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=de.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||de.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)de.event.remove(e,d+t[l],n,r,!0);de.isEmptyObject(u)&&He.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=de.event.fix(e),u=new Array(arguments.length),l=(He.get(this,"events")||{})[s.type]||[],c=de.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=de.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((de.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?de(i,this).index(l)>-1:de.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(de.Event.prototype,e,{enumerable:!0,configurable:!0,get:de.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[de.expando]?e:new de.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&de.nodeName(this,"input"))return this.click(),!1},_default:function(e){return de.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},de.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},de.Event=function(e,t){if(!(this instanceof de.Event))return new de.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?b:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&de.extend(this,t),this.timeStamp=e&&e.timeStamp||de.now(),this[de.expando]=!0},de.Event.prototype={constructor:de.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=b,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=b,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=b,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},de.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Qe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},de.event.addProp),de.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){de.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||de.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),de.fn.extend({on:function(e,t,n,r){return C(this,e,t,n,r)},one:function(e,t,n,r){return C(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,de(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=w),this.each(function(){de.event.remove(this,e,n,t)})}});var Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ze=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;de.extend({htmlPrefilter:function(e){return e.replace(Ke,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=de.contains(e.ownerDocument,e);if(!(pe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||de.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;r<i;r++)D(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;r<i;r++)S(o[r],a[r]);else S(e,s);return a=v(s,"script"),a.length>0&&y(a,!u&&v(e,"script")),s},cleanData:function(e){for(var t,n,r,i=de.event.special,o=0;void 0!==(n=e[o]);o++)if(Le(n)){if(t=n[He.expando]){if(t.events)for(r in t.events)i[r]?de.event.remove(n,r):de.removeEvent(n,r,t.handle);n[He.expando]=void 0}n[Fe.expando]&&(n[Fe.expando]=void 0)}}}),de.fn.extend({detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return qe(this,function(e){return void 0===e?de.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){E(this,e).appendChild(e)}})},prepend:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(de.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return de.clone(this,e,t)})},html:function(e){return qe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ze.test(e)&&!Ue[(ze.exec(e)||["",""])[1].toLowerCase()]){e=de.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(de.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return j(this,arguments,function(t){var n=this.parentNode;de.inArray(this,e)<0&&(de.cleanData(v(this)),n&&n.replaceChild(t,this))},e)}}),de.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){de.fn[e]=function(e){for(var n,r=[],i=de(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),de(i[a])[t](n),oe.apply(r,n.get());return this.pushStack(r)}});var rt=/^margin/,it=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),ot=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ge.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Ge.removeChild(a),s=null}}var n,r,i,o,a=te.createElement("div"),s=te.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),de.extend(pe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var at=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},lt=["Webkit","Moz","ms"],ct=te.createElement("div").style;de.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=q(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=de.camelCase(t),u=e.style;if(t=de.cssProps[s]||(de.cssProps[s]=H(s)||s),a=de.cssHooks[t]||de.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];o=typeof n,"string"===o&&(i=Me.exec(n))&&i[1]&&(n=h(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(de.cssNumber[s]?"":"px")),pe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=de.camelCase(t);return t=de.cssProps[s]||(de.cssProps[s]=H(s)||s),a=de.cssHooks[t]||de.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=q(e,t,r)),"normal"===i&&t in ut&&(i=ut[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),de.each(["height","width"],function(e,t){de.cssHooks[t]={get:function(e,n,r){if(n)return!at.test(de.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?P(e,t,r):$e(e,st,function(){return P(e,t,r)})},set:function(e,n,r){var i,o=r&&ot(e),a=r&&O(e,t,r,"border-box"===de.css(e,"boxSizing",!1,o),o);return a&&(i=Me.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=de.css(e,t)),F(e,n,a)}}}),de.cssHooks.marginLeft=L(pe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(q(e,"marginLeft"))||e.getBoundingClientRect().left-$e(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),de.each({margin:"",padding:"",border:"Width"},function(e,t){de.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ie[r]+t]=o[r]||o[r-2]||o[0];return i}},rt.test(e)||(de.cssHooks[e+t].set=F)}),de.fn.extend({css:function(e,t){return qe(this,function(e,t,n){var r,i,o={},a=0;if(de.isArray(t)){for(r=ot(e),i=t.length;a<i;a++)o[t[a]]=de.css(e,t[a],!1,r);return o}return void 0!==n?de.style(e,t,n):de.css(e,t)},e,t,arguments.length>1)}}),de.Tween=R,R.prototype={constructor:R,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||de.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(de.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=de.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=de.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){de.fx.step[e.prop]?de.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[de.cssProps[e.prop]]&&!de.cssHooks[e.prop]?e.elem[e.prop]=e.now:de.style(e.elem,e.prop,e.now+e.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},de.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},de.fx=R.prototype.init,de.fx.step={};var ft,pt,dt=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;de.Animation=de.extend(z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,Me.exec(t),n),n}]},tweener:function(e,t){de.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var n,r=0,i=e.length;r<i;r++)n=e[r],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?z.prefilters.unshift(e):z.prefilters.push(e)}}),de.speed=function(e,t,n){var r=e&&"object"==typeof e?de.extend({},e):{complete:n||!n&&t||de.isFunction(e)&&e,duration:e,easing:n&&t||t&&!de.isFunction(t)&&t};return de.fx.off||te.hidden?r.duration=0:"number"!=typeof r.duration&&(r.duration in de.fx.speeds?r.duration=de.fx.speeds[r.duration]:r.duration=de.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){de.isFunction(r.old)&&r.old.call(this),r.queue&&de.dequeue(this,r.queue)},r},de.fn.extend({fadeTo:function(e,t,n,r){return this.filter(We).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=de.isEmptyObject(e),o=de.speed(t,n,r),a=function(){var t=z(this,de.extend({},e),o);(i||He.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=de.timers,a=He.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ht.test(i)&&r(a[i])
;for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||de.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=He.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=de.timers,a=r?r.length:0;for(n.finish=!0,de.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),de.each(["toggle","show","hide"],function(e,t){var n=de.fn[t];de.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,r,i)}}),de.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){de.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),de.timers=[],de.fx.tick=function(){var e,t=0,n=de.timers;for(ft=de.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||de.fx.stop(),ft=void 0},de.fx.timer=function(e){de.timers.push(e),e()?de.fx.start():de.timers.pop()},de.fx.interval=13,de.fx.start=function(){pt||(pt=e.requestAnimationFrame?e.requestAnimationFrame(M):e.setInterval(de.fx.tick,de.fx.interval))},de.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(pt):e.clearInterval(pt),pt=null},de.fx.speeds={slow:600,fast:200,_default:400},de.fn.delay=function(t,n){return t=de.fx?de.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=te.createElement("input"),t=te.createElement("select"),n=t.appendChild(te.createElement("option"));e.type="checkbox",pe.checkOn=""!==e.value,pe.optSelected=n.selected,e=te.createElement("input"),e.value="t",e.type="radio",pe.radioValue="t"===e.value}();var gt,mt=de.expr.attrHandle;de.fn.extend({attr:function(e,t){return qe(this,de.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){de.removeAttr(this,e)})}}),de.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?de.prop(e,t,n):(1===o&&de.isXMLDoc(e)||(i=de.attrHooks[t.toLowerCase()]||(de.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void de.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=de.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!pe.radioValue&&"radio"===t&&de.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(De);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?de.removeAttr(e,n):e.setAttribute(n,n),n}},de.each(de.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||de.find.attr;mt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=mt[a],mt[a]=i,i=null!=n(e,t,r)?a:null,mt[a]=o),i}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;de.fn.extend({prop:function(e,t){return qe(this,de.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[de.propFix[e]||e]})}}),de.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&de.isXMLDoc(e)||(t=de.propFix[t]||t,i=de.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=de.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pe.optSelected||(de.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),de.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){de.propFix[this.toLowerCase()]=this}),de.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(de.isFunction(e))return this.each(function(t){de(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=U(n),r=1===n.nodeType&&" "+X(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=X(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(de.isFunction(e))return this.each(function(t){de(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=U(n),r=1===n.nodeType&&" "+X(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=X(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):de.isFunction(e)?this.each(function(n){de(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=de(this),o=e.match(De)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=U(this),t&&He.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":He.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(U(n))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;de.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=de.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,de(this).val()):e,null==i?i="":"number"==typeof i?i+="":de.isArray(i)&&(i=de.map(i,function(e){return null==e?"":e+""})),(t=de.valHooks[this.type]||de.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=de.valHooks[i.type]||de.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),de.extend({valHooks:{option:{get:function(e){var t=de.find.attr(e,"value");return null!=t?t:X(de.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!de.nodeName(n.parentNode,"optgroup"))){if(t=de(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=de.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=de.inArray(de.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),de.each(["radio","checkbox"],function(){de.valHooks[this]={set:function(e,t){if(de.isArray(t))return e.checked=de.inArray(de(e).val(),t)>-1}},pe.checkOn||(de.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt=/^(?:focusinfocus|focusoutblur)$/;de.extend(de.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p=[r||te],d=le.call(t,"type")?t.type:t,h=le.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||te,3!==r.nodeType&&8!==r.nodeType&&!bt.test(d+de.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[de.expando]?t:new de.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:de.makeArray(n,[t]),f=de.event.special[d]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!de.isWindow(r)){for(u=f.delegateType||d,bt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||te)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(He.get(a,"events")||{})[t.type]&&He.get(a,"handle"),c&&c.apply(a,n),(c=l&&a[l])&&c.apply&&Le(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),n)||!Le(r)||l&&de.isFunction(r[d])&&!de.isWindow(r)&&(s=r[l],s&&(r[l]=null),de.event.triggered=d,r[d](),de.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=de.extend(new de.Event,n,{type:e,isSimulated:!0});de.event.trigger(r,null,t)}}),de.fn.extend({trigger:function(e,t){return this.each(function(){de.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return de.event.trigger(e,t,n,!0)}}),de.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){de.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),de.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),pe.focusin="onfocusin"in e,pe.focusin||de.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){de.event.simulate(t,e.target,de.event.fix(e))};de.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=He.access(r,t);i||r.addEventListener(e,n,!0),He.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=He.access(r,t)-1;i?He.access(r,t,i):(r.removeEventListener(e,n,!0),He.remove(r,t))}}});var wt=e.location,Tt=de.now(),Ct=/\?/;de.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||de.error("Invalid XML: "+t),n};var Et=/\[\]$/,kt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;de.param=function(e,t){var n,r=[],i=function(e,t){var n=de.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(de.isArray(e)||e.jquery&&!de.isPlainObject(e))de.each(e,function(){i(this.name,this.value)});else for(n in e)V(n,e[n],t,i);return r.join("&")},de.fn.extend({serialize:function(){return de.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=de.prop(this,"elements");return e?de.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!de(this).is(":disabled")&&St.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!_e.test(e))}).map(function(e,t){var n=de(this).val();return null==n?null:de.isArray(n)?de.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,jt=/#.*$/,At=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,Ft=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=te.createElement("a");Mt.href=wt.href,de.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:Lt.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":de.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Q(Q(e,de.ajaxSettings),t):Q(de.ajaxSettings,e)},ajaxPrefilter:G(Ot),ajaxTransport:G(Pt),ajax:function(t,n){function r(t,n,r,s){var l,p,d,b,w,T=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=J(h,C,r)),b=K(h,b,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(de.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(de.etag[o]=w)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,d=b.error,l=!d)):(d=T,!t&&T||(T="error",t<0&&(t=0))),C.status=t,C.statusText=(n||T)+"",l?v.resolveWith(g,[p,T,C]):v.rejectWith(g,[C,T,d]),C.statusCode(x),x=void 0,f&&m.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?p:d]),y.fireWith(g,[C,T]),f&&(m.trigger("ajaxComplete",[C,h]),--de.active||de.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=de.ajaxSetup({},n),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?de(g):de.event,v=de.Deferred(),y=de.Callbacks("once memory"),x=h.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=qt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(v.promise(C),h.url=((t||h.url||wt.href)+"").replace(Ft,wt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(De)||[""],null==h.crossDomain){l=te.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Mt.protocol+"//"+Mt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=de.param(h.data,h.traditional)),Y(Ot,h,n,C),c)return C;f=de.event&&h.global,f&&0==de.active++&&de.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ht.test(h.type),o=h.url.replace(jt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Dt,"+")):(d=h.url.slice(o.length),h.data&&(o+=(Ct.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(At,"$1"),d=(Ct.test(o)?"&":"?")+"_="+Tt+++d),h.url=o+d),h.ifModified&&(de.lastModified[o]&&C.setRequestHeader("If-Modified-Since",de.lastModified[o]),de.etag[o]&&C.setRequestHeader("If-None-Match",de.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Rt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,C,h)||c))return C.abort();if(T="abort",y.add(h.complete),C.done(h.success),C.fail(h.error),i=Y(Pt,h,n,C)){if(C.readyState=1,f&&m.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,i.send(b,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return de.get(e,t,n,"json")},getScript:function(e,t){return de.get(e,void 0,t,"script")}}),de.each(["get","post"],function(e,t){de[t]=function(e,n,r,i){return de.isFunction(n)&&(i=i||r,r=n,n=void 0),de.ajax(de.extend({url:e,type:t,dataType:i,data:n,success:r},de.isPlainObject(e)&&e))}}),de._evalUrl=function(e){return de.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},de.fn.extend({wrapAll:function(e){var t;return this[0]&&(de.isFunction(e)&&(e=e.call(this[0])),t=de(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return de.isFunction(e)?this.each(function(t){de(this).wrapInner(e.call(this,t))}):this.each(function(){var t=de(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=de.isFunction(e);return this.each(function(n){de(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){de(this).replaceWith(this.childNodes)}),this}}),de.expr.pseudos.hidden=function(e){return!de.expr.pseudos.visible(e)},de.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},de.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var It={0:200,1223:204},Wt=de.ajaxSettings.xhr();pe.cors=!!Wt&&"withCredentials"in Wt,pe.ajax=Wt=!!Wt,de.ajaxTransport(function(t){var n,r;if(pe.cors||Wt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(It[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),de.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),de.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return de.globalEval(e),e}}}),de.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),de.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=de("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var $t=[],Bt=/(=)\?(?=&|$)|\?\?/;de.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||de.expando+"_"+Tt++;return this[e]=!0,e}}),de.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Bt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=de.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Bt,"$1"+i):!1!==t.jsonp&&(t.url+=(Ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||de.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?de(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,$t.push(i)),a&&de.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),pe.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),de.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(pe.createHTMLDocument?(t=te.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=te.location.href,t.head.appendChild(r)):t=te),i=Te.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=x([e],t,o),o&&o.length&&de(o).remove(),de.merge([],i.childNodes))},de.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=X(e.slice(s)),e=e.slice(0,s)),de.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&de.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?de("<div>").append(de.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},de.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){de.fn[t]=function(e){return this.on(t,e)}}),de.expr.pseudos.animated=function(e){return de.grep(de.timers,function(t){return e===t.elem}).length},de.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=de.css(e,"position"),f=de(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=de.css(e,"top"),u=de.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),de.isFunction(t)&&(t=t.call(e,n,de.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},de.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){de.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=Z(i),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===de.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),de.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+de.css(e[0],"borderTopWidth",!0),left:r.left+de.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-de.css(n,"marginTop",!0),left:t.left-r.left-de.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===de.css(e,"position");)e=e.offsetParent;return e||Ge})}}),de.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;de.fn[e]=function(r){return qe(this,function(e,r,i){var o=Z(e);if(void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),de.each(["top","left"],function(e,t){de.cssHooks[t]=L(pe.pixelPosition,function(e,n){if(n)return n=q(e,t),it.test(n)?de(e).position()[t]+"px":n})}),de.each({Height:"height",Width:"width"},function(e,t){de.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){de.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return qe(this,function(t,n,i){var o;return de.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?de.css(t,n,s):de.style(t,n,i,s)},t,a?i:void 0,a)}})}),de.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),de.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return de});var _t=e.jQuery,zt=e.$;return de.noConflict=function(t){return e.$===de&&(e.$=zt),t&&e.jQuery===de&&(e.jQuery=_t),de},t||(e.jQuery=e.$=de),de});
},{}],84:[function(require,module,exports){
(function (global){
(function(){function n(n,t){if(n!==t){var r=null===n,e=n===b,u=n===n,i=null===t,o=t===b,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return h(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function e(n){return"function"==typeof n||!1}function u(n){return null==n?"":n+""}function i(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function o(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function f(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function a(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||!0===l?1:-1)}}return t.index-r.index}function c(n){return Bn[n]}function l(n){return zn[n]}function s(n,t,r){return t?n=qn[n]:r&&(n=Pn[n]),"\\"+n}function p(n){return"\\"+Pn[n]}function h(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function v(n){return!!n&&"object"==typeof n}function _(n){return n<=160&&n>=9&&n<=13||32==n||160==n||5760==n||6158==n||n>=8192&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function g(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=D,i[++u]=r);return i}function y(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function d(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function w(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function m(n){return Dn[n]}function x(_){function Bn(n){if(v(n)&&!Cf(n)&&!(n instanceof Mn)){if(n instanceof Dn)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new Dn(n)}function zn(){}function Dn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function Mn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function qn(){var n=new Mn(this.__wrapped__);return n.__actions__=et(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=et(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=et(this.__views__),n}function Pn(){if(this.__filtered__){var n=new Mn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=t<0,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=Ao(a,this.__takeCount__);if(!r||u<T||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&p<h;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,w=y.type,m=d(g);if(w==B)g=m;else if(!m){if(w==L)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?b:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Qn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function nt(n,t){var r=n.data;return("string"==typeof t||$u(t)?r.set.has(t):r.hash[t])?0:-1}function tt(n){var t=this.data;"string"==typeof n||$u(n)?t.set.add(n):t.hash[n]=!0}function rt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function et(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function it(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===b?t:n}function gt(n,t,r,e){return n!==b&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==b||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:mt(t,Df(t),n)}function wt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];f[r]=u?Hr(a,i)?n[a]:b:e?b:n[a]}return f}function mt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function xt(n,t,r){var e=typeof n;return"function"==e?t===b?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===b?Wi(n):Dt(n,t)}function bt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==b)return f;if(!$u(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return et(n,f)}else{var c=ro.call(n),l=c==Y;if(c!=J&&c!=M&&(!l||u))return Ln[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:Ut)(n,function(e,u){f[u]=bt(e,t,r,u,n,i,o)}),f}function At(n,t,r){if("function"!=typeof n)throw new Ji(z);return so(function(){n.apply(b,r)},t)}function jt(n,t){var e=n?n.length:0,u=[];if(!e)return u;var i=-1,o=qr(),f=o==r,a=f&&t.length>=T?_r(t):null,c=t.length;a&&(o=nt,f=!1,t=a);n:for(;++i<e;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;u.push(l)}else o(t,l,0)<0&&u.push(l)}return u}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,r<0&&(r=-r>u?0:u+r),e=e===b||e>u?u:+e||0,e<0&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){if(t(n,r,i))return u=e?r:n,!1}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];v(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function St(n,t){return Lo(n,t,ni)}function Ut(n,t){return Lo(n,t,Df)}function Wt(n,t){return Bo(n,t,Df)}function $t(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Wu(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==b&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&e<u;)n=n[t[e++]];return e&&e==u?n:b}}function Nt(n,t,r,e,u,i){return n===t||(null==n||null==t||!$u(n)&&!v(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i))}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=q,l=q;f||(c=ro.call(n),c==M?c=J:c!=J&&(f=qu(n))),a||(l=ro.call(t),l==M?l=J:l!=J&&(a=qu(t)));var s=c==J,p=l==J,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===b&&!(f in n))return!1}else{var l=r?r(a,c,f):b;if(!(l===b?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&(n[r]===e&&(e!==b||r in se(n)))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(null==(i=1==n.length?i:Ft(i,Jt(n,0,-1))))return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==b||o in i:Nt(t,i[o],b,!0)}}function Mt(n,t,r,e,u){if(!$u(n))return n;var i=Zr(t)&&(Cf(t)||qu(t)),o=i?b:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),v(f))e||(e=[]),u||(u=[]),qt(n,t,a,Mt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):b,s=l===b;s&&(l=f),l===b&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function qt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):b,s=l===b;s&&(l=a,Zr(a)&&(Cf(a)||qu(a))?l=Cf(c)?c:Zr(c)?et(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?b:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,t<0&&(t=-t>u?0:u+t),r=r===b||r>u?u:+r||0,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;return t=ct(t,function(n){return e(n)}),Zt(Bt(n,function(n){return{criteria:ct(t,function(t){return t(n)}),index:++u,value:n}}),function(n,t){return a(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var e=-1,u=qr(),i=n.length,o=u==r,f=o&&i>=T,a=f?_r():null,c=[];a?(u=nt,o=!1):(f=!1,a=t?[]:c);n:for(;++e<i;){var l=n[e],s=t?t(l,e,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else u(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof Mn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=So){for(;e<u;){var i=e+u>>>1,o=n[i];(r?o<=t:o<t)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===b;u<i;){var c=yo((u+i)/2),l=r(n[c]),s=l!==b,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null!=l&&(e?l<=t:l<t);h?u=c+1:i=c}return Ao(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===b)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength);return new ho(t).set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=bo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=bo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:b,o=u>2?r[2]:b,f=u>1?r[u-1]:b;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:b,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=u<3?b:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?Mo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(!1===r(u[a],a,u))break}return t}}function vr(n,t){function r(){return(this&&this!==Zn&&this instanceof r?e:n).apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Qn(n):null}function gr(n){return function(t){for(var r=-1,e=ji(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return $u(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=b);var i=Tr(r,n,b,b,b,b,b,e);return i.placeholder=t.placeholder,i}return t}function wr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(b,r))})}function mr(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=b),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function xr(n,r){return function(e,u,i){if(u=Dr(u,i,3),Cf(e)){var o=t(e,u,r);return o>-1?e[o]:b}return Et(e,u,n)}}function br(n){return function(r,e,u){return r&&r.length?(e=Dr(e,u,3),t(r,e,n)):-1}}function Ar(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function jr(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(z);!t&&Dn.prototype.thru&&"wrapper"==Mr(o)&&(t=new Dn([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=Mr(o),a="wrapper"==f?Do(o):b;t=a&&te(a[0])&&a[1]==(S|R|E|U)&&!a[4].length&&1==a[9]?t[Mr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=T)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===b&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return"function"==typeof r&&e===b||(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return"function"==typeof r&&e===b||(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),Ut(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=u(t),(n?t:"")+Wr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=g(e,t.placeholder);return Tr(r,n,b,e,u)});return t}function Sr(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===b&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function Ur(n,t,r,e,u,i,o,f,a,c){function l(){for(var w=arguments.length,m=w,x=zi(w);m--;)x[m]=arguments[m];if(e&&(x=ar(x,e,u)),i&&(x=cr(x,i,o)),v||y){var A=l.placeholder,I=g(x,A);if((w-=I.length)<c){var R=f?et(f):b,O=bo(c-w,0),S=v?I:b,U=v?b:I,W=v?x:b,$=v?b:x;t|=v?E:C,t&=~(v?C:E),_||(t&=~(j|k));var F=[n,t,r,W,S,$,U,R,a,O],N=Ur.apply(b,F);return te(n)&&qo(N,F),N.placeholder=A,N}}var T=p?r:this,L=h?T[n]:n;return f&&(x=ae(x,f)),s&&a<x.length&&(x.length=a),this&&this!==Zn&&this instanceof l&&(L=d||yr(n)),L.apply(T,x)}var s=t&S,p=t&j,h=t&k,v=t&R,_=t&I,y=t&O,d=h?b:yr(n);return l}function Wr(n,t,r){var e=n.length;if(t=+t,e>=t||!mo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function $r(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];return(this&&this!==Zn&&this instanceof u?o:n).apply(i?r:this,l)}var i=t&j,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===b?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===xt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&k;if(!a&&"function"!=typeof n)throw new Ji(z);var c=e?e.length:0;if(c||(t&=~(E|C),e=u=b),c-=u?u.length:0,t&C){var l=e,s=u;e=u=b}var p=a?b:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:bo(f-c,0)||0,t==j)var v=vr(h[0],h[2]);else v=t!=E&&t!=(j|E)||h[4].length?Ur.apply(b,h):$r.apply(b,h);return(p?zo:qo)(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):b;if(p!==b){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case P:case K:return+n==+t;case V:return n.name==t.name&&n.message==t.message;case G:return n!=+n?t!=+t:n==+t;case X:case Z:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length;if(a!=Df(t).length&&!u)return!1;for(var c=a;c--;){var l=f[c];if(!(u?l in t:no.call(t,l)))return!1}for(var s=u;++c<a;){l=f[c];var p=n[l],h=t[l],v=e?e(u?h:p,u?p:h,l):b;if(!(v===b?r(p,h,e,u,i,o):v))return!1;s||(s="constructor"==l)}if(!s){var _=n.constructor,g=t.constructor;if(_!=g&&"constructor"in n&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g))return!1}return!0}function Dr(n,t,r){var e=Bn.callback||ki;return e=e===ki?xt:e,r?e(n,t,r):e}function Mr(n){for(var t=n.name,r=$o[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function qr(n,t,e){var u=Bn.indexOf||je;return u=u===je?r:u,n?u(n,t,e):u}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?b:n[t];return Tu(r)?r:b}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Ao(t,n+o);break;case"takeRight":n=bo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case H:return fr(n);case P:case K:return new e(+n);case Q:case nn:case tn:case rn:case en:case un:case on:case fn:case an:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case G:case Z:return new e(n);case X:var i=new e(n.source,Rn.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?b:e.apply(n,r)}function Zr(n){return null!=n&&re(Mo(n))}function Hr(n,t){return n="number"==typeof n||Cn.test(n)?+n:-1,t=null==t?Uo:t,n>-1&&n%1==0&&n<t}function Qr(n,t,r){if(!$u(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;return!!("string"==r&&mn.test(n)||"number"==r)||!Cf(n)&&(!wn.test(n)||null!=t&&n in se(t))}function te(n){var t=Mr(n);if(!(t in Mn.prototype))return!1;var r=Bn[t];if(n===r)return!0;var e=Do(r);return!!e&&n===e[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Uo}function ee(n){return n===n&&!$u(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=u<S,o=e==S&&r==R||e==S&&r==U&&n[7].length<=t[8]||e==(S|U)&&r==R;if(!i&&!o)return n;e&j&&(n[2]=t[2],u|=r&j?0:I);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):et(f),n[4]=a?g(n[3],D):et(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):et(f),n[6]=a?g(n[5],D):et(t[6])),f=t[7],f&&(n[7]=et(f)),e&S&&(n[8]=null==n[8]?t[8]:Ao(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===b?t:Sf(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return St(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=Ao(t.length,r),u=et(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:b}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?$u(n)?n:Vi(n):ii(n)}function se(n){return $u(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return u(n).replace(xn,function(n,r,e,u){t.push(e?u.replace(kn,"$1"):r||n)}),t}function he(n){return n instanceof Mn?n.clone():new Dn(n.__wrapped__,n.__chain__,et(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:bo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));e<u;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,t<0?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,t<0?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function we(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function me(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function xe(n){return n?n[0]:b}function be(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function Ae(n){return(n?n.length:0)?Ct(n,!0):[]}function je(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=e<0?bo(u+e,0):e;else if(e){var i=ur(n,t);return i<u&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return r(n,t,e||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:b}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(r<0?bo(e+r,0):Ao(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return h(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=qr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function Se(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function Ue(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,t<0?0:t)):[]}function We(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,t<0?0:t)):[]}function $e(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,e,u){if(!(n?n.length:0))return[];null!=t&&"boolean"!=typeof t&&(u=e,e=Qr(n,t,u)?b:t,t=!1);var i=Dr();return null==e&&i===xt||(e=i(e,u,3)),t&&qr()==r?y(n,e):nr(n,e)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){if(Zr(n))return r=bo(n.length,r),!0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){if(!(n?n.length:0))return[];var e=Te(n);return null==t?e:(t=or(t,r,4),ct(e,function(n){return st(n,t,b,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(jt(e,r),jt(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=Bn(n);return t.__chain__=!0,t}function Me(n,t,r){return t.call(r,n),n}function qe(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new Dn(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof zn;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof Mn){var r=n;return this.__actions__.length&&(r=new Mn(this)),r=r.reverse(),r.__actions__.push({func:qe,args:[t],thisArg:b}),new Dn(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=b),"function"==typeof t&&r===b||(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?Mo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:r<0?bo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&Mu(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&qr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Wi(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:b}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=Ao(t<0?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?Mo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=b),"function"==typeof t&&r===b||(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=b);var e=-1;return t=Dr(t,r,3),Zt(Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}}),f)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=b),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var r=n;n=t,t=r}return n=mo(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=n&&null==t?n.length:bo(+t||0,0),Tr(n,S,b,b,b,b,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=b),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=b}function u(t,r){r&&oo(r),c=h=v=b,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=b))}function i(){var n=t-(gf()-s);n<=0||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),!1===g)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=e<=0||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=b),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(z);if(t=t<0?0:+t||0,!0===r){var d=!0;y=!1}else $u(r)&&(d=!!r.leading,g="maxWait"in r&&bo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(z);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(z);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(z);return t=bo(t===b?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(z);return function(t){return n.apply(this,t)}}function wu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(z);return!1===r?e=!1:$u(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function mu(n,t){return t=null==t?Ri:t,Tr(t,E,b,[n],[])}function xu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?bt(n,t,or(r,e,1)):bt(n,t)}function bu(n,t,r){return"function"==typeof t?bt(n,!0,or(t,r,1)):bt(n,!0)}function Au(n,t){return n>t}function ju(n,t){return n>=t}function ku(n){return v(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return!0===n||!1===n||v(n)&&ro.call(n)==P}function Ru(n){return v(n)&&ro.call(n)==K}function Ou(n){return!!n&&1===n.nodeType&&v(n)&&!zu(n)}function Eu(n){return null==n||(Zr(n)&&(Cf(n)||Mu(n)||ku(n)||v(n)&&Wu(n.splice))?!n.length:!Df(n).length)}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):b;var u=r?r(n,t):b;return u===b?Nt(n,t,r):!!u}function Su(n){return v(n)&&"string"==typeof n.message&&ro.call(n)==V}function Uu(n){return"number"==typeof n&&mo(n)}function Wu(n){return $u(n)&&ro.call(n)==Y}function $u(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):b,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null!=n&&(Wu(n)?uo.test(Qi.call(n)):v(n)&&En.test(n))}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||v(n)&&ro.call(n)==G}function zu(n){var t;if(!v(n)||ro.call(n)!=J||ku(n)||!no.call(n,"constructor")&&"function"==typeof(t=n.constructor)&&!(t instanceof t))return!1;var r;return St(n,function(n,t){r=t}),r===b||no.call(n,r)}function Du(n){return $u(n)&&ro.call(n)==X}function Mu(n){return"string"==typeof n||v(n)&&ro.call(n)==Z}function qu(n){return v(n)&&re(n.length)&&!!Tn[ro.call(n)]}function Pu(n){return n===b}function Ku(n,t){return n<t}function Vu(n,t){return n<=t}function Yu(n){var t=n?Mo(n):0;return re(t)?t?et(n):[]:ii(n)}function Gu(n){return mt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=b),t?dt(e,t):e}function Xu(n){return $t(n,ni(n))}function Zu(n,t,r){var e=null==n?b:Ft(n,pe(t),t+"");return e===b?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),null==(n=1==t.length?n:Ft(n,Jt(t,0,-1))))return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=b);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];$u(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?b:n[t];return e===b&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?b:n[Ie(t)]),e=e===b?r:e),Wu(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];$u(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||qu(n);if(t=Dr(t,e,4),null==r)if(u||$u(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Wu(i)?i.prototype:b)}else r={};return(u?ut:Ut)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===b?(r=t,t=0):r=+r||0,n>=Ao(t,r)&&n<bo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=b);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return Ao(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)}function li(n){return(n=u(n))&&n.replace(Sn,c).replace(jn,"")}function si(n,t,r){n=u(n),t+="";var e=n.length;return r=r===b?e:Ao(r<0?0:+r||0,e),
(r-=t.length)>=0&&n.indexOf(t,r)==r}function pi(n){return n=u(n),n&&_n.test(n)?n.replace(hn,l):n}function hi(n){return n=u(n),n&&An.test(n)?n.replace(bn,s):n||"(?:)"}function vi(n,t,r){n=u(n),t=+t;var e=n.length;if(e>=t||!mo(t))return n;var i=(t-e)/2,o=yo(i);return r=Wr("",_o(i),r),r.slice(0,o)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=wi(n),ko(n,t||(On.test(n)?16:10))}function gi(n,t){var r="";if(n=u(n),(t=+t)<1||!n||!mo(t))return r;do{t%2&&(r+=n),t=yo(t/2),n+=n}while(t);return r}function yi(n,t,r){return n=u(n),r=null==r?0:Ao(r<0?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,r){var e=Bn.templateSettings;r&&Qr(n,t,r)&&(t=r=b),n=u(n),t=yt(dt({},r||t),e,gt);var i,o,f=yt(dt({},t.imports),e.imports,gt),a=Df(f),c=tr(f,a),l=0,s=t.interpolate||Un,h="__p += '",v=Yi((t.escape||Un).source+"|"+s.source+"|"+(s===dn?In:Un).source+"|"+(t.evaluate||Un).source+"|$","g"),_="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Nn+"]")+"\n";n.replace(v,function(t,r,e,u,f,a){return e||(e=u),h+=n.slice(l,a).replace(Wn,p),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(cn,""):h).replace(ln,"$1").replace(sn,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Hf(function(){return qi(a,_+"return "+h).apply(b,c)});if(y.source=h,Su(y))throw y;return y}function wi(n,t,r){var e=n;return(n=u(n))?(r?Qr(e,t,r):null==t)?n.slice(d(n),w(n)+1):(t+="",n.slice(i(n,t),o(n,t)+1)):n}function mi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(d(n)):n.slice(i(n,t+"")):n}function xi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,w(n)+1):n.slice(0,o(n,t+"")+1):n}function bi(n,t,r){r&&Qr(n,t,r)&&(t=b);var e=W,i=$;if(null!=t)if($u(t)){var o="separator"in t?t.separator:o;e="length"in t?+t.length||0:e,i="omission"in t?u(t.omission):i}else e=+t||0;if(n=u(n),e>=n.length)return n;var f=e-i.length;if(f<1)return i;var a=n.slice(0,f);if(null==o)return a+i;if(Du(o)){if(n.slice(f).search(o)){var c,l,s=n.slice(0,f);for(o.global||(o=Yi(o.source,(Rn.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(o,f)!=f){var p=a.lastIndexOf(o);p>-1&&(a=a.slice(0,p))}return a+i}function Ai(n){return n=u(n),n&&vn.test(n)?n.replace(pn,m):n}function ji(n,t,r){return r&&Qr(n,t,r)&&(t=b),n=u(n),n.match(t||$n)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=b),v(n)?Oi(n):xt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(bt(n,!0))}function Ei(n,t){return Dt(n,bt(t,!0))}function Ci(n,t,r){if(null==r){var e=$u(t),u=e?Df(t):b,i=u&&u.length?$t(t,u):b;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=$t(t,Df(t)));var o=!0,f=-1,a=Wu(n),c=i.length;!1===r?o=!1:$u(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=et(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Si(){return Zn._=eo,this}function Ui(){}function Wi(n){return ne(n)?Pt(n):Kt(n)}function $i(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=b),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=bo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if((n=yo(n))<1||!mo(n))return[];var e=-1,u=zi(Ao(n,Eo));for(t=or(t,r,1);++e<n;)e<Eo?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return u(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}_=_?Hn.defaults(Zn.Object(),_,Hn.pick(Zn,Fn)):Zn;var zi=_.Array,Di=_.Date,Mi=_.Error,qi=_.Function,Pi=_.Math,Ki=_.Number,Vi=_.Object,Yi=_.RegExp,Gi=_.String,Ji=_.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=qi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=Zn._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=_.ArrayBuffer,oo=_.clearTimeout,fo=_.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(_,"Set"),so=_.setTimeout,po=Xi.splice,ho=_.Uint8Array,vo=Kr(_,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,wo=Kr(zi,"isArray"),mo=_.isFinite,xo=Kr(Vi,"keys"),bo=Pi.max,Ao=Pi.min,jo=Kr(Di,"now"),ko=_.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,So=Eo>>>1,Uo=9007199254740991,Wo=vo&&new vo,$o={};Bn.support={};Bn.templateSettings={escape:gn,evaluate:yn,interpolate:dn,variable:"",imports:{_:Bn}};var Fo=function(){function n(){}return function(t){if($u(t)){n.prototype=t;var r=new n;n.prototype=b}return r||{}}}(),No=pr(Ut),To=pr(Wt,!0),Lo=hr(),Bo=hr(!0),zo=Wo?function(n,t){return Wo.set(n,t),n}:Ri,Do=Wo?function(n){return Wo.get(n)}:Ui,Mo=Pt("length"),qo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=N-(u-t);if(t=u,i>0){if(++n>=F)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return v(n)&&Zr(n)?jt(n,Ct(t,!1,!0)):[]}),Ko=br(),Vo=br(!0),Yo=yu(function(n){for(var t=n.length,e=t,u=zi(s),i=qr(),o=i==r,f=[];e--;){var a=n[e]=Zr(a=n[e])?a:[];u[e]=o&&a.length>=120?_r(e&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=u[0];n:for(;++l<s;)if(a=c[l],(p?nt(p,a):i(f,a,0))<0){for(var e=t;--e;){var h=u[e];if((h?nt(h,a):i(n[e],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=wt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?jt(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:b,e=t>1?n[t-1]:b;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):b,e=b),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return rt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return wt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=xr(No),of=xr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:b;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=Sr(st,No),vf=Sr(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=jo||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=j;if(r.length){var u=g(r,yf.placeholder);e|=E}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],j,n)}return n}),wf=yu(function(n,t,r){var e=j|k;if(r.length){var u=g(r,wf.placeholder);e|=E}return Tr(t,e,n,r,u)}),mf=dr(R),xf=dr(O),bf=yu(function(n,t){return At(n,1,t)}),Af=yu(function(n,t,r){return At(n,t,r)}),jf=jr(),kf=jr(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,e))throw new Ji(z);var r=t.length;return yu(function(e){for(var u=Ao(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr(E),Of=Cr(C),Ef=yu(function(n,t){return Tr(n,U,b,b,b,Ct(t))}),Cf=wo||function(n){return v(n)&&re(n.length)&&ro.call(n)==q},Sf=sr(Mt),Uf=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Wf=wr(Uf,_t),$f=wr(Sf,ie),Ff=Ar(Ut),Nf=Ar(Wt),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr(Ut),zf=Rr(Wt),Df=xo?function(n){var t=null==n?b:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):$u(n)?xo(n):[]}:ce,Mf=Or(!0),qf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,jt(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(b,t)}catch(n){return Su(n)?n:new Mi(n)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=mr(Au,Ro),ua=mr(Ku,Oo),ia=Fr("round");return Bn.prototype=zn.prototype,Dn.prototype=Fo(zn.prototype),Dn.prototype.constructor=Dn,Mn.prototype=Fo(zn.prototype),Mn.prototype.constructor=Mn,Vn.prototype.delete=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Qn.prototype.push=tt,vu.Cache=Vn,Bn.after=lu,Bn.ary=su,Bn.assign=Uf,Bn.at=rf,Bn.before=pu,Bn.bind=yf,Bn.bindAll=df,Bn.bindKey=wf,Bn.callback=ki,Bn.chain=De,Bn.chunk=ve,Bn.compact=_e,Bn.constant=Ii,Bn.countBy=ef,Bn.create=Ju,Bn.curry=mf,Bn.curryRight=xf,Bn.debounce=hu,Bn.defaults=Wf,Bn.defaultsDeep=$f,Bn.defer=bf,Bn.delay=Af,Bn.difference=Po,Bn.drop=ge,Bn.dropRight=ye,Bn.dropRightWhile=de,Bn.dropWhile=we,Bn.fill=me,Bn.filter=Ze,Bn.flatten=be,Bn.flattenDeep=Ae,Bn.flow=jf,Bn.flowRight=kf,Bn.forEach=ff,Bn.forEachRight=af,Bn.forIn=Tf,Bn.forInRight=Lf,Bn.forOwn=Bf,Bn.forOwnRight=zf,Bn.functions=Xu,Bn.groupBy=cf,Bn.indexBy=lf,Bn.initial=ke,Bn.intersection=Yo,Bn.invert=Qu,Bn.invoke=sf,Bn.keys=Df,Bn.keysIn=ni,Bn.map=nu,Bn.mapKeys=Mf,Bn.mapValues=qf,Bn.matches=Oi,Bn.matchesProperty=Ei,Bn.memoize=vu,Bn.merge=Sf,Bn.method=Qf,Bn.methodOf=na,Bn.mixin=Ci,Bn.modArgs=If,Bn.negate=_u,Bn.omit=Pf,Bn.once=gu,Bn.pairs=ti,Bn.partial=Rf,Bn.partialRight=Of,Bn.partition=pf,Bn.pick=Kf,Bn.pluck=tu,Bn.property=Wi,Bn.propertyOf=$i,Bn.pull=Oe,Bn.pullAt=Go,Bn.range=Fi,Bn.rearg=Ef,Bn.reject=ru,Bn.remove=Ee,Bn.rest=Ce,Bn.restParam=yu,Bn.set=ei,Bn.shuffle=uu,Bn.slice=Se,Bn.sortBy=fu,Bn.sortByAll=_f,Bn.sortByOrder=au,Bn.spread=du,Bn.take=Ue,Bn.takeRight=We,Bn.takeRightWhile=$e,Bn.takeWhile=Fe,Bn.tap=Me,Bn.throttle=wu,Bn.thru=qe,Bn.times=Ni,Bn.toArray=Yu,Bn.toPlainObject=Gu,Bn.transform=ui,Bn.union=Zo,Bn.uniq=Ne,Bn.unzip=Te,Bn.unzipWith=Le,Bn.values=ii,Bn.valuesIn=oi,Bn.where=cu,Bn.without=Ho,Bn.wrap=mu,Bn.xor=Be,Bn.zip=Qo,Bn.zipObject=ze,Bn.zipWith=nf,Bn.backflow=kf,Bn.collect=nu,Bn.compose=kf,Bn.each=ff,Bn.eachRight=af,Bn.extend=Uf,Bn.iteratee=ki,Bn.methods=Xu,Bn.object=ze,Bn.select=Ze,Bn.tail=Ce,Bn.unique=Ne,Ci(Bn,Bn),Bn.add=Li,Bn.attempt=Hf,Bn.camelCase=Vf,Bn.capitalize=ci,Bn.ceil=ta,Bn.clone=xu,Bn.cloneDeep=bu,Bn.deburr=li,Bn.endsWith=si,Bn.escape=pi,Bn.escapeRegExp=hi,Bn.every=Xe,Bn.find=uf,Bn.findIndex=Ko,Bn.findKey=Ff,Bn.findLast=of,Bn.findLastIndex=Vo,Bn.findLastKey=Nf,Bn.findWhere=He,Bn.first=xe,Bn.floor=ra,Bn.get=Zu,Bn.gt=Au,Bn.gte=ju,Bn.has=Hu,Bn.identity=Ri,Bn.includes=Qe,Bn.indexOf=je,Bn.inRange=fi,Bn.isArguments=ku,Bn.isArray=Cf,Bn.isBoolean=Iu,Bn.isDate=Ru,Bn.isElement=Ou,Bn.isEmpty=Eu,Bn.isEqual=Cu,Bn.isError=Su,Bn.isFinite=Uu,Bn.isFunction=Wu,Bn.isMatch=Fu,Bn.isNaN=Nu,Bn.isNative=Tu,Bn.isNull=Lu,Bn.isNumber=Bu,Bn.isObject=$u,Bn.isPlainObject=zu,Bn.isRegExp=Du,Bn.isString=Mu,Bn.isTypedArray=qu,Bn.isUndefined=Pu,Bn.kebabCase=Yf,Bn.last=Ie,Bn.lastIndexOf=Re,Bn.lt=Ku,Bn.lte=Vu,Bn.max=ea,Bn.min=ua,Bn.noConflict=Si,Bn.noop=Ui,Bn.now=gf,Bn.pad=vi,Bn.padLeft=Gf,Bn.padRight=Jf,Bn.parseInt=_i,Bn.random=ai,Bn.reduce=hf,Bn.reduceRight=vf,Bn.repeat=gi,Bn.result=ri,Bn.round=ia,Bn.runInContext=x,Bn.size=iu,Bn.snakeCase=Xf,Bn.some=ou,Bn.sortedIndex=Jo,Bn.sortedLastIndex=Xo,Bn.startCase=Zf,Bn.startsWith=yi,Bn.sum=Bi,Bn.template=di,Bn.trim=wi,Bn.trimLeft=mi,Bn.trimRight=xi,Bn.trunc=bi,Bn.unescape=Ai,Bn.uniqueId=Ti,Bn.words=ji,Bn.all=Xe,Bn.any=ou,Bn.contains=Qe,Bn.eq=Cu,Bn.detect=uf,Bn.foldl=hf,Bn.foldr=vf,Bn.head=xe,Bn.include=Qe,Bn.inject=hf,Ci(Bn,function(){var n={};return Ut(Bn,function(t,r){Bn.prototype[r]||(n[r]=t)}),n}(),!1),Bn.sample=eu,Bn.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},Bn.VERSION=A,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Bn[n].placeholder=Bn}),ut(["drop","take"],function(n,t){Mn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new Mn(this);r=null==r?1:bo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=Ao(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},Mn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=B;Mn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");Mn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Mn.prototype[n]=function(){return this.__filtered__?new Mn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Wi;Mn.prototype[n]=function(n){return this[r](e(n))}}),Mn.prototype.compact=function(){return this.filter(Ri)},Mn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},Mn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||t<0)?new Mn(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==b&&(t=+t||0,r=t<0?r.dropRight(-t):r.take(t-n)),r)},Mn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},Mn.prototype.toArray=function(){return this.take(Oo)},Ut(Mn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=Bn[e?"take"+("last"==t?"Right":""):t];u&&(Bn.prototype[t]=function(){var t=e?[1]:arguments,i=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof Mn,c=t[0],l=a||Cf(o);l&&r&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return e&&i?u(n,1)[0]:u.apply(b,lt([n],t))},p={func:qe,args:[s],thisArg:b},h=a&&!f;if(e&&!i)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):u.call(b,this.value())[0];if(!e&&l){o=h?o:new Mn(this);var v=n.apply(o,t);return v.__actions__.push(p),new Dn(v,i)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);Bn.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),Ut(Mn.prototype,function(n,t){var r=Bn[t];if(r){var e=r.name;($o[e]||($o[e]=[])).push({name:t,func:r})}}),$o[Ur(b,k).name]=[{name:"wrapper",func:b}],Mn.prototype.clone=qn,Mn.prototype.reverse=Pn,Mn.prototype.value=Kn,Bn.prototype.chain=Pe,Bn.prototype.commit=Ke,Bn.prototype.concat=tf,Bn.prototype.plant=Ve,Bn.prototype.reverse=Ye,Bn.prototype.toString=Ge,Bn.prototype.run=Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=Je,Bn.prototype.collect=Bn.prototype.map,Bn.prototype.head=Bn.prototype.first,Bn.prototype.select=Bn.prototype.filter,Bn.prototype.tail=Bn.prototype.rest,Bn}var b,A="3.10.1",j=1,k=2,I=4,R=8,O=16,E=32,C=64,S=128,U=256,W=30,$="...",F=150,N=16,T=200,L=1,B=2,z="Expected a function",D="__lodash_placeholder__",M="[object Arguments]",q="[object Array]",P="[object Boolean]",K="[object Date]",V="[object Error]",Y="[object Function]",G="[object Number]",J="[object Object]",X="[object RegExp]",Z="[object String]",H="[object ArrayBuffer]",Q="[object Float32Array]",nn="[object Float64Array]",tn="[object Int8Array]",rn="[object Int16Array]",en="[object Int32Array]",un="[object Uint8Array]",on="[object Uint8ClampedArray]",fn="[object Uint16Array]",an="[object Uint32Array]",cn=/\b__p \+= '';/g,ln=/\b(__p \+=) '' \+/g,sn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pn=/&(?:amp|lt|gt|quot|#39|#96);/g,hn=/[&<>"'`]/g,vn=RegExp(pn.source),_n=RegExp(hn.source),gn=/<%-([\s\S]+?)%>/g,yn=/<%([\s\S]+?)%>/g,dn=/<%=([\s\S]+?)%>/g,wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,mn=/^\w*$/,xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,bn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,An=RegExp(bn.source),jn=/[\u0300-\u036f\ufe20-\ufe23]/g,kn=/\\(\\)?/g,In=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rn=/\w*$/,On=/^0[xX]/,En=/^\[object .+?Constructor\]$/,Cn=/^\d+$/,Sn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Un=/($^)/,Wn=/['\n\r\u2028\u2029\\]/g,$n=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Fn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Nn=-1,Tn={};Tn[Q]=Tn[nn]=Tn[tn]=Tn[rn]=Tn[en]=Tn[un]=Tn[on]=Tn[fn]=Tn[an]=!0,Tn[M]=Tn[q]=Tn[H]=Tn[P]=Tn[K]=Tn[V]=Tn[Y]=Tn["[object Map]"]=Tn[G]=Tn[J]=Tn[X]=Tn["[object Set]"]=Tn[Z]=Tn["[object WeakMap]"]=!1;var Ln={};Ln[M]=Ln[q]=Ln[H]=Ln[P]=Ln[K]=Ln[Q]=Ln[nn]=Ln[tn]=Ln[rn]=Ln[en]=Ln[G]=Ln[J]=Ln[X]=Ln[Z]=Ln[un]=Ln[on]=Ln[fn]=Ln[an]=!0,Ln[V]=Ln[Y]=Ln["[object Map]"]=Ln["[object Set]"]=Ln["[object WeakMap]"]=!1;var Bn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},zn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Dn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Mn={function:!0,object:!0},qn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Pn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kn=Mn[typeof exports]&&exports&&!exports.nodeType&&exports,Vn=Mn[typeof module]&&module&&!module.nodeType&&module,Yn=Kn&&Vn&&"object"==typeof global&&global&&global.Object&&global,Gn=Mn[typeof self]&&self&&self.Object&&self,Jn=Mn[typeof window]&&window&&window.Object&&window,Xn=Vn&&Vn.exports===Kn&&Kn,Zn=Yn||Jn!==(this&&this.window)&&Jn||Gn||this,Hn=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Zn._=Hn,define(function(){return Hn})):Kn&&Vn?Xn?(Vn.exports=Hn)._=Hn:Kn._=Hn:Zn._=Hn}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],85:[function(require,module,exports){
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||Z;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"!==n&&!fe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(fe.isFunction(t))return fe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return fe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(we.test(t))return fe.filter(t,e,n);t=fe.filter(t,e)}return fe.grep(e,function(e){return ie.call(t,e)>-1!==n&&1===e.nodeType})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return fe.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function u(e){throw e}function l(e,t,n){var r;try{e&&fe.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&fe.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function c(){Z.removeEventListener("DOMContentLoaded",c),e.removeEventListener("load",c),fe.ready()}function f(){this.expando=fe.expando+f.uid++}function p(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Fe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:He.test(n)?JSON.parse(n):n)}catch(e){}Le.set(e,t,n)}else n=void 0;return n}function d(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return fe.css(e,t,"")},u=s(),l=n&&n[3]||(fe.cssNumber[t]?"":"px"),c=(fe.cssNumber[t]||"px"!==l&&+u)&&Pe.exec(fe.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{o=o||".5",c/=o,fe.style(e,t,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function h(e){var t,n=e.ownerDocument,r=e.nodeName,i=We[r];return i||(t=n.body.appendChild(n.createElement(r)),i=fe.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),We[r]=i,i)}function g(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=qe.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Me(r)&&(i[o]=h(r))):"none"!==n&&(i[o]="none",qe.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function m(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],n):n}function v(e,t){for(var n=0,r=e.length;n<r;n++)qe.set(e[n],"globalEval",!t||qe.get(t[n],"globalEval"))}function y(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===fe.type(o))fe.merge(p,o.nodeType?[o]:o);else if(Xe.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Be.exec(o)||["",""])[1].toLowerCase(),u=ze[s]||ze._default,a.innerHTML=u[1]+fe.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;fe.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&fe.inArray(o,r)>-1)i&&i.push(o);else if(l=fe.contains(o.ownerDocument,o),a=m(f.appendChild(o),"script"),l&&v(a),n)for(c=0;o=a[c++];)_e.test(o.type||"")&&n.push(o);return f}function x(){return!0}function b(){return!1}function w(){try{return Z.activeElement}catch(e){}}function T(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)T(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=b;else if(!i)return e;return 1===o&&(a=i,i=function(e){return fe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,i,r,n)})}function C(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=Ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(qe.hasData(e)&&(o=qe.access(e),a=qe.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)fe.event.add(t,i,l[i][n])}Le.hasData(e)&&(s=Le.access(e),u=fe.extend({},s),Le.set(t,u))}}function N(e,t){var n=t.nodeName.toLowerCase();"input"===n&&$e.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function D(e,t,r,i){t=ne.apply([],t);var o,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0],g=fe.isFunction(h);if(g||p>1&&"string"==typeof h&&!ce.checkClone&&Ke.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),D(o,t,r,i)});if(p&&(o=y(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=fe.map(m(o,"script"),k),u=s.length;f<p;f++)l=o,f!==d&&(l=fe.clone(l,!0,!0),u&&fe.merge(s,m(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,fe.map(s,E),f=0;f<u;f++)l=s[f],_e.test(l.type||"")&&!qe.access(l,"globalEval")&&fe.contains(c,l)&&(l.src?fe._evalUrl&&fe._evalUrl(l.src):n(l.textContent.replace(et,""),c))}return e}function j(e,t,n){for(var r,i=t?fe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||fe.cleanData(m(r)),r.parentNode&&(n&&fe.contains(r.ownerDocument,r)&&v(m(r,"script")),r.parentNode.removeChild(r));return e}function A(e,t,n){var r,i,o,a,s=e.style;return n=n||rt(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),!ce.pixelMarginRight()&&nt.test(a)&&tt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function q(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function L(e){if(e in ut)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=st.length;n--;)if((e=st[n]+t)in ut)return e}function H(e,t,n){var r=Pe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function F(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=fe.css(e,n+Re[o],!0,i)),r?("content"===n&&(a-=fe.css(e,"padding"+Re[o],!0,i)),"margin"!==n&&(a-=fe.css(e,"border"+Re[o]+"Width",!0,i))):(a+=fe.css(e,"padding"+Re[o],!0,i),"padding"!==n&&(a+=fe.css(e,"border"+Re[o]+"Width",!0,i)));return a}function O(e,t,n){var r,i=!0,o=rt(e),a="border-box"===fe.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),r<=0||null==r){if(r=A(e,t,o),(r<0||null==r)&&(r=e.style[t]),nt.test(r))return r;i=a&&(ce.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+F(e,t,n||(a?"border":"content"),i,o)+"px"}function P(e,t,n,r,i){return new P.prototype.init(e,t,n,r,i)}function R(){ct&&(e.requestAnimationFrame(R),fe.fx.tick())}function M(){return e.setTimeout(function(){lt=void 0}),lt=fe.now()}function I(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Re[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function W(e,t,n){for(var r,i=(_.tweeners[t]||[]).concat(_.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function $(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,m=e.nodeType&&Me(e),v=qe.get(e,"fxshow");n.queue||(a=fe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,fe.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;m=!0}d[r]=v&&v[r]||fe.style(e,r)}if((u=!fe.isEmptyObject(t))||!fe.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=v&&v.display,null==l&&(l=qe.get(e,"display")),c=fe.css(e,"display"),"none"===c&&(l?c=l:(g([e],!0),l=e.style.display||l,c=fe.css(e,"display"),g([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===fe.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(v?"hidden"in v&&(m=v.hidden):v=qe.access(e,"fxshow",{display:l}),o&&(v.hidden=!m),m&&g([e],!0),p.done(function(){m||g([e]),qe.remove(e,"fxshow");for(r in d)fe.style(e,r,d[r])})),u=W(m?v[r]:0,r,p),r in v||(v[r]=u.start,m&&(u.end=u.start,u.start=0))}}function B(e,t){var n,r,i,o,a;for(n in e)if(r=fe.camelCase(n),i=t[r],o=e[n],fe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=fe.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function _(e,t,n){var r,i,o=0,a=_.prefilters.length,s=fe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=lt||M(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},n),originalProperties:t,originalOptions:n,startTime:lt||M(),duration:n.duration,tweens:[],createTween:function(t,n){var r=fe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(B(c,l.opts.specialEasing);o<a;o++)if(r=_.prefilters[o].call(l,e,c,l.opts))return fe.isFunction(r.stop)&&(fe._queueHooks(l.elem,l.opts.queue).stop=fe.proxy(r.stop,r)),r;return fe.map(c,W,l),fe.isFunction(l.opts.start)&&l.opts.start.call(e,l),fe.fx.timer(fe.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(e){return e.getAttribute&&e.getAttribute("class")||""}function X(e,t,n,r){var i;if(fe.isArray(t))fe.each(t,function(t,i){n||kt.test(e)?r(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==fe.type(t))r(e,t);else for(i in t)X(e+"["+i+"]",t[i],n,r)}function U(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Se)||[];if(fe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function V(e,t,n,r){function i(s){var u;return o[s]=!0,fe.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Pt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function G(e,t){var n,r,i=fe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&fe.extend(!0,e,r),e}function Y(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Q(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function J(e){return fe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var K=[],Z=e.document,ee=Object.getPrototypeOf,te=K.slice,ne=K.concat,re=K.push,ie=K.indexOf,oe={},ae=oe.toString,se=oe.hasOwnProperty,ue=se.toString,le=ue.call(Object),ce={},fe=function(e,t){return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,de=/^-ms-/,he=/-([a-z])/g,ge=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:"3.0.0",constructor:fe,length:0,toArray:function(){return te.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:te.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:K.sort,splice:K.splice},fe.extend=fe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||fe.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(fe.isPlainObject(r)||(i=fe.isArray(r)))?(i?(i=!1,o=n&&fe.isArray(n)?n:[]):o=n&&fe.isPlainObject(n)?n:{},a[t]=fe.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},fe.extend({expando:"jQuery"+("3.0.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=fe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ae.call(e))&&(!(t=ee(e))||"function"==typeof(n=se.call(t,"constructor")&&t.constructor)&&ue.call(n)===le)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?oe[ae.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(de,"ms-").replace(he,ge)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?fe.merge(n,"string"==typeof e?[e]:e):re.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ie.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return ne.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),fe.isFunction(e))return r=te.call(arguments,2),i=function(){return e.apply(t||this,r.concat(te.call(arguments)))},i.guid=e.guid=e.guid||fe.guid++,i},now:Date.now,support:ce}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=K[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){oe["[object "+t+"]"]=t.toLowerCase()});var me=function(e){function t(e,t,n,r){var i,o,a,s,u,c,p,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:I)!==q&&A(t),t=t||q,H)){if(11!==h&&(u=ge.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(b.qsa&&!z[e+" "]&&(!F||!F.test(e))){if(1!==h)d=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,be):t.setAttribute("id",s=M),c=k(e),o=c.length;o--;)c[o]="#"+s+" "+f(c[o]);p=c.join(","),d=me.test(e)&&l(t.parentNode)||t}if(p)try{return Q.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{s===M&&t.removeAttribute("id")}}}return S(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[M]=!0,e}function i(e){var t=q.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"label"in t&&t.disabled===e||"form"in t&&t.disabled===e||"form"in t&&!1===t.disabled&&(t.isDisabled===e||t.isDisabled!==!e&&("label"in t||!Te(t))!==e)}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=$++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i)}:function(t,n,u){var l,c,f,p=[W,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[M]||(t[M]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===W&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[M]&&(i=m(i)),o&&!o[M]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],m=a.length,v=r||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,p,e,s,u),x=n?o||(r?e:m||i)?[]:a:y;if(n&&n(y,x,s,u),i)for(l=g(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?K(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else x=g(x===a?x.splice(m,x.length):x),o?o(null,a,x,u):Q.apply(a,x)})}function v(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return K(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==N)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=w.relative[e[s].type])c=[p(d(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[M]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return m(s>1&&d(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&f(e))}c.push(n)}return d(c)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",m=r&&[],v=[],y=N,x=r||o&&w.find.TAG("*",l),b=W+=null==y?1:Math.random()||.1,T=x.length;for(l&&(N=a===q||a||l);h!==T&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument===q||(A(c),s=!H);p=e[f++];)if(p(c,a||q,s)){u.push(c);break}l&&(W=b)}i&&((c=!p&&c)&&d--,r&&m.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(m,v,a,s);if(r){if(d>0)for(;h--;)m[h]||v[h]||(v[h]=G.call(u));v=g(v)}Q.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(W=b,N=y),m};return i?r(a):a}var x,b,w,T,C,k,E,S,N,D,j,A,q,L,H,F,O,P,R,M="sizzle"+1*new Date,I=e.document,W=0,$=0,B=n(),_=n(),z=n(),X=function(e,t){return e===t&&(j=!0),0},U={}.hasOwnProperty,V=[],G=V.pop,Y=V.push,Q=V.push,J=V.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,be=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){A()},Te=p(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"});try{Q.apply(V=J.call(I.childNodes),I.childNodes),V[I.childNodes.length].nodeType}catch(e){Q={apply:V.length?function(e,t){Y.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:I;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,L=q.documentElement,H=!C(q),I!==q&&(n=q.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(q.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(q.getElementsByClassName),b.getById=i(function(e){return L.appendChild(e).id=M,!q.getElementsByName||!q.getElementsByName(M).length}),b.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&H)return t.getElementsByClassName(e)},O=[],F=[],(b.qsa=he.test(q.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+M+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+M+"+*").length||F.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=q.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(b.matchesSelector=he.test(P=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){b.disconnectedMatch=P.call(e,"*"),P.call(e,"[s!='']:x"),O.push("!=",re)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),t=he.test(L.compareDocumentPosition),R=t||he.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===q||e.ownerDocument===I&&R(I,e)?-1:t===q||t.ownerDocument===I&&R(I,t)?1:D?K(D,e)-K(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===q?-1:t===q?1:i?-1:o?1:D?K(D,e)-K(D,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===I?-1:u[r]===I?1:0},q):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&A(e),n=n.replace(ue,"='$1']"),b.matchesSelector&&H&&!z[n+" "]&&(!O||!O.test(n))&&(!F||!F.test(n)))try{var r=P.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&A(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&A(e);var n=w.attrHandle[t.toLowerCase()],r=n&&U.call(w.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==r?r:b.attributes||!H?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,be)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!b.detectDuplicates,D=!b.sortStable&&e.slice(0),e.sort(X),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},T=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(p=m,f=p[M]||(p[M]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===W&&l[1],x=d&&l[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[W,d,x];break}}else if(y&&(p=t,f=p[M]||(p[M]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===W&&l[1],x=d),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++x||(y&&(f=p[M]||(p[M]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[W,x]),p!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[M]?o(n):o.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=K(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(oe,"$1"));return i[M]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ve,ye),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,ye).toLowerCase(),function(t){var n;do{if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},
text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(x);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,k=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=_[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=w.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in w.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):_(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=v(t[n]),o[M]?r.push(o):i.push(o);o=z(e,y(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,p=!r&&k(e=c.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&H&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ve,ye),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(ve,ye),me.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return Q.apply(n,r),n;break}}return(c||E(e,p))(r,t,!H,n,!t||me.test(e)&&l(t.parentNode)||t),n},b.sortStable=M.split("").sort(X).join("")===M,b.detectDuplicates=!!j,A(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);fe.find=me,fe.expr=me.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=me.uniqueSort,fe.text=me.getText,fe.isXMLDoc=me.isXML,fe.contains=me.contains,fe.escapeSelector=me.escape;var ve=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&fe(e).is(n))break;r.push(e)}return r},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=fe.expr.match.needsContext,be=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,we=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?fe.find.matchesSelector(r,e)?[r]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<r;t++)if(fe.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)fe.find(e,i[t],n);return r>1?fe.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&xe.test(e)?fe(e):e||[],!1).length}});var Te,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(fe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Te,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ce.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),be.test(r[1])&&fe.isPlainObject(t))for(r in t)fe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=Z.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):fe.isFunction(e)?void 0!==n.ready?n.ready(e):e(fe):fe.makeArray(e,this)}).prototype=fe.fn,Te=fe(Z);var ke=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t=fe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(fe.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&fe(e);if(!xe.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?fe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ie.call(fe(e),this[0]):ie.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return e.contentDocument||fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(n,r){var i=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=fe.filter(r,i)),this.length>1&&(Ee[e]||fe.uniqueSort(i),ke.test(e)&&i.reverse()),this.pushStack(i)}});var Se=/\S+/g;fe.Callbacks=function(e){e="string"==typeof e?a(e):fe.extend({},e);var t,n,r,i,o=[],s=[],u=-1,l=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)!1===o[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(u=o.length-1,s.push(n)),function t(n){fe.each(n,function(n,r){fe.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==fe.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?fe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},fe.extend({Deferred:function(t){var n=[["notify","progress",fe.Callbacks("memory"),fe.Callbacks("memory"),2],["resolve","done",fe.Callbacks("once memory"),fe.Callbacks("once memory"),0,"resolved"],["reject","fail",fe.Callbacks("once memory"),fe.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return fe.Deferred(function(t){fe.each(n,function(n,r){var i=fe.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var l=this,c=arguments,f=function(){var e,f;if(!(t<a)){if((e=r.apply(l,c))===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,fe.isFunction(f)?i?f.call(e,o(a,n,s,i),o(a,n,u,i)):(a++,f.call(e,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&&(l=void 0,c=[e]),(i||n.resolveWith)(l,c))}},p=i?f:function(){try{f()}catch(e){fe.Deferred.exceptionHook&&fe.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==u&&(l=void 0,c=[e]),n.rejectWith(l,c))}};t?p():(fe.Deferred.getStackHook&&(p.stackTrace=fe.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return fe.Deferred(function(e){n[0][3].add(o(0,e,fe.isFunction(i)?i:s,e.notifyWith)),n[1][3].add(o(0,e,fe.isFunction(t)?t:s)),n[2][3].add(o(0,e,fe.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?fe.extend(e,i):i}},o={};return fe.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=te.call(arguments),o=fe.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?te.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(l(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||fe.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)l(i[n],a(n),o.reject);return o.promise()}});var Ne=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;fe.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ne.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)};var De=fe.Deferred();fe.fn.ready=function(e){return De.then(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0,!0!==e&&--fe.readyWait>0||De.resolveWith(Z,[fe]))}}),fe.ready.then=De.then,"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?e.setTimeout(fe.ready):(Z.addEventListener("DOMContentLoaded",c),e.addEventListener("load",c));var je=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===fe.type(n)){i=!0;for(s in n)je(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,fe.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(fe(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Ae=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ae(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[fe.camelCase(t)]=n;else for(r in t)i[fe.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][fe.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){fe.isArray(t)?t=t.map(fe.camelCase):(t=fe.camelCase(t),t=t in r?[t]:t.match(Se)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||fe.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!fe.isEmptyObject(t)}};var qe=new f,Le=new f,He=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;fe.extend({hasData:function(e){return Le.hasData(e)||qe.hasData(e)},data:function(e,t,n){return Le.access(e,t,n)},removeData:function(e,t){Le.remove(e,t)},_data:function(e,t,n){return qe.access(e,t,n)},_removeData:function(e,t){qe.remove(e,t)}}),fe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Le.get(o),1===o.nodeType&&!qe.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=fe.camelCase(r.slice(5)),p(o,r,i[r])));qe.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Le.set(this,e)}):je(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Le.get(o,e)))return n;if(void 0!==(n=p(o,e)))return n}else this.each(function(){Le.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Le.remove(this,e)})}}),fe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=qe.get(e,t),n&&(!r||fe.isArray(n)?r=qe.access(e,t,fe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),r=n.length,i=n.shift(),o=fe._queueHooks(e,t),a=function(){fe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return qe.get(e,n)||qe.access(e,n,{empty:fe.Callbacks("once memory").add(function(){qe.remove(e,[t+"queue",n])})})}}),fe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=fe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=qe.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Me=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&fe.contains(e.ownerDocument,e)&&"none"===fe.css(e,"display")},Ie=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},We={};fe.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Me(this)?fe(this).show():fe(this).hide()})}});var $e=/^(?:checkbox|radio)$/i,Be=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,_e=/^$|\/(?:java|ecma)script/i,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td;var Xe=/<|&#?\w+;/;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ce.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ue=Z.documentElement,Ve=/^key/,Ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ye=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=qe.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&fe.find.matchesSelector(Ue,i),n.guid||(n.guid=fe.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==fe&&fe.event.triggered!==t.type?fe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Se)||[""],l=t.length;l--;)s=Ye.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=fe.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=fe.event.special[d]||{},c=fe.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&fe.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),fe.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=qe.hasData(e)&&qe.get(e);if(m&&(u=m.events)){for(t=(t||"").match(Se)||[""],l=t.length;l--;)if(s=Ye.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=fe.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||fe.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)fe.event.remove(e,d+t[l],n,r,!0);fe.isEmptyObject(u)&&qe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=fe.event.fix(e),u=new Array(arguments.length),l=(qe.get(this,"events")||{})[s.type]||[],c=fe.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=fe.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((fe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?fe(i,this).index(u)>-1:fe.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},addProp:function(e,t){Object.defineProperty(fe.Event.prototype,e,{enumerable:!0,configurable:!0,get:fe.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[fe.expando]?e:new fe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&fe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},fe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},fe.Event=function(e,t){if(!(this instanceof fe.Event))return new fe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:b,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ve.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ge.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},fe.event.addProp),fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||fe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),fe.fn.extend({on:function(e,t,n,r){return T(this,e,t,n,r)},one:function(e,t,n,r){return T(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,fe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=b),this.each(function(){fe.event.remove(this,e,n,t)})}});var Qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Je=/<script|<style|<link/i,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Ze=/^true\/(.*)/,et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fe.extend({htmlPrefilter:function(e){return e.replace(Qe,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=fe.contains(e.ownerDocument,e);if(!(ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(a=m(s),o=m(e),r=0,i=o.length;r<i;r++)N(o[r],a[r]);if(t)if(n)for(o=o||m(e),a=a||m(s),r=0,i=o.length;r<i;r++)S(o[r],a[r]);else S(e,s);return a=m(s,"script"),a.length>0&&v(a,!u&&m(e,"script")),s},cleanData:function(e){for(var t,n,r,i=fe.event.special,o=0;void 0!==(n=e[o]);o++)if(Ae(n)){if(t=n[qe.expando]){if(t.events)for(r in t.events)i[r]?fe.event.remove(n,r):fe.removeEvent(n,r,t.handle);n[qe.expando]=void 0}n[Le.expando]&&(n[Le.expando]=void 0)}}}),fe.fn.extend({detach:function(e){return j(this,e,!0)},remove:function(e){return j(this,e)},text:function(e){return je(this,function(e){return void 0===e?fe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){C(this,e).appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(fe.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return je(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Je.test(e)&&!ze[(Be.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(fe.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(m(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,r=[],i=fe(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),fe(i[a])[t](n),re.apply(r,n.get());return this.pushStack(r)}});var tt=/^margin/,nt=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),rt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ue.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Ue.removeChild(a),s=null}}var n,r,i,o,a=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),fe.extend(ce,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var it=/^(none|table(?!-c[ea]).+)/,ot={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"},st=["Webkit","Moz","ms"],ut=Z.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=A(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=fe.camelCase(t),u=e.style;if(t=fe.cssProps[s]||(fe.cssProps[s]=L(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];o=typeof n,"string"===o&&(i=Pe.exec(n))&&i[1]&&(n=d(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(fe.cssNumber[s]?"":"px")),ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=L(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=A(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,r){if(n)return!it.test(fe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?O(e,t,r):Ie(e,ot,function(){return O(e,t,r)})},set:function(e,n,r){var i,o=r&&rt(e),a=r&&F(e,t,r,"border-box"===fe.css(e,"boxSizing",!1,o),o);return a&&(i=Pe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=fe.css(e,t)),H(e,n,a)}}}),fe.cssHooks.marginLeft=q(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(A(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Re[r]+t]=o[r]||o[r-2]||o[0];return i}},tt.test(e)||(fe.cssHooks[e+t].set=H)}),fe.fn.extend({css:function(e,t){return je(this,function(e,t,n){var r,i,o={},a=0;if(fe.isArray(t)){for(r=rt(e),i=t.length;a<i;a++)o[t[a]]=fe.css(e,t[a],!1,r);return o}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)}}),fe.Tween=P,P.prototype={constructor:P,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(fe.cssNumber[n]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,n=P.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=P.prototype.init,fe.fx.step={};var lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;fe.Animation=fe.extend(_,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return d(n.elem,e,Pe.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(Se);for(var n,r=0,i=e.length;r<i;r++)n=e[r],_.tweeners[n]=_.tweeners[n]||[],_.tweeners[n].unshift(t)},prefilters:[$],prefilter:function(e,t){t?_.prefilters.unshift(e):_.prefilters.push(e)}}),fe.speed=function(e,t,n){var r=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return fe.fx.off||Z.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in fe.fx.speeds?fe.fx.speeds[r.duration]:fe.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){fe.isFunction(r.old)&&r.old.call(this),r.queue&&fe.dequeue(this,r.queue)},r},fe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Me).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=fe.isEmptyObject(e),o=fe.speed(t,n,r),a=function(){var t=_(this,fe.extend({},e),o);(i||qe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=fe.timers,a=qe.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&pt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||fe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=qe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=fe.timers,a=r?r.length:0;for(n.finish=!0,fe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,r,i){
return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(I(t,!0),e,r,i)}}),fe.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),fe.timers=[],fe.fx.tick=function(){var e,t=0,n=fe.timers;for(lt=fe.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||fe.fx.stop(),lt=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){ct||(ct=e.requestAnimationFrame?e.requestAnimationFrame(R):e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ct):e.clearInterval(ct),ct=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",ce.checkOn=""!==e.value,ce.optSelected=n.selected,e=Z.createElement("input"),e.value="t",e.type="radio",ce.radioValue="t"===e.value}();var dt,ht=fe.expr.attrHandle;fe.fn.extend({attr:function(e,t){return je(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?fe.prop(e,t,n):(1===o&&fe.isXMLDoc(e)||(i=fe.attrHooks[t.toLowerCase()]||(fe.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void fe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=fe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Se);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?fe.removeAttr(e,n):e.setAttribute(n,n),n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||fe.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return je(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[fe.propFix[e]||e]})}}),fe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,i=fe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this});var vt=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,z(this)))});if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(vt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=fe.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(vt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=fe.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){fe(this).toggleClass(e.call(this,n,z(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=fe(this),o=e.match(Se)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=z(this),t&&qe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":qe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+z(n)+" ").replace(vt," ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g,xt=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=fe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,fe(this).val()):e,null==i?i="":"number"==typeof i?i+="":fe.isArray(i)&&(i=fe.map(i,function(e){return null==e?"":e+""})),(t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=fe.valHooks[i.type]||fe.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(yt,""):null==n?"":n)}}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(xt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&!n.disabled&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=fe.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=fe.inArray(fe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=fe.inArray(fe(e).val(),t)>-1}},ce.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt=/^(?:focusinfocus|focusoutblur)$/;fe.extend(fe.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p=[r||Z],d=se.call(t,"type")?t.type:t,h=se.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!bt.test(d+fe.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[fe.expando]?t:new fe.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:fe.makeArray(n,[t]),f=fe.event.special[d]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!fe.isWindow(r)){for(u=f.delegateType||d,bt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||Z)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(qe.get(a,"events")||{})[t.type]&&qe.get(a,"handle"),c&&c.apply(a,n),(c=l&&a[l])&&c.apply&&Ae(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),n)||!Ae(r)||l&&fe.isFunction(r[d])&&!fe.isWindow(r)&&(s=r[l],s&&(r[l]=null),fe.event.triggered=d,r[d](),fe.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(r,null,t)}}),fe.fn.extend({trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return fe.event.trigger(e,t,n,!0)}}),fe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ce.focusin="onfocusin"in e,ce.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=qe.access(r,t);i||r.addEventListener(e,n,!0),qe.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=qe.access(r,t)-1;i?qe.access(r,t,i):(r.removeEventListener(e,n,!0),qe.remove(r,t))}}});var wt=e.location,Tt=fe.now(),Ct=/\?/;fe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),n};var kt=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,r=[],i=function(e,t){var n=fe.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){i(this.name,this.value)});else for(n in e)X(n,e[n],t,i);return r.join("&")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&Nt.test(this.nodeName)&&!St.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Dt=/%20/g,jt=/#.*$/,At=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,Ft=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=Z.createElement("a");Mt.href=wt.href,fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:Lt.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,fe.ajaxSettings),t):G(fe.ajaxSettings,e)},ajaxPrefilter:U(Ot),ajaxTransport:U(Pt),ajax:function(t,n){function r(t,n,r,s){var l,p,d,b,w,T=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Y(h,C,r)),b=Q(h,b,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(fe.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(fe.etag[o]=w)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,d=b.error,l=!d)):(d=T,!t&&T||(T="error",t<0&&(t=0))),C.status=t,C.statusText=(n||T)+"",l?v.resolveWith(g,[p,T,C]):v.rejectWith(g,[C,T,d]),C.statusCode(x),x=void 0,f&&m.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?p:d]),y.fireWith(g,[C,T]),f&&(m.trigger("ajaxComplete",[C,h]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=fe.ajaxSetup({},n),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?fe(g):fe.event,v=fe.Deferred(),y=fe.Callbacks("once memory"),x=h.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=qt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(v.promise(C),h.url=((t||h.url||wt.href)+"").replace(Ft,wt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Se)||[""],null==h.crossDomain){l=Z.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Mt.protocol+"//"+Mt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=fe.param(h.data,h.traditional)),V(Ot,h,n,C),c)return C;f=fe.event&&h.global,f&&0==fe.active++&&fe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ht.test(h.type),o=h.url.replace(jt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Dt,"+")):(d=h.url.slice(o.length),h.data&&(o+=(Ct.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(At,""),d=(Ct.test(o)?"&":"?")+"_="+Tt+++d),h.url=o+d),h.ifModified&&(fe.lastModified[o]&&C.setRequestHeader("If-Modified-Since",fe.lastModified[o]),fe.etag[o]&&C.setRequestHeader("If-None-Match",fe.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Rt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,C,h)||c))return C.abort();if(T="abort",y.add(h.complete),C.done(h.success),C.fail(h.error),i=V(Pt,h,n,C)){if(C.readyState=1,f&&m.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,i.send(b,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,n,r,i){return fe.isFunction(n)&&(i=i||r,r=n,n=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:i,data:n,success:r},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},fe.fn.extend({wrapAll:function(e){var t;return this[0]&&(fe.isFunction(e)&&(e=e.call(this[0])),t=fe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){fe(this).replaceWith(this.childNodes)}),this}}),fe.expr.pseudos.hidden=function(e){return!fe.expr.pseudos.visible(e)},fe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},fe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var It={0:200,1223:204},Wt=fe.ajaxSettings.xhr();ce.cors=!!Wt&&"withCredentials"in Wt,ce.ajax=Wt=!!Wt,fe.ajaxTransport(function(t){var n,r;if(ce.cors||Wt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(It[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=fe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var $t=[],Bt=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||fe.expando+"_"+Tt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Bt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Bt,"$1"+i):!1!==t.jsonp&&(t.url+=(Ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||fe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?fe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,$t.push(i)),a&&fe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ce.createHTMLDocument=function(){var e=Z.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),fe.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(ce.createHTMLDocument?(t=Z.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=Z.location.href,t.head.appendChild(r)):t=Z),i=be.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=y([e],t,o),o&&o.length&&fe(o).remove(),fe.merge([],i.childNodes))},fe.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=fe.trim(e.slice(s)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&fe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?fe("<div>").append(fe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.pseudos.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=fe.css(e,"position"),f=fe(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=fe.css(e,"top"),u=fe.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=J(i),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===fe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+fe.css(e[0],"borderTopWidth",!0),left:r.left+fe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-fe.css(n,"marginTop",!0),left:t.left-r.left-fe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||Ue})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;fe.fn[e]=function(r){return je(this,function(e,r,i){var o=J(e);if(void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=q(ce.pixelPosition,function(e,n){if(n)return n=A(e,t),nt.test(n)?fe(e).position()[t]+"px":n})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){fe.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return je(this,function(t,n,i){var o;return fe.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?fe.css(t,n,s):fe.style(t,n,i,s)},t,a?i:void 0,a)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var _t=e.jQuery,zt=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=zt),t&&e.jQuery===fe&&(e.jQuery=_t),fe},t||(e.jQuery=e.$=fe),fe});
},{}],86:[function(require,module,exports){
(function(){"use strict";function t(t){function r(t,r){return t>r?1:t<r?-1:r?0:1}var e=t.multiply,i=t.declare({instance:{__printNode:function(r,i){var n=[];t.isUndefinedOrNull(r)?(n.push(e("\t",i)),n.push("~"),console.log(n.join(""))):(this.__printNode(r.right,i+1),n.push(e("\t",i)),n.push(r.data+"\n"),console.log(n.join("")),this.__printNode(r.left,i+1))},constructor:function(t){t=t||{},this.compare=t.compare||r,this.__root=null},insert:function(){throw new Error("Not Implemented")},remove:function(){throw new Error("Not Implemented")},clear:function(){this.__root=null},isEmpty:function(){return!this.__root},traverseWithCondition:function(t,r,e){var n=!0;return t&&(r=r||i.PRE_ORDER,r===i.PRE_ORDER?(n=e(t.data))&&(n=this.traverseWithCondition(t.left,r,e))&&(n=this.traverseWithCondition(t.right,r,e)):r===i.IN_ORDER?(n=this.traverseWithCondition(t.left,r,e))&&(n=e(t.data))&&(n=this.traverseWithCondition(t.right,r,e)):r===i.POST_ORDER?(n=this.traverseWithCondition(t.left,r,e))&&(n&&(n=this.traverseWithCondition(t.right,r,e)),n&&(n=e(t.data))):r===i.REVERSE_ORDER&&(n=this.traverseWithCondition(t.right,r,e))&&(n=e(t.data))&&(n=this.traverseWithCondition(t.left,r,e))),n},traverse:function(t,r,e){t&&(r=r||i.PRE_ORDER,r===i.PRE_ORDER?(e(t.data),this.traverse(t.left,r,e),this.traverse(t.right,r,e)):r===i.IN_ORDER?(this.traverse(t.left,r,e),e(t.data),this.traverse(t.right,r,e)):r===i.POST_ORDER?(this.traverse(t.left,r,e),this.traverse(t.right,r,e),e(t.data)):r===i.REVERSE_ORDER&&(this.traverse(t.right,r,e),e(t.data),this.traverse(t.left,r,e)))},forEach:function(t,r,e){if("function"!=typeof t)throw new TypeError;e=e||i.IN_ORDER,r=r||this,this.traverse(this.__root,e,function(e){t.call(r,e,this)})},map:function(t,r,e){if("function"!=typeof t)throw new TypeError;e=e||i.IN_ORDER,r=r||this;var n=new this._static;return this.traverse(this.__root,e,function(e){n.insert(t.call(r,e,this))}),n},filter:function(t,r,e){if("function"!=typeof t)throw new TypeError;e=e||i.IN_ORDER,r=r||this;var n=new this._static;return this.traverse(this.__root,e,function(e){t.call(r,e,this)&&n.insert(e)}),n},reduce:function(r,e,i){var n=this.toArray(i),o=[n,r];return t.isUndefinedOrNull(e)||o.push(e),t.reduce.apply(t,o)},reduceRight:function(r,e,i){var n=this.toArray(i),o=[n,r];return t.isUndefinedOrNull(e)||o.push(e),t.reduceRight.apply(t,o)},every:function(t,r,e){if("function"!=typeof t)throw new TypeError;e=e||i.IN_ORDER,r=r||this;var n=!1;return this.traverseWithCondition(this.__root,e,function(e){return n=t.call(r,e,this)}),n},some:function(t,r,e){if("function"!=typeof t)throw new TypeError;e=e||i.IN_ORDER,r=r||this;var n;return this.traverseWithCondition(this.__root,e,function(e){return!(n=t.call(r,e,this))}),n},toArray:function(t){t=t||i.IN_ORDER;var r=[];return this.traverse(this.__root,t,function(t){r.push(t)}),r},contains:function(t){for(var r=!1,e=this.__root;null!==e;){var i=this.compare(t,e.data);i?e=e[-1===i?"left":"right"]:(r=!0,e=null)}return r},find:function(t){for(var r,e=this.__root;e;){var i=this.compare(t,e.data);if(!i){r=e.data;break}e=e[-1===i?"left":"right"]}return r},findLessThan:function(t,r){var e=[],n=this.compare;return this.traverseWithCondition(this.__root,i.IN_ORDER,function(i){var o=n(t,i);return(!r&&0===o||1===o)&&(e.push(i),!0)}),e},findGreaterThan:function(t,r){var e=[],n=this.compare;return this.traverse(this.__root,i.REVERSE_ORDER,function(i){var o=n(t,i);return(!r&&0===o||-1===o)&&(e.push(i),!0)}),e},print:function(){this.__printNode(this.__root,0)}},static:{PRE_ORDER:"pre_order",IN_ORDER:"in_order",POST_ORDER:"post_order",REVERSE_ORDER:"reverse_order"}}),n=function(){function t(t,r,e){var i=t.__root;if(null===i||void 0===i)t.__root=o(r);else{for(var a,l=i,s=[],f=[],u=0;;){if(a=s[u]=-1===e(r,l.data)?"left":"right",f[u++]=l,!l[a]){l[a]=o(r);break}l=l[a]}if(!l[a])return null;for(;--u>=0&&(f[u].balance+="right"===s[u]?-1:1,0!==f[u].balance);)if(n(f[u].balance)>1){f[u]=h(f[u],s[u]),0!==u?f[u-1][s[u-1]]=f[u]:t.__root=f[0];break}}}function r(t,r,e){var i=t.__root;if(null!==i&&void 0!==i){for(var o,a,l=i,s=0,h=[],u=[],d={done:!1};;){if(!l)return;if(0===(a=e(r,l.data)))break;o=u[s]=-1===a?"left":"right",h[s++]=l,l=l[o]}var c=l.left,_=l.right;if(c&&_){var v=c;for(u[s]="left",h[s++]=l;v.right;)u[s]="right",h[s++]=v,v=v.right;l.data=v.data,h[s-1][h[s-1]===l?"left":"right"]=v.left}else o=c?"left":"right",0!==s?h[s-1][u[s-1]]=l[o]:t.__root=l[o];for(;--s>=0&&!d.done&&(h[s].balance+="left"===u[s]?-1:1,1!==n(h[s].balance));)n(h[s].balance)>1&&(h[s]=f(h[s],u[s],d),0!==s?h[s-1][u[s-1]]=h[s]:t.__root=h[0])}}var n=Math.abs,o=function(t){return{data:t,balance:0,left:null,right:null}},a=function(t,r,e){var i=t[e];return t[e]=i[r],i[r]=t,i},l=function(t,r,e){return t[e]=a(t[e],e,r),a(t,r,e)},s=function(t,r,e){var i="left"===r?"right":"left",n=t[r],o=n[i];0===o.balance?t.balance=n.balance=0:o.balance===e?(t.balance=-e,n.balance=0):(t.balance=0,n.balance=e),o.balance=0},h=function(t,r){var e="left"===r?"right":"left",i=t[r],n="right"===r?-1:1;return i.balance===n?(t.balance=i.balance=0,t=a(t,e,r)):(s(t,r,n),t=l(t,e,r)),t},f=function(t,r,e){var i="left"===r?"right":"left",n=t[i],o="right"===r?-1:1;return n.balance===-o?(t.balance=n.balance=0,t=a(t,r,i)):n.balance===o?(s(t,i,-o),t=l(t,r,i)):(t.balance=-o,n.balance=o,t=a(t,r,i),e.done=!0),t};return i.extend({instance:{insert:function(r){t(this,r,this.compare)},remove:function(t){r(this,t,this.compare)},__printNode:function(t,r){var i=[];t?(this.__printNode(t.right,r+1),i.push(e("\t",r)),i.push(t.data+":"+t.balance+"\n"),console.log(i.join("")),this.__printNode(t.left,r+1)):(i.push(e("\t",r)),i.push("~"),console.log(i.join("")))}}})}(),o=function(){function t(t,r){return{data:t,level:r,left:a,right:a}}function r(t){if(0!==t.level&&t.left.level===t.level){var r=t.left;t.left=r.right,r.right=t,t=r}return t}function n(t){if(0!==t.level&&t.right.right.level===t.level){var r=t.right;t.right=r.left,r.left=t,t=r,t.level++}return t}function o(e,i,l){if(e===a)e=t(i,1);else{var s=-1===l(i,e.data)?"left":"right";e[s]=o(e[s],i,l),e=r(e),e=n(e)}return e}var a={level:0,data:null},l=function(t,e,i){var o,s;if(t!==a){var h=i(e,t.data);if(0===h)if(o=t.left,s=t.right,o!==a&&s!==a){for(var f=o;f.right!==a;)f=f.right;t.data=f.data,t.left=l(o,f.data,i)}else t=t[o===a?"right":"left"];else{var u=-1===h?"left":"right";t[u]=l(t[u],e,i)}}if(t!==a){var d=t.level,c=t.left.level,_=t.right.level;(c<d-1||_<d-1)&&(_>--t.level&&(t.right.level=t.level),t=r(t),t=n(t))}return t};return i.extend({instance:{isEmpty:function(){return this.__root===a||this._super(arguments)},insert:function(t){this.__root||(this.__root=a),this.__root=o(this.__root,t,this.compare)},remove:function(t){this.__root=l(this.__root,t,this.compare)},traverseWithCondition:function(t){return t===a||this._super(arguments)},traverse:function(t){t!==a&&this._super(arguments)},contains:function(){return this.__root!==a&&this._super(arguments)},__printNode:function(t,r){var i=[];t&&t.data?(this.__printNode(t.right,r+1),i.push(e("\t",r)),i.push(t.data+":"+t.level+"\n"),console.log(i.join("")),this.__printNode(t.left,r+1)):(i.push(e("\t",r)),i.push("~"),console.log(i.join("")))}}})}(),a=i.extend({instance:{insert:function(t){if(!this.__root)return this.__root={data:t,parent:null,left:null,right:null},this.__root;for(var r=this.compare,e=this.__root;null!==e;){var i=r(t,e.data);if(!i)return;var n=-1===i?"left":"right",o=e[n];if(!o)return e[n]={data:t,parent:e,left:null,right:null};e=o}},remove:function(t){if(null!==this.__root){for(var r,e={right:this.__root},i=e,n=null,o="right";null!==i[o];){r=i,i=i[o];var a=this.compare(t,i.data);a||(n=i),o=-1===a?"left":"right"}null!==n&&(n.data=i.data,r[r.right===i?"right":"left"]=i[null===i.left?"right":"left"]),this.__root=e.right}}}}),l=function(){var t=function(t){return null!==t&&t.red},r=function(t){return{data:t,red:!0,left:null,right:null}},n=function(e,i,l){if(!e)return r(i);var s=l(i,e.data);if(s){var h=-1===s?"left":"right",f="left"===h?"right":"left";e[h]=n(e[h],i,l);var u=e[h];if(t(u)){var d=e[f];t(d)?(e.red=!0,u.red=!1,d.red=!1):t(u[h])?e=o(e,f):t(u[f])&&(e=a(e,f))}}return e},o=function(t,r){var e="left"===r?"right":"left",i=t[e];return t[e]=i[r],i[r]=t,t.red=!0,i.red=!1,i},a=function(t,r){var e="left"===r?"right":"left";return t[e]=o(t[e],e),o(t,r)},l=function(r,e,i,n){if(r){var o;if(0===n(e,r.data)){if(!r.left||!r.right){var a=r[r.left?"left":"right"];return t(r)?i.done=!0:t(a)&&(a.red=!1,i.done=!0),a}for(var h,f=r.right;null!==f.left;)h=f,f=f.left;h&&(h.left=null),r.data=f.data,e=f.data}o=-1===n(e,r.data)?"left":"right",r[o]=l(r[o],e,i,n),i.done||(r=s(r,o,i))}else i.done=!0;return r},s=function(r,e,i){var n="left"===e?"right":"left",l=r,s=l[n];if(t(s)&&(r=o(r,e),s=l[n]),null!==s)if(t(s.left)||t(s.right)){var h=l.red,f=r===l;l=(t(s[n])?o:a)(l,e),l.red=h,l.left.red=l.right.red=0,f?r=l:r[e]=l,i.done=!0}else t(l)&&(i.done=!0),l.red=0,s.red=1;return r};return i.extend({instance:{insert:function(t){this.__root=n(this.__root,t,this.compare),this.__root.red=!1},remove:function(t){var r={done:!1},e=l(this.__root,t,r,this.compare);return null!==e&&(e.red=0),this.__root=e,t},__printNode:function(t,r){var i=[];t?(this.__printNode(t.right,r+1),i.push(e("\t",r)),i.push((t.red?"RED":"BLACK")+":"+t.data+"\n"),console.log(i.join("")),this.__printNode(t.left,r+1)):(i.push(e("\t",r)),i.push("~"),console.log(i.join("")))}}})}();return{Tree:i,AVLTree:n,AnderssonTree:o,BinaryTree:a,RedBlackTree:l,IN_ORDER:i.IN_ORDER,PRE_ORDER:i.PRE_ORDER,POST_ORDER:i.POST_ORDER,REVERSE_ORDER:i.REVERSE_ORDER}}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=t(require("extended")().register("declare",require("declare.js")).register(require("is-extended")).register(require("array-extended")).register(require("string-extended")))):"function"==typeof define?define(["extended","declare.js","is-extended","array-extended","string-extended"],function(r,e,i,n,o){return t(r().register("declare",e).register(i).register(n).register(o))}):this.leafy=t(this.extended().register("declare",this.declare).register(this.isExtended).register(this.arrayExtended).register(this.stringExtended))}).call(this);
},{"array-extended":6,"declare.js":54,"extended":55,"is-extended":81,"string-extended":139}],87:[function(require,module,exports){
(function (global){
(function(){function n(n,t){return n.set(t[0],t[1]),n}function t(n,t){return n.add(t),n}function r(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function e(n,t,r,e){for(var u=-1,i=n?n.length:0;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function u(n,t){for(var r=-1,e=n?n.length:0;++r<e&&!1!==t(n[r],r,n););return n}function i(n,t){for(var r=n?n.length:0;r--&&!1!==t(n[r],r,n););return n}function o(n,t){for(var r=-1,e=n?n.length:0;++r<e;)if(!t(n[r],r,n))return!1;return!0}function f(n,t){for(var r=-1,e=n?n.length:0,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function a(n,t){return!!(n?n.length:0)&&y(n,t,0)>-1}function c(n,t,r){for(var e=-1,u=n?n.length:0;++e<u;)if(r(t,n[e]))return!0;return!1}function l(n,t){for(var r=-1,e=n?n.length:0,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function s(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function h(n,t,r,e){var u=-1,i=n?n.length:0;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function p(n,t,r,e){var u=n?n.length:0;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function _(n,t){for(var r=-1,e=n?n.length:0;++r<e;)if(t(n[r],r,n))return!0;return!1}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){if(t!==t)return $(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function d(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n,t){var r=n?n.length:0;return r?m(n,t)/r:mn}function w(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function x(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function m(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==K&&(r=r===K?i:r+i)}return r}function j(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function A(n,t){return l(t,function(t){return[t,n[t]]})}function O(n){return function(t){return n(t)}}function k(n,t){return l(t,function(t){return n[t]})}function I(n,t){return n.has(t)}function R(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function E(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function S(n){return n&&n.Object===Object?n:null}function W(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&e++;return e}function L(n){return rr[n]}function C(n){return er[n]}function B(n){return"\\"+ir[n]}function z(n,t){return null==n?K:n[t]}function $(n,t,r){for(var e=n.length,u=t+(r?1:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function U(n){var t=!1;if(null!=n&&"function"!=typeof n.toString)try{t=!!(n+"")}catch(n){}return t}function F(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function M(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function D(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==Q||(n[r]=Q,i[u++]=r)}return i}function P(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function N(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function T(n){if(!n||!Yt.test(n))return n.length;for(var t=Gt.lastIndex=0;Gt.test(n);)t++;return t}function q(n){return n.match(Gt)}function Z(n){return ur[n]}function V(S){function Wt(n){if(bf(n)&&!ys(n)&&!(n instanceof Bt)){if(n instanceof Ct)return n;if(Sc.call(n,"__wrapped__"))return si(n)}return new Ct(n)}function Lt(){}function Ct(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=K}function Bt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jn,this.__views__=[]}function zt(){var n=new Bt(this.__wrapped__);return n.__actions__=ru(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=ru(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=ru(this.__views__),n}function $t(){if(this.__filtered__){var n=new Bt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Ut(){var n=this.__wrapped__.value(),t=this.__dir__,r=ys(n),e=t<0,u=r?n.length:0,i=Nu(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=nl(a,this.__takeCount__);if(!r||u<J||u==a&&p==a)return Ue(n,this.__actions__);var _=[];n:for(;a--&&h<p;){c+=t;for(var v=-1,g=n[c];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==yn)g=w;else if(!w){if(b==gn)continue n;break n}}_[h++]=g}return _}function Ft(n){var t=-1,r=n?n.length:0;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Mt(){this.__data__=sl?sl(null):{}}function Dt(n){return this.has(n)&&delete this.__data__[n]}function Pt(n){var t=this.__data__;if(sl){var r=t[n];return r===H?K:r}return Sc.call(t,n)?t[n]:K}function Nt(n){var t=this.__data__;return sl?t[n]!==K:Sc.call(t,n)}function Tt(n,t){return this.__data__[n]=sl&&t===K?H:t,this}function qt(n){var t=-1,r=n?n.length:0;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Zt(){this.__data__=[]}function Gt(n){var t=this.__data__,r=Rr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Zc.call(t,r,1),!0)}function rr(n){var t=this.__data__,r=Rr(t,n);return r<0?K:t[r][1]}function er(n){return Rr(this.__data__,n)>-1}function ur(n,t){var r=this.__data__,e=Rr(r,n);return e<0?r.push([n,t]):r[e][1]=t,this}function ir(n){var t=-1,r=n?n.length:0;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function ar(){this.__data__={hash:new Ft,map:new(fl||qt),string:new Ft}}function cr(n){return $u(this,n).delete(n)}function sr(n){return $u(this,n).get(n)}function hr(n){return $u(this,n).has(n)}function pr(n,t){return $u(this,n).set(n,t),this}function gr(n){var t=-1,r=n?n.length:0;for(this.__data__=new ir;++t<r;)this.add(n[t])}function yr(n){return this.__data__.set(n,H),this}function dr(n){return this.__data__.has(n)}function br(n){this.__data__=new qt(n)}function wr(){this.__data__=new qt}function xr(n){return this.__data__.delete(n)}function mr(n){return this.__data__.get(n)}function jr(n){return this.__data__.has(n)}function Ar(n,t){var r=this.__data__;return r instanceof qt&&r.__data__.length==J&&(r=this.__data__=new ir(r.__data__)),r.set(n,t),this}function Or(n,t,r,e){return n===K||tf(n,Oc[r])&&!Sc.call(e,r)?t:n}function kr(n,t,r){(r===K||tf(n[t],r))&&("number"!=typeof t||r!==K||t in n)||(n[t]=r)}function Ir(n,t,r){var e=n[t];Sc.call(n,t)&&tf(e,r)&&(r!==K||t in n)||(n[t]=r)}function Rr(n,t){for(var r=n.length;r--;)if(tf(n[r][0],t))return r;return-1}function Er(n,t,r,e){return jl(n,function(n,u,i){t(e,n,r(n),i)}),e}function Sr(n,t){return n&&eu(t,ua(t),n)}function Wr(n,t){for(var r=-1,e=null==n,u=t.length,i=Array(u);++r<u;)i[r]=e?K:ta(n,t[r]);return i}function Lr(n,t,r){return n===n&&(r!==K&&(n=n<=r?n:r),t!==K&&(n=n>=t?n:t)),n}function Cr(n,t,r,e,i,o,f){var a;if(e&&(a=o?e(n,i,o,f):e(n)),a!==K)return a;if(!df(n))return n;var c=ys(n);if(c){if(a=qu(n),!t)return ru(n,a)}else{var l=Pu(n),s=l==Wn||l==Ln;if(ds(n))return qe(n,t);if(l==zn||l==kn||s&&!o){if(U(n))return o?n:{};if(a=Zu(s?{}:n),!t)return uu(n,Sr(a,n))}else{if(!tr[l])return o?n:{};a=Vu(n,l,Cr,t)}}f||(f=new br);var h=f.get(n);if(h)return h;if(f.set(n,a),!c)var p=r?Wu(n):ua(n);return u(p||n,function(u,i){p&&(i=u,u=n[i]),Ir(a,i,Cr(u,t,r,e,i,n,f))}),a}function Br(n){var t=ua(n),r=t.length;return function(e){if(null==e)return!r;for(var u=r;u--;){var i=t[u],o=n[i],f=e[i];if(f===K&&!(i in Object(e))||!o(f))return!1}return!0}}function zr(n){return df(n)?Tc(n):{}}function $r(n,t,r){if("function"!=typeof n)throw new jc(Y);return Vc(function(){n.apply(K,r)},t)}function Ur(n,t,r,e){var u=-1,i=a,o=!0,f=n.length,s=[],h=t.length;if(!f)return s;r&&(t=l(t,O(r))),e?(i=c,o=!1):t.length>=J&&(i=I,o=!1,t=new gr(t));n:for(;++u<f;){var p=n[u],_=r?r(p):p;if(p=e||0!==p?p:0,o&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function Fr(n,t){var r=!0;return jl(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Mr(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===K?o===o&&!Cf(o):r(o,f)))var f=o,a=i}return a}function Dr(n,t,r,e){var u=n.length;for(r=Df(r),r<0&&(r=-r>u?0:u+r),e=e===K||e>u?u:Df(e),e<0&&(e+=u),e=r>e?0:Pf(e);r<e;)n[r++]=t;return n}function Pr(n,t){var r=[];return jl(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Nr(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Gu),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?Nr(f,t-1,r,e,u):s(u,f):e||(u[u.length]=f)}return u}function Tr(n,t){return n&&Ol(n,t,ua)}function qr(n,t){return n&&kl(n,t,ua)}function Zr(n,t){return f(t,function(t){return vf(n[t])})}function Vr(n,t){t=Qu(t,n)?[t]:Ne(t);for(var r=0,e=t.length;null!=n&&r<e;)n=n[ci(t[r++])];return r&&r==e?n:K}function Kr(n,t,r){var e=t(n);return ys(n)?e:s(e,r(n))}function Gr(n,t){return n>t}function Jr(n,t){return null!=n&&(Sc.call(n,t)||"object"==typeof n&&t in n&&null===Mu(n))}function Yr(n,t){return null!=n&&t in Object(n)}function Hr(n,t,r){return n>=nl(t,r)&&n<Xc(t,r)}function Qr(n,t,r){for(var e=r?c:a,u=n[0].length,i=n.length,o=i,f=Array(i),s=1/0,h=[];o--;){var p=n[o];o&&t&&(p=l(p,O(t))),s=nl(p.length,s),f[o]=!r&&(t||u>=120&&p.length>=120)?new gr(o&&p):K}p=n[0];var _=-1,v=f[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?I(v,y):e(h,y,r))){for(o=i;--o;){var d=f[o];if(!(d?I(d,y):e(n[o],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function Xr(n,t,r,e){return Tr(n,function(n,u,i){t(e,r(n),u,i)}),e}function ne(n,t,e){Qu(t,n)||(t=Ne(t),n=fi(n,t),t=Si(t));var u=null==n?n:n[ci(t)];return null==u?K:r(u,n,e)}function te(n,t,r,e,u){return n===t||(null==n||null==t||!df(n)&&!bf(t)?n!==n&&t!==t:re(n,t,te,r,e,u))}function re(n,t,r,e,u,i){var o=ys(n),f=ys(t),a=In,c=In;o||(a=Pu(n),a=a==kn?zn:a),f||(c=Pu(t),c=c==kn?zn:c);var l=a==zn&&!U(n),s=c==zn&&!U(t),h=a==c;if(h&&!l)return i||(i=new br),o||Bf(n)?Ru(n,t,r,e,u,i):Eu(n,t,a,r,e,u,i);if(!(u&sn)){var p=l&&Sc.call(n,"__wrapped__"),_=s&&Sc.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new br),r(v,g,e,u,i)}}return!!h&&(i||(i=new br),Su(n,t,r,e,u,i))}function ee(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=Object(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var a=f[0],c=n[a],l=f[1];if(o&&f[2]){if(c===K&&!(a in n))return!1}else{var s=new br;if(e)var h=e(c,l,a,n,t,s);if(!(h===K?te(l,c,e,ln|sn,s):h))return!1}}return!0}function ue(n){return!(!df(n)||ti(n))&&(vf(n)||U(n)?zc:Ot).test(li(n))}function ie(n){return"function"==typeof n?n:null==n?Ka:"object"==typeof n?ys(n)?se(n[0],n[1]):le(n):tc(n)}function oe(n){return Qc(Object(n))}function fe(n){n=null==n?n:Object(n);var t=[];for(var r in n)t.push(r);return t}function ae(n,t){return n<t}function ce(n,t){var r=-1,e=uf(n)?Array(n.length):[];return jl(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function le(n){var t=Uu(n);return 1==t.length&&t[0][2]?ui(t[0][0],t[0][1]):function(r){return r===n||ee(r,n,t)}}function se(n,t){return Qu(n)&&ei(t)?ui(ci(n),t):function(r){var e=ta(r,n);return e===K&&e===t?ea(r,n):te(t,e,K,ln|sn)}}function he(n,t,r,e,i){if(n!==t){if(!ys(t)&&!Bf(t))var o=ia(t);u(o||t,function(u,f){if(o&&(f=u,u=t[f]),df(u))i||(i=new br),pe(n,t,f,r,he,e,i);else{var a=e?e(n[f],u,f+"",n,t,i):K;a===K&&(a=u),kr(n,f,a)}})}}function pe(n,t,r,e,u,i,o){var f=n[r],a=t[r],c=o.get(a);if(c)return void kr(n,r,c);var l=i?i(f,a,r+"",n,t,o):K,s=l===K;s&&(l=a,ys(a)||Bf(a)?ys(f)?l=f:of(f)?l=ru(f):(s=!1,l=Cr(a,!0)):Rf(a)||rf(a)?rf(f)?l=Tf(f):!df(f)||e&&vf(f)?(s=!1,l=Cr(a,!0)):l=f:s=!1),o.set(a,l),s&&u(l,a,e,i,o),o.delete(a),kr(n,r,l)}function _e(n,t){var r=n.length;if(r)return t+=t<0?r:0,Yu(t,r)?n[t]:K}function ve(n,t,r){var e=-1;return t=l(t.length?t:[Ka],O(zu())),x(ce(n,function(n,r,u){return{criteria:l(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return Xe(n,t,r)})}function ge(n,t){return n=Object(n),h(t,function(t,r){return r in n&&(t[r]=n[r]),t},{})}function ye(n,t){for(var r=-1,e=Lu(n),u=e.length,i={};++r<u;){var o=e[r],f=n[o];t(f,o)&&(i[o]=f)}return i}function de(n){return function(t){return null==t?K:t[n]}}function be(n){return function(t){return Vr(t,n)}}function we(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=ru(t)),r&&(f=l(n,O(r)));++i<o;)for(var a=0,c=t[i],s=r?r(c):c;(a=u(f,s,a,e))>-1;)f!==n&&Zc.call(f,a,1),Zc.call(n,a,1);return n}function xe(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;if(Yu(u))Zc.call(n,u,1);else if(Qu(u,n))delete n[ci(u)];else{var o=Ne(u),f=fi(n,o);null!=f&&delete f[ci(Si(o))]}}}return n}function me(n,t){return n+Gc(rl()*(t-n+1))}function je(n,t,r,e){for(var u=-1,i=Xc(Kc((t-n)/(r||1)),0),o=Array(i);i--;)o[e?i:++u]=n,n+=r;return o}function Ae(n,t){var r="";if(!n||t<1||t>wn)return r;do{t%2&&(r+=n),(t=Gc(t/2))&&(n+=n)}while(t);return r}function Oe(n,t,r,e){t=Qu(t,n)?[t]:Ne(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=ci(t[u]);if(df(f)){var c=r;if(u!=o){var l=f[a];c=e?e(l,a,f):K,c===K&&(c=null==l?Yu(t[u+1])?[]:{}:l)}Ir(f,a,c)}f=f[a]}return n}function ke(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(u);++e<u;)i[e]=n[e+t];return i}function Ie(n,t){var r;return jl(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Re(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=On){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!Cf(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return Ee(n,t,Ka,r)}function Ee(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=Cf(t),c=t===K;u<i;){var l=Gc((u+i)/2),s=r(n[l]),h=s!==K,p=null===s,_=s===s,v=Cf(s);if(o)var g=e||_;else g=c?_&&(e||h):f?_&&h&&(e||!p):a?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return nl(i,An)}function Se(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!tf(f,a)){var a=f;i[u++]=0===o?0:o}}return i}function We(n){return"number"==typeof n?n:Cf(n)?mn:+n}function Le(n){if("string"==typeof n)return n;if(Cf(n))return ml?ml.call(n):"";var t=n+"";return"0"==t&&1/n==-bn?"-0":t}function Ce(n,t,r){var e=-1,u=a,i=n.length,o=!0,f=[],l=f;if(r)o=!1,u=c;else if(i>=J){var s=t?null:Rl(n);if(s)return P(s);o=!1,u=I,l=new gr}else l=t?[]:f;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,o&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),f.push(h)}else u(l,p,r)||(l!==f&&l.push(p),f.push(h))}return f}function Be(n,t){t=Qu(t,n)?[t]:Ne(t),n=fi(n,t);var r=ci(Si(t));return!(null!=n&&Jr(n,r))||delete n[r]}function ze(n,t,r,e){return Oe(n,t,r(Vr(n,t)),e)}function $e(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?ke(n,e?0:i,e?i+1:u):ke(n,e?i+1:0,e?u:i)}function Ue(n,t){var r=n;return r instanceof Bt&&(r=r.value()),h(t,function(n,t){return t.func.apply(t.thisArg,s([n],t.args))},r)}function Fe(n,t,r){for(var e=-1,u=n.length;++e<u;)var i=i?s(Ur(i,n[e],t,r),Ur(n[e],i,t,r)):n[e];return i&&i.length?Ce(i,t,r):[]}function Me(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:K;r(o,n[e],f)}return o}function De(n){return of(n)?n:[]}function Pe(n){return"function"==typeof n?n:Ka}function Ne(n){return ys(n)?n:Bl(n)}function Te(n,t,r){var e=n.length;return r=r===K?e:r,!t&&r>=e?n:ke(n,t,r)}function qe(n,t){if(t)return n.slice();var r=new n.constructor(n.length);return n.copy(r),r}function Ze(n){var t=new n.constructor(n.byteLength);return new Mc(t).set(new Mc(n)),t}function Ve(n,t){var r=t?Ze(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function Ke(t,r,e){return h(r?e(M(t),!0):M(t),n,new t.constructor)}function Ge(n){var t=new n.constructor(n.source,xt.exec(n));return t.lastIndex=n.lastIndex,t}function Je(n,r,e){return h(r?e(P(n),!0):P(n),t,new n.constructor)}function Ye(n){return xl?Object(xl.call(n)):{}}function He(n,t){var r=t?Ze(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Qe(n,t){if(n!==t){var r=n!==K,e=null===n,u=n===n,i=Cf(n),o=t!==K,f=null===t,a=t===t,c=Cf(t);if(!f&&!c&&!i&&n>t||i&&o&&a&&!f&&!c||e&&o&&a||!r&&a||!u)return 1;if(!e&&!i&&!c&&n<t||c&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!a)return-1}return 0}function Xe(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var a=Qe(u[e],i[e]);if(a){if(e>=f)return a;return a*("desc"==r[e]?-1:1)}}return n.index-t.index}function nu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,a=t.length,c=Xc(i-o,0),l=Array(a+c),s=!e;++f<a;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;c--;)l[f++]=n[u++];return l}function tu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,a=-1,c=t.length,l=Xc(i-f,0),s=Array(l+c),h=!e;++u<l;)s[u]=n[u];for(var p=u;++a<c;)s[p+a]=t[a];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function ru(n,t){var r=-1,e=n.length;for(t||(t=Array(e));++r<e;)t[r]=n[r];return t}function eu(n,t,r,e){r||(r={});for(var u=-1,i=t.length;++u<i;){var o=t[u];Ir(r,o,e?e(r[o],n[o],o,r,n):n[o])}return r}function uu(n,t){return eu(n,Du(n),t)}function iu(n,t){return function(r,u){var i=ys(r)?e:Er,o=t?t():{};return i(r,n,zu(u),o)}}function ou(n){return Zo(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:K,o=u>2?r[2]:K;for(i=n.length>3&&"function"==typeof i?(u--,i):K,o&&Hu(r[0],r[1],o)&&(i=u<3?K:i,u=1),t=Object(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function fu(n,t){return function(r,e){if(null==r)return r;if(!uf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=Object(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function au(n){return function(t,r,e){for(var u=-1,i=Object(t),o=e(t),f=o.length;f--;){var a=o[n?f:++u];if(!1===r(i[a],a,i))break}return t}}function cu(n,t,r){function e(){return(this&&this!==_r&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&X,i=hu(n);return e}function lu(n){return function(t){t=Zf(t);var r=Yt.test(t)?q(t):K,e=r?r[0]:t.charAt(0),u=r?Te(r,1).join(""):t.slice(1);return e[n]()+u}}function su(n){return function(t){return h(Ta(ja(t).replace(Vt,"")),n,"")}}function hu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=zr(n.prototype),e=n.apply(r,t);return df(e)?e:r}}function pu(n,t,e){function u(){for(var o=arguments.length,f=Array(o),a=o,c=Bu(u);a--;)f[a]=arguments[a];var l=o<3&&f[0]!==c&&f[o-1]!==c?[]:D(f,c);return(o-=l.length)<e?Au(n,t,gu,u.placeholder,K,f,l,K,K,e-o):r(this&&this!==_r&&this instanceof u?i:n,this,f)}var i=hu(n);return u}function _u(n){return function(t,r,e){var u=Object(t);if(r=zu(r,3),!uf(t))var i=ua(t);var o=n(i||t,function(n,t){return i&&(t=n,n=u[t]),r(n,t,u)},e);return o>-1?t[i?i[o]:o]:K}}function vu(n){return Zo(function(t){t=Nr(t,1);var r=t.length,e=r,u=Ct.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new jc(Y);if(u&&!o&&"wrapper"==Cu(i))var o=new Ct([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=Cu(i),a="wrapper"==f?El(i):K;o=a&&ni(a[0])&&a[1]==(fn|rn|un|an)&&!a[4].length&&1==a[9]?o[Cu(a[0])].apply(o,a[3]):1==i.length&&ni(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&ys(e)&&e.length>=J)return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function gu(n,t,r,e,u,i,o,f,a,c){function l(){for(var y=arguments.length,d=Array(y),b=y;b--;)d[b]=arguments[b];if(_)var w=Bu(l),x=W(d,w);if(e&&(d=nu(d,e,u,_)),i&&(d=tu(d,i,o,_)),y-=x,_&&y<c){var m=D(d,w);return Au(n,t,gu,l.placeholder,r,d,m,f,a,c-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=ai(d,f):v&&y>1&&d.reverse(),s&&a<y&&(d.length=a),this&&this!==_r&&this instanceof l&&(A=g||hu(A)),A.apply(j,d)}var s=t&fn,h=t&X,p=t&nn,_=t&(rn|en),v=t&cn,g=p?K:hu(n);return l}function yu(n,t){return function(r,e){return Xr(r,n,t(e),{})}}function du(n){return function(t,r){var e;if(t===K&&r===K)return 0;if(t!==K&&(e=t),r!==K){if(e===K)return r;"string"==typeof t||"string"==typeof r?(t=Le(t),r=Le(r)):(t=We(t),r=We(r)),e=n(t,r)}return e}}function bu(n){return Zo(function(t){return t=1==t.length&&ys(t[0])?l(t[0],O(zu())):l(Nr(t,1,Ju),O(zu())),Zo(function(e){var u=this;return n(t,function(n){return r(n,u,e)})})})}function wu(n,t){t=t===K?" ":Le(t);var r=t.length;if(r<2)return r?Ae(t,n):t;var e=Ae(t,Kc(n/T(t)));return Yt.test(t)?Te(q(e),0,n).join(""):e.slice(0,n)}function xu(n,t,e,u){function i(){for(var t=-1,a=arguments.length,c=-1,l=u.length,s=Array(l+a),h=this&&this!==_r&&this instanceof i?f:n;++c<l;)s[c]=u[c];for(;a--;)s[c++]=arguments[++t];return r(h,o?e:this,s)}var o=t&X,f=hu(n);return i}function mu(n){return function(t,r,e){return e&&"number"!=typeof e&&Hu(t,r,e)&&(r=e=K),t=Nf(t),t=t===t?t:0,r===K?(r=t,t=0):r=Nf(r)||0,e=e===K?t<r?1:-1:Nf(e)||0,je(t,r,e,n)}}function ju(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Nf(t),r=Nf(r)),n(t,r)}}function Au(n,t,r,e,u,i,o,f,a,c){var l=t&rn,s=l?o:K,h=l?K:o,p=l?i:K,_=l?K:i;t|=l?un:on,(t&=~(l?on:un))&tn||(t&=~(X|nn));var v=[n,t,u,p,s,_,h,f,a,c],g=r.apply(K,v);return ni(n)&&Cl(g,v),g.placeholder=e,g}function Ou(n){var t=xc[n];return function(n,r){if(n=Nf(n),r=nl(Df(r),292)){var e=(Zf(n)+"e").split("e");return e=(Zf(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ku(n){return function(t){var r=Pu(t);return r==Cn?M(t):r==Fn?N(t):A(t,n(t))}}function Iu(n,t,r,e,u,i,o,f){var a=t&nn;if(!a&&"function"!=typeof n)throw new jc(Y);var c=e?e.length:0;if(c||(t&=~(un|on),e=u=K),o=o===K?o:Xc(Df(o),0),f=f===K?f:Df(f),c-=u?u.length:0,t&on){var l=e,s=u;e=u=K}var h=a?K:El(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&ii(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=null==p[9]?a?0:n.length:Xc(p[9]-c,0),!f&&t&(rn|en)&&(t&=~(rn|en)),t&&t!=X)_=t==rn||t==en?pu(n,t,f):t!=un&&t!=(X|un)||u.length?gu.apply(K,p):xu(n,t,r,e);else var _=cu(n,t,r);return(h?Il:Cl)(_,p)}function Ru(n,t,r,e,u,i){var o=u&sn,f=n.length,a=t.length;if(f!=a&&!(o&&a>f))return!1;var c=i.get(n);if(c)return c==t;var l=-1,s=!0,h=u&ln?new gr:K;for(i.set(n,t);++l<f;){var p=n[l],v=t[l];if(e)var g=o?e(v,p,l,t,n,i):e(p,v,l,n,t,i);if(g!==K){if(g)continue;s=!1;break}if(h){if(!_(t,function(n,t){if(!h.has(t)&&(p===n||r(p,n,e,u,i)))return h.add(t)})){s=!1;break}}else if(p!==v&&!r(p,v,e,u,i)){s=!1;break}}return i.delete(n),s}function Eu(n,t,r,e,u,i,o){switch(r){case qn:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case Tn:return!(n.byteLength!=t.byteLength||!e(new Mc(n),new Mc(t)));case Rn:case En:return+n==+t;case Sn:return n.name==t.name&&n.message==t.message;case Bn:return n!=+n?t!=+t:n==+t;case Un:case Mn:return n==t+"";case Cn:var f=M;case Fn:var a=i&sn;if(f||(f=P),n.size!=t.size&&!a)return!1;var c=o.get(n);return c?c==t:(i|=ln,o.set(n,t),Ru(f(n),f(t),e,u,i,o));case Dn:if(xl)return xl.call(n)==xl.call(t)}return!1}function Su(n,t,r,e,u,i){var o=u&sn,f=ua(n),a=f.length;if(a!=ua(t).length&&!o)return!1;for(var c=a;c--;){var l=f[c];if(!(o?l in t:Jr(t,l)))return!1}var s=i.get(n);if(s)return s==t;var h=!0;i.set(n,t);for(var p=o;++c<a;){l=f[c];var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(!(g===K?_===v||r(_,v,e,u,i):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=n.constructor,d=t.constructor;y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d)&&(h=!1)}return i.delete(n),h}function Wu(n){return Kr(n,ua,Du)}function Lu(n){return Kr(n,ia,Wl)}function Cu(n){for(var t=n.name+"",r=_l[t],e=Sc.call(_l,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Bu(n){return(Sc.call(Wt,"placeholder")?Wt:n).placeholder}function zu(){var n=Wt.iteratee||Ga;return n=n===Ga?ie:n,arguments.length?n(arguments[0],arguments[1]):n}function $u(n,t){var r=n.__data__;return Xu(t)?r["string"==typeof t?"string":"hash"]:r.map}function Uu(n){for(var t=ua(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,ei(u)]}return t}function Fu(n,t){var r=z(n,t);return ue(r)?r:K}function Mu(n){return Jc(Object(n))}function Du(n){return Pc(Object(n))}function Pu(n){return Cc.call(n)}function Nu(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=nl(t,n+o);break;case"takeRight":n=Xc(n,t-o)}}return{start:n,end:t}}function Tu(n,t,r){t=Qu(t,n)?[t]:Ne(t);for(var e,u=-1,i=t.length;++u<i;){var o=ci(t[u]);if(!(e=null!=n&&r(n,o)))break;n=n[o]}if(e)return e;var i=n?n.length:0;return!!i&&yf(i)&&Yu(o,i)&&(ys(n)||Lf(n)||rf(n))}function qu(n){var t=n.length,r=n.constructor(t);return t&&"string"==typeof n[0]&&Sc.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Zu(n){return"function"!=typeof n.constructor||ri(n)?{}:zr(Mu(n))}function Vu(n,t,r,e){var u=n.constructor;switch(t){case Tn:return Ze(n);case Rn:case En:return new u(+n);case qn:return Ve(n,e);case Zn:case Vn:case Kn:case Gn:case Jn:case Yn:case Hn:case Qn:case Xn:return He(n,e);case Cn:return Ke(n,e,r);case Bn:case Mn:return new u(n);case Un:return Ge(n);case Fn:return Je(n,e,r);case Dn:return Ye(n)}}function Ku(n){var t=n?n.length:K;return yf(t)&&(ys(n)||Lf(n)||rf(n))?j(t,String):null}function Gu(n){return ys(n)||rf(n)}function Ju(n){return ys(n)&&!(2==n.length&&!vf(n[0]))}function Yu(n,t){return!!(t=null==t?wn:t)&&("number"==typeof n||It.test(n))&&n>-1&&n%1==0&&n<t}function Hu(n,t,r){if(!df(r))return!1;var e=typeof t;return!!("number"==e?uf(r)&&Yu(t,r.length):"string"==e&&t in r)&&tf(r[t],n)}function Qu(n,t){if(ys(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!Cf(n))||(st.test(n)||!lt.test(n)||null!=t&&n in Object(t))}function Xu(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function ni(n){var t=Cu(n),r=Wt[t];if("function"!=typeof r||!(t in Bt.prototype))return!1;if(n===r)return!0;var e=El(r);return!!e&&n===e[0]}function ti(n){return!!Rc&&Rc in n}function ri(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Oc)}function ei(n){return n===n&&!df(n)}function ui(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==K||n in Object(r)))}}function ii(n,t){var r=n[1],e=t[1],u=r|e,i=u<(X|nn|fn),o=e==fn&&r==rn||e==fn&&r==an&&n[7].length<=t[8]||e==(fn|an)&&t[7].length<=t[8]&&r==rn;if(!i&&!o)return n;e&X&&(n[2]=t[2],u|=r&X?0:tn);var f=t[3];if(f){var a=n[3];n[3]=a?nu(a,f,t[4]):f,n[4]=a?D(n[3],Q):t[4]}return f=t[5],f&&(a=n[5],n[5]=a?tu(a,f,t[6]):f,n[6]=a?D(n[5],Q):t[6]),f=t[7],f&&(n[7]=f),e&fn&&(n[8]=null==n[8]?t[8]:nl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function oi(n,t,r,e,u,i){return df(n)&&df(t)&&he(n,t,K,oi,i.set(t,n)),n}function fi(n,t){return 1==t.length?n:Vr(n,ke(t,0,-1))}function ai(n,t){for(var r=n.length,e=nl(t.length,r),u=ru(n);e--;){var i=t[e];n[e]=Yu(i,r)?u[i]:K}return n}function ci(n){if("string"==typeof n||Cf(n))return n;var t=n+"";return"0"==t&&1/n==-bn?"-0":t}function li(n){if(null!=n){try{return Ec.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function si(n){if(n instanceof Bt)return n.clone();var t=new Ct(n.__wrapped__,n.__chain__);return t.__actions__=ru(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function hi(n,t,r){t=(r?Hu(n,t,r):t===K)?1:Xc(Df(t),0);var e=n?n.length:0;if(!e||t<1)return[];for(var u=0,i=0,o=Array(Kc(e/t));u<e;)o[i++]=ke(n,u,u+=t);return o}function pi(n){for(var t=-1,r=n?n.length:0,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function _i(){for(var n=arguments.length,t=Array(n?n-1:0),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return n?s(ys(r)?ru(r):[r],Nr(t,1)):[]}function vi(n,t,r){var e=n?n.length:0;return e?(t=r||t===K?1:Df(t),ke(n,t<0?0:t,e)):[]}function gi(n,t,r){var e=n?n.length:0;return e?(t=r||t===K?1:Df(t),t=e-t,ke(n,0,t<0?0:t)):[]}function yi(n,t){return n&&n.length?$e(n,zu(t,3),!0,!0):[]}function di(n,t){return n&&n.length?$e(n,zu(t,3),!0):[]}function bi(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Hu(n,t,r)&&(r=0,e=u),Dr(n,t,r,e)):[]}function wi(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=null==r?0:Df(r);return u<0&&(u=Xc(e+u,0)),g(n,zu(t,3),u)}function xi(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e-1;return r!==K&&(u=Df(r),u=r<0?Xc(e+u,0):nl(u,e-1)),g(n,zu(t,3),u,!0)}function mi(n){return(n?n.length:0)?Nr(n,1):[]}function ji(n){return(n?n.length:0)?Nr(n,bn):[]}function Ai(n,t){return(n?n.length:0)?(t=t===K?1:Df(t),Nr(n,t)):[]}function Oi(n){for(var t=-1,r=n?n.length:0,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function ki(n){return n&&n.length?n[0]:K}function Ii(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=null==r?0:Df(r);return u<0&&(u=Xc(e+u,0)),y(n,t,u)}function Ri(n){return gi(n,1)}function Ei(n,t){return n?Hc.call(n,t):""}function Si(n){var t=n?n.length:0;return t?n[t-1]:K}function Wi(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if(r!==K&&(u=Df(r),u=(u<0?Xc(e+u,0):nl(u,e-1))+1),t!==t)return $(n,u-1,!0);for(;u--;)if(n[u]===t)return u;return-1}function Li(n,t){return n&&n.length?_e(n,Df(t)):K}function Ci(n,t){return n&&n.length&&t&&t.length?we(n,t):n}function Bi(n,t,r){return n&&n.length&&t&&t.length?we(n,t,zu(r)):n}function zi(n,t,r){return n&&n.length&&t&&t.length?we(n,t,K,r):n}function $i(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=zu(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return xe(n,u),r}function Ui(n){return n?ul.call(n):n}function Fi(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Hu(n,t,r)?(t=0,r=e):(t=null==t?0:Df(t),r=r===K?e:Df(r)),ke(n,t,r)):[]}function Mi(n,t){return Re(n,t)}function Di(n,t,r){return Ee(n,t,zu(r))}function Pi(n,t){var r=n?n.length:0;if(r){var e=Re(n,t);if(e<r&&tf(n[e],t))return e}return-1}function Ni(n,t){return Re(n,t,!0)}function Ti(n,t,r){return Ee(n,t,zu(r),!0)}function qi(n,t){if(n?n.length:0){var r=Re(n,t,!0)-1;if(tf(n[r],t))return r}return-1}function Zi(n){return n&&n.length?Se(n):[]}function Vi(n,t){return n&&n.length?Se(n,zu(t)):[]}function Ki(n){return vi(n,1)}function Gi(n,t,r){return n&&n.length?(t=r||t===K?1:Df(t),ke(n,0,t<0?0:t)):[]}function Ji(n,t,r){var e=n?n.length:0;return e?(t=r||t===K?1:Df(t),t=e-t,ke(n,t<0?0:t,e)):[]}function Yi(n,t){return n&&n.length?$e(n,zu(t,3),!1,!0):[]}function Hi(n,t){return n&&n.length?$e(n,zu(t,3)):[]}function Qi(n){return n&&n.length?Ce(n):[]}function Xi(n,t){return n&&n.length?Ce(n,zu(t)):[]}function no(n,t){return n&&n.length?Ce(n,K,t):[]}function to(n){if(!n||!n.length)return[];var t=0;return n=f(n,function(n){if(of(n))return t=Xc(n.length,t),!0}),j(t,function(t){return l(n,de(t))})}function ro(n,t){if(!n||!n.length)return[];var e=to(n);return null==t?e:l(e,function(n){return r(t,K,n)})}function eo(n,t){return Me(n||[],t||[],Ir)}function uo(n,t){return Me(n||[],t||[],Oe)}function io(n){var t=Wt(n);return t.__chain__=!0,t}function oo(n,t){return t(n),n}function fo(n,t){return t(n)}function ao(){return io(this)}function co(){return new Ct(this.value(),this.__chain__)}function lo(){this.__values__===K&&(this.__values__=Ff(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?K:this.__values__[this.__index__++]}}function so(){return this}function ho(n){for(var t,r=this;r instanceof Lt;){var e=si(r);e.__index__=0,e.__values__=K,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function po(){var n=this.__wrapped__;if(n instanceof Bt){var t=n;return this.__actions__.length&&(t=new Bt(this)),t=t.reverse(),t.__actions__.push({func:fo,args:[Ui],thisArg:K}),new Ct(t,this.__chain__)}return this.thru(Ui)}function _o(){return Ue(this.__wrapped__,this.__actions__)}function vo(n,t,r){var e=ys(n)?o:Fr;return r&&Hu(n,t,r)&&(t=K),e(n,zu(t,3))}function go(n,t){return(ys(n)?f:Pr)(n,zu(t,3))}function yo(n,t){return Nr(Ao(n,t),1)}function bo(n,t){return Nr(Ao(n,t),bn)}function wo(n,t,r){return r=r===K?1:Df(r),Nr(Ao(n,t),r)}function xo(n,t){return(ys(n)?u:jl)(n,zu(t,3))}function mo(n,t){
return(ys(n)?i:Al)(n,zu(t,3))}function jo(n,t,r,e){n=uf(n)?n:ya(n),r=r&&!e?Df(r):0;var u=n.length;return r<0&&(r=Xc(u+r,0)),Lf(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function Ao(n,t){return(ys(n)?l:ce)(n,zu(t,3))}function Oo(n,t,r,e){return null==n?[]:(ys(t)||(t=null==t?[]:[t]),r=e?K:r,ys(r)||(r=null==r?[]:[r]),ve(n,t,r))}function ko(n,t,r){var e=ys(n)?h:w,u=arguments.length<3;return e(n,zu(t,4),r,u,jl)}function Io(n,t,r){var e=ys(n)?p:w,u=arguments.length<3;return e(n,zu(t,4),r,u,Al)}function Ro(n,t){var r=ys(n)?f:Pr;return t=zu(t,3),r(n,function(n,r,e){return!t(n,r,e)})}function Eo(n){var t=uf(n)?n:ya(n),r=t.length;return r>0?t[me(0,r-1)]:K}function So(n,t,r){var e=-1,u=Ff(n),i=u.length,o=i-1;for(t=(r?Hu(n,t,r):t===K)?1:Lr(Df(t),0,i);++e<t;){var f=me(e,o),a=u[f];u[f]=u[e],u[e]=a}return u.length=t,u}function Wo(n){return So(n,jn)}function Lo(n){if(null==n)return 0;if(uf(n)){var t=n.length;return t&&Lf(n)?T(n):t}if(bf(n)){var r=Pu(n);if(r==Cn||r==Fn)return n.size}return ua(n).length}function Co(n,t,r){var e=ys(n)?_:Ie;return r&&Hu(n,t,r)&&(t=K),e(n,zu(t,3))}function Bo(){return bc.now()}function zo(n,t){if("function"!=typeof t)throw new jc(Y);return n=Df(n),function(){if(--n<1)return t.apply(this,arguments)}}function $o(n,t,r){return t=r?K:t,t=n&&null==t?n.length:t,Iu(n,fn,K,K,K,K,t)}function Uo(n,t){var r;if("function"!=typeof t)throw new jc(Y);return n=Df(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=K),r}}function Fo(n,t,r){t=r?K:t;var e=Iu(n,rn,K,K,K,K,K,t);return e.placeholder=Fo.placeholder,e}function Mo(n,t,r){t=r?K:t;var e=Iu(n,en,K,K,K,K,K,t);return e.placeholder=Mo.placeholder,e}function Do(n,t,r){function e(t){var r=h,e=p;return h=p=K,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Vc(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?nl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===K||r>=t||r<0||w&&e>=_}function f(){var n=Bo();if(o(n))return a(n);g=Vc(f,i(n))}function a(n){return g=K,x&&h?e(n):(h=p=K,v)}function c(){d=0,h=y=p=g=K}function l(){return g===K?v:a(Bo())}function s(){var n=Bo(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===K)return u(y);if(w)return g=Vc(f,t),e(y)}return g===K&&(g=Vc(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,x=!0;if("function"!=typeof n)throw new jc(Y);return t=Nf(t)||0,df(r)&&(b=!!r.leading,w="maxWait"in r,_=w?Xc(Nf(r.maxWait)||0,t):_,x="trailing"in r?!!r.trailing:x),s.cancel=c,s.flush=l,s}function Po(n){return Iu(n,cn)}function No(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new jc(Y);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new(No.Cache||ir),r}function To(n){if("function"!=typeof n)throw new jc(Y);return function(){return!n.apply(this,arguments)}}function qo(n){return Uo(2,n)}function Zo(n,t){if("function"!=typeof n)throw new jc(Y);return t=Xc(t===K?n.length-1:Df(t),0),function(){for(var e=arguments,u=-1,i=Xc(e.length-t,0),o=Array(i);++u<i;)o[u]=e[t+u];switch(t){case 0:return n.call(this,o);case 1:return n.call(this,e[0],o);case 2:return n.call(this,e[0],e[1],o)}var f=Array(t+1);for(u=-1;++u<t;)f[u]=e[u];return f[t]=o,r(n,this,f)}}function Vo(n,t){if("function"!=typeof n)throw new jc(Y);return t=t===K?0:Xc(Df(t),0),Zo(function(e){var u=e[t],i=Te(e,0,t);return u&&s(i,u),r(n,this,i)})}function Ko(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new jc(Y);return df(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Do(n,t,{leading:e,maxWait:t,trailing:u})}function Go(n){return $o(n,1)}function Jo(n,t){return t=null==t?Ka:t,hs(t,n)}function Yo(){if(!arguments.length)return[];var n=arguments[0];return ys(n)?n:[n]}function Ho(n){return Cr(n,!1,!0)}function Qo(n,t){return Cr(n,!1,!0,t)}function Xo(n){return Cr(n,!0,!0)}function nf(n,t){return Cr(n,!0,!0,t)}function tf(n,t){return n===t||n!==n&&t!==t}function rf(n){return of(n)&&Sc.call(n,"callee")&&(!qc.call(n,"callee")||Cc.call(n)==kn)}function ef(n){return bf(n)&&Cc.call(n)==Tn}function uf(n){return null!=n&&yf(Sl(n))&&!vf(n)}function of(n){return bf(n)&&uf(n)}function ff(n){return!0===n||!1===n||bf(n)&&Cc.call(n)==Rn}function af(n){return bf(n)&&Cc.call(n)==En}function cf(n){return!!n&&1===n.nodeType&&bf(n)&&!Rf(n)}function lf(n){if(uf(n)&&(ys(n)||Lf(n)||vf(n.splice)||rf(n)||ds(n)))return!n.length;if(bf(n)){var t=Pu(n);if(t==Cn||t==Fn)return!n.size}for(var r in n)if(Sc.call(n,r))return!1;return!(pl&&ua(n).length)}function sf(n,t){return te(n,t)}function hf(n,t,r){r="function"==typeof r?r:K;var e=r?r(n,t):K;return e===K?te(n,t,r):!!e}function pf(n){return!!bf(n)&&(Cc.call(n)==Sn||"string"==typeof n.message&&"string"==typeof n.name)}function _f(n){return"number"==typeof n&&Yc(n)}function vf(n){var t=df(n)?Cc.call(n):"";return t==Wn||t==Ln}function gf(n){return"number"==typeof n&&n==Df(n)}function yf(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=wn}function df(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function bf(n){return!!n&&"object"==typeof n}function wf(n){return bf(n)&&Pu(n)==Cn}function xf(n,t){return n===t||ee(n,t,Uu(t))}function mf(n,t,r){return r="function"==typeof r?r:K,ee(n,t,Uu(t),r)}function jf(n){return If(n)&&n!=+n}function Af(n){if(Ll(n))throw new wc("This method is not supported with `core-js`. Try https://github.com/es-shims.");return ue(n)}function Of(n){return null===n}function kf(n){return null==n}function If(n){return"number"==typeof n||bf(n)&&Cc.call(n)==Bn}function Rf(n){if(!bf(n)||Cc.call(n)!=zn||U(n))return!1;var t=Mu(n);if(null===t)return!0;var r=Sc.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ec.call(r)==Lc}function Ef(n){return df(n)&&Cc.call(n)==Un}function Sf(n){return gf(n)&&n>=-wn&&n<=wn}function Wf(n){return bf(n)&&Pu(n)==Fn}function Lf(n){return"string"==typeof n||!ys(n)&&bf(n)&&Cc.call(n)==Mn}function Cf(n){return"symbol"==typeof n||bf(n)&&Cc.call(n)==Dn}function Bf(n){return bf(n)&&yf(n.length)&&!!nr[Cc.call(n)]}function zf(n){return n===K}function $f(n){return bf(n)&&Pu(n)==Pn}function Uf(n){return bf(n)&&Cc.call(n)==Nn}function Ff(n){if(!n)return[];if(uf(n))return Lf(n)?q(n):ru(n);if(Nc&&n[Nc])return F(n[Nc]());var t=Pu(n);return(t==Cn?M:t==Fn?P:ya)(n)}function Mf(n){if(!n)return 0===n?n:0;if((n=Nf(n))===bn||n===-bn){return(n<0?-1:1)*xn}return n===n?n:0}function Df(n){var t=Mf(n),r=t%1;return t===t?r?t-r:t:0}function Pf(n){return n?Lr(Df(n),0,jn):0}function Nf(n){if("number"==typeof n)return n;if(Cf(n))return mn;if(df(n)){var t=vf(n.valueOf)?n.valueOf():n;n=df(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(vt,"");var r=At.test(n);return r||kt.test(n)?fr(n.slice(2),r?2:8):jt.test(n)?mn:+n}function Tf(n){return eu(n,ia(n))}function qf(n){return Lr(Df(n),-wn,wn)}function Zf(n){return null==n?"":Le(n)}function Vf(n,t){var r=zr(n);return t?Sr(r,t):r}function Kf(n,t){return v(n,zu(t,3),Tr)}function Gf(n,t){return v(n,zu(t,3),qr)}function Jf(n,t){return null==n?n:Ol(n,zu(t,3),ia)}function Yf(n,t){return null==n?n:kl(n,zu(t,3),ia)}function Hf(n,t){return n&&Tr(n,zu(t,3))}function Qf(n,t){return n&&qr(n,zu(t,3))}function Xf(n){return null==n?[]:Zr(n,ua(n))}function na(n){return null==n?[]:Zr(n,ia(n))}function ta(n,t,r){var e=null==n?K:Vr(n,t);return e===K?r:e}function ra(n,t){return null!=n&&Tu(n,t,Jr)}function ea(n,t){return null!=n&&Tu(n,t,Yr)}function ua(n){var t=ri(n);if(!t&&!uf(n))return oe(n);var r=Ku(n),e=!!r,u=r||[],i=u.length;for(var o in n)!Jr(n,o)||e&&("length"==o||Yu(o,i))||t&&"constructor"==o||u.push(o);return u}function ia(n){for(var t=-1,r=ri(n),e=fe(n),u=e.length,i=Ku(n),o=!!i,f=i||[],a=f.length;++t<u;){var c=e[t];o&&("length"==c||Yu(c,a))||"constructor"==c&&(r||!Sc.call(n,c))||f.push(c)}return f}function oa(n,t){var r={};return t=zu(t,3),Tr(n,function(n,e,u){r[t(n,e,u)]=n}),r}function fa(n,t){var r={};return t=zu(t,3),Tr(n,function(n,e,u){r[e]=t(n,e,u)}),r}function aa(n,t){return t=zu(t),ye(n,function(n,r){return!t(n,r)})}function ca(n,t){return null==n?{}:ye(n,zu(t))}function la(n,t,r){t=Qu(t,n)?[t]:Ne(t);var e=-1,u=t.length;for(u||(n=K,u=1);++e<u;){var i=null==n?K:n[ci(t[e])];i===K&&(e=u,i=r),n=vf(i)?i.call(n):i}return n}function sa(n,t,r){return null==n?n:Oe(n,t,r)}function ha(n,t,r,e){return e="function"==typeof e?e:K,null==n?n:Oe(n,t,r,e)}function pa(n,t,r){var e=ys(n)||Bf(n);if(t=zu(t,4),null==r)if(e||df(n)){var i=n.constructor;r=e?ys(n)?new i:[]:vf(i)?zr(Mu(n)):{}}else r={};return(e?u:Tr)(n,function(n,e,u){return t(r,n,e,u)}),r}function _a(n,t){return null==n||Be(n,t)}function va(n,t,r){return null==n?n:ze(n,t,Pe(r))}function ga(n,t,r,e){return e="function"==typeof e?e:K,null==n?n:ze(n,t,Pe(r),e)}function ya(n){return n?k(n,ua(n)):[]}function da(n){return null==n?[]:k(n,ia(n))}function ba(n,t,r){return r===K&&(r=t,t=K),r!==K&&(r=Nf(r),r=r===r?r:0),t!==K&&(t=Nf(t),t=t===t?t:0),Lr(Nf(n),t,r)}function wa(n,t,r){return t=Nf(t)||0,r===K?(r=t,t=0):r=Nf(r)||0,n=Nf(n),Hr(n,t,r)}function xa(n,t,r){if(r&&"boolean"!=typeof r&&Hu(n,t,r)&&(t=r=K),r===K&&("boolean"==typeof t?(r=t,t=K):"boolean"==typeof n&&(r=n,n=K)),n===K&&t===K?(n=0,t=1):(n=Nf(n)||0,t===K?(t=n,n=0):t=Nf(t)||0),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=rl();return nl(n+u*(t-n+or("1e-"+((u+"").length-1))),t)}return me(n,t)}function ma(n){return qs(Zf(n).toLowerCase())}function ja(n){return(n=Zf(n))&&n.replace(Rt,L).replace(Kt,"")}function Aa(n,t,r){n=Zf(n),t=Le(t);var e=n.length;return r=r===K?e:Lr(Df(r),0,e),(r-=t.length)>=0&&n.indexOf(t,r)==r}function Oa(n){return n=Zf(n),n&&ot.test(n)?n.replace(ut,C):n}function ka(n){return n=Zf(n),n&&_t.test(n)?n.replace(pt,"\\$&"):n}function Ia(n,t,r){n=Zf(n),t=Df(t);var e=t?T(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return wu(Gc(u),r)+n+wu(Kc(u),r)}function Ra(n,t,r){n=Zf(n),t=Df(t);var e=t?T(n):0;return t&&e<t?n+wu(t-e,r):n}function Ea(n,t,r){n=Zf(n),t=Df(t);var e=t?T(n):0;return t&&e<t?wu(t-e,r)+n:n}function Sa(n,t,r){return r||null==t?t=0:t&&(t=+t),n=Zf(n).replace(vt,""),tl(n,t||(mt.test(n)?16:10))}function Wa(n,t,r){return t=(r?Hu(n,t,r):t===K)?1:Df(t),Ae(Zf(n),t)}function La(){var n=arguments,t=Zf(n[0]);return n.length<3?t:el.call(t,n[1],n[2])}function Ca(n,t,r){return r&&"number"!=typeof r&&Hu(n,t,r)&&(t=r=K),(r=r===K?jn:r>>>0)?(n=Zf(n),n&&("string"==typeof t||null!=t&&!Ef(t))&&""==(t=Le(t))&&Yt.test(n)?Te(q(n),0,r):il.call(n,t,r)):[]}function Ba(n,t,r){return n=Zf(n),r=Lr(Df(r),0,n.length),n.lastIndexOf(Le(t),r)==r}function za(n,t,r){var e=Wt.templateSettings;r&&Hu(n,t,r)&&(t=K),n=Zf(n),t=js({},t,e,Or);var u,i,o=js({},t.imports,e.imports,Or),f=ua(o),a=k(o,f),c=0,l=t.interpolate||Et,s="__p += '",h=mc((t.escape||Et).source+"|"+l.source+"|"+(l===ct?wt:Et).source+"|"+(t.evaluate||Et).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Xt+"]")+"\n";n.replace(h,function(t,r,e,o,f,a){return e||(e=o),s+=n.slice(c,a).replace(St,B),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),c=a+t.length,t}),s+="';\n";var _=t.variable;_||(s="with (obj) {\n"+s+"\n}\n"),s=(i?s.replace(nt,""):s).replace(tt,"$1").replace(rt,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Zs(function(){return Function(f,p+"return "+s).apply(K,a)});if(v.source=s,pf(v))throw v;return v}function $a(n){return Zf(n).toLowerCase()}function Ua(n){return Zf(n).toUpperCase()}function Fa(n,t,r){if((n=Zf(n))&&(r||t===K))return n.replace(vt,"");if(!n||!(t=Le(t)))return n;var e=q(n),u=q(t);return Te(e,R(e,u),E(e,u)+1).join("")}function Ma(n,t,r){if((n=Zf(n))&&(r||t===K))return n.replace(yt,"");if(!n||!(t=Le(t)))return n;var e=q(n);return Te(e,0,E(e,q(t))+1).join("")}function Da(n,t,r){if((n=Zf(n))&&(r||t===K))return n.replace(gt,"");if(!n||!(t=Le(t)))return n;var e=q(n);return Te(e,R(e,q(t))).join("")}function Pa(n,t){var r=hn,e=pn;if(df(t)){var u="separator"in t?t.separator:u;r="length"in t?Df(t.length):r,e="omission"in t?Le(t.omission):e}n=Zf(n);var i=n.length;if(Yt.test(n)){var o=q(n);i=o.length}if(r>=i)return n;var f=r-T(e);if(f<1)return e;var a=o?Te(o,0,f).join(""):n.slice(0,f);if(u===K)return a+e;if(o&&(f+=a.length-f),Ef(u)){if(n.slice(f).search(u)){var c,l=a;for(u.global||(u=mc(u.source,Zf(xt.exec(u))+"g")),u.lastIndex=0;c=u.exec(l);)var s=c.index;a=a.slice(0,s===K?f:s)}}else if(n.indexOf(Le(u),f)!=f){var h=a.lastIndexOf(u);h>-1&&(a=a.slice(0,h))}return a+e}function Na(n){return n=Zf(n),n&&it.test(n)?n.replace(et,Z):n}function Ta(n,t,r){return n=Zf(n),t=r?K:t,t===K&&(t=Ht.test(n)?Jt:dt),n.match(t)||[]}function qa(n){var t=n?n.length:0,e=zu();return n=t?l(n,function(n){if("function"!=typeof n[1])throw new jc(Y);return[e(n[0]),n[1]]}):[],Zo(function(e){for(var u=-1;++u<t;){var i=n[u];if(r(i[0],this,e))return r(i[1],this,e)}})}function Za(n){return Br(Cr(n,!0))}function Va(n){return function(){return n}}function Ka(n){return n}function Ga(n){return ie("function"==typeof n?n:Cr(n,!0))}function Ja(n){return le(Cr(n,!0))}function Ya(n,t){return se(n,Cr(t,!0))}function Ha(n,t,r){var e=ua(t),i=Zr(t,e);null!=r||df(t)&&(i.length||!e.length)||(r=t,t=n,n=this,i=Zr(t,ua(t)));var o=!(df(r)&&"chain"in r&&!r.chain),f=vf(n);return u(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=ru(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,s([this.value()],arguments))})}),n}function Qa(){return _r._===this&&(_r._=Bc),this}function Xa(){}function nc(n){return n=Df(n),Zo(function(t){return _e(t,n)})}function tc(n){return Qu(n)?de(ci(n)):be(n)}function rc(n){return function(t){return null==n?K:Vr(n,t)}}function ec(){return[]}function uc(){return!1}function ic(){return{}}function oc(){return""}function fc(){return!0}function ac(n,t){if((n=Df(n))<1||n>wn)return[];var r=jn,e=nl(n,jn);t=zu(t),n-=jn;for(var u=j(e,t);++r<n;)t(r);return u}function cc(n){return ys(n)?l(n,ci):Cf(n)?[n]:ru(Bl(n))}function lc(n){var t=++Wc;return Zf(n)+t}function sc(n){return n&&n.length?Mr(n,Ka,Gr):K}function hc(n,t){return n&&n.length?Mr(n,zu(t),Gr):K}function pc(n){return b(n,Ka)}function _c(n,t){return b(n,zu(t))}function vc(n){return n&&n.length?Mr(n,Ka,ae):K}function gc(n,t){return n&&n.length?Mr(n,zu(t),ae):K}function yc(n){return n&&n.length?m(n,Ka):0}function dc(n,t){return n&&n.length?m(n,zu(t)):0}S=S?vr.defaults({},S,vr.pick(_r,Qt)):_r;var bc=S.Date,wc=S.Error,xc=S.Math,mc=S.RegExp,jc=S.TypeError,Ac=S.Array.prototype,Oc=S.Object.prototype,kc=S.String.prototype,Ic=S["__core-js_shared__"],Rc=function(){var n=/[^.]+$/.exec(Ic&&Ic.keys&&Ic.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Ec=S.Function.prototype.toString,Sc=Oc.hasOwnProperty,Wc=0,Lc=Ec.call(Object),Cc=Oc.toString,Bc=_r._,zc=mc("^"+Ec.call(Sc).replace(pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$c=lr?S.Buffer:K,Uc=S.Reflect,Fc=S.Symbol,Mc=S.Uint8Array,Dc=Uc?Uc.enumerate:K,Pc=Object.getOwnPropertySymbols,Nc="symbol"==typeof(Nc=Fc&&Fc.iterator)?Nc:K,Tc=Object.create,qc=Oc.propertyIsEnumerable,Zc=Ac.splice,Vc=function(n,t){return S.setTimeout.call(_r,n,t)},Kc=xc.ceil,Gc=xc.floor,Jc=Object.getPrototypeOf,Yc=S.isFinite,Hc=Ac.join,Qc=Object.keys,Xc=xc.max,nl=xc.min,tl=S.parseInt,rl=xc.random,el=kc.replace,ul=Ac.reverse,il=kc.split,ol=Fu(S,"DataView"),fl=Fu(S,"Map"),al=Fu(S,"Promise"),cl=Fu(S,"Set"),ll=Fu(S,"WeakMap"),sl=Fu(Object,"create"),hl=ll&&new ll,pl=!qc.call({valueOf:1},"valueOf"),_l={},vl=li(ol),gl=li(fl),yl=li(al),dl=li(cl),bl=li(ll),wl=Fc?Fc.prototype:K,xl=wl?wl.valueOf:K,ml=wl?wl.toString:K;Wt.templateSettings={escape:ft,evaluate:at,interpolate:ct,variable:"",imports:{_:Wt}},Wt.prototype=Lt.prototype,Wt.prototype.constructor=Wt,Ct.prototype=zr(Lt.prototype),Ct.prototype.constructor=Ct,Bt.prototype=zr(Lt.prototype),Bt.prototype.constructor=Bt,Ft.prototype.clear=Mt,Ft.prototype.delete=Dt,Ft.prototype.get=Pt,Ft.prototype.has=Nt,Ft.prototype.set=Tt,qt.prototype.clear=Zt,qt.prototype.delete=Gt,qt.prototype.get=rr,qt.prototype.has=er,qt.prototype.set=ur,ir.prototype.clear=ar,ir.prototype.delete=cr,ir.prototype.get=sr,ir.prototype.has=hr,ir.prototype.set=pr,gr.prototype.add=gr.prototype.push=yr,gr.prototype.has=dr,br.prototype.clear=wr,br.prototype.delete=xr,br.prototype.get=mr,br.prototype.has=jr,br.prototype.set=Ar;var jl=fu(Tr),Al=fu(qr,!0),Ol=au(),kl=au(!0);Dc&&!qc.call({valueOf:1},"valueOf")&&(fe=function(n){return F(Dc(n))});var Il=hl?function(n,t){return hl.set(n,t),n}:Ka,Rl=cl&&1/P(new cl([,-0]))[1]==bn?function(n){return new cl(n)}:Xa,El=hl?function(n){return hl.get(n)}:Xa,Sl=de("length");Pc||(Du=ec);var Wl=Pc?function(n){for(var t=[];n;)s(t,Du(n)),n=Mu(n);return t}:Du;(ol&&Pu(new ol(new ArrayBuffer(1)))!=qn||fl&&Pu(new fl)!=Cn||al&&Pu(al.resolve())!=$n||cl&&Pu(new cl)!=Fn||ll&&Pu(new ll)!=Pn)&&(Pu=function(n){var t=Cc.call(n),r=t==zn?n.constructor:K,e=r?li(r):K;if(e)switch(e){case vl:return qn;case gl:return Cn;case yl:return $n;case dl:return Fn;case bl:return Pn}return t});var Ll=Ic?vf:uc,Cl=function(){var n=0,t=0;return function(r,e){var u=Bo(),i=vn-(u-t);if(t=u,i>0){if(++n>=_n)return r}else n=0;return Il(r,e)}}(),Bl=No(function(n){var t=[];return Zf(n).replace(ht,function(n,r,e,u){t.push(e?u.replace(bt,"$1"):r||n)}),t}),zl=Zo(function(n,t){return of(n)?Ur(n,Nr(t,1,of,!0)):[]}),$l=Zo(function(n,t){var r=Si(t);return of(r)&&(r=K),of(n)?Ur(n,Nr(t,1,of,!0),zu(r)):[]}),Ul=Zo(function(n,t){var r=Si(t);return of(r)&&(r=K),of(n)?Ur(n,Nr(t,1,of,!0),K,r):[]}),Fl=Zo(function(n){var t=l(n,De);return t.length&&t[0]===n[0]?Qr(t):[]}),Ml=Zo(function(n){var t=Si(n),r=l(n,De);return t===Si(r)?t=K:r.pop(),r.length&&r[0]===n[0]?Qr(r,zu(t)):[]}),Dl=Zo(function(n){var t=Si(n),r=l(n,De);return t===Si(r)?t=K:r.pop(),r.length&&r[0]===n[0]?Qr(r,K,t):[]}),Pl=Zo(Ci),Nl=Zo(function(n,t){t=Nr(t,1);var r=n?n.length:0,e=Wr(n,t);return xe(n,l(t,function(n){return Yu(n,r)?+n:n}).sort(Qe)),e}),Tl=Zo(function(n){return Ce(Nr(n,1,of,!0))}),ql=Zo(function(n){var t=Si(n);return of(t)&&(t=K),Ce(Nr(n,1,of,!0),zu(t))}),Zl=Zo(function(n){var t=Si(n);return of(t)&&(t=K),Ce(Nr(n,1,of,!0),K,t)}),Vl=Zo(function(n,t){return of(n)?Ur(n,t):[]}),Kl=Zo(function(n){return Fe(f(n,of))}),Gl=Zo(function(n){var t=Si(n);return of(t)&&(t=K),Fe(f(n,of),zu(t))}),Jl=Zo(function(n){var t=Si(n);return of(t)&&(t=K),Fe(f(n,of),K,t)}),Yl=Zo(to),Hl=Zo(function(n){var t=n.length,r=t>1?n[t-1]:K;return r="function"==typeof r?(n.pop(),r):K,ro(n,r)}),Ql=Zo(function(n){n=Nr(n,1);var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Wr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Bt&&Yu(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:fo,args:[u],thisArg:K}),new Ct(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(K),n})):this.thru(u)}),Xl=iu(function(n,t,r){Sc.call(n,r)?++n[r]:n[r]=1}),ns=_u(wi),ts=_u(xi),rs=iu(function(n,t,r){Sc.call(n,r)?n[r].push(t):n[r]=[t]}),es=Zo(function(n,t,e){var u=-1,i="function"==typeof t,o=Qu(t),f=uf(n)?Array(n.length):[];return jl(n,function(n){var a=i?t:o&&null!=n?n[t]:K;f[++u]=a?r(a,n,e):ne(n,t,e)}),f}),us=iu(function(n,t,r){n[r]=t}),is=iu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),os=Zo(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Hu(n,t[0],t[1])?t=[]:r>2&&Hu(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&ys(t[0])?t[0]:Nr(t,1,Ju),ve(n,t,[])}),fs=Zo(function(n,t,r){var e=X;if(r.length){var u=D(r,Bu(fs));e|=un}return Iu(n,e,t,r,u)}),as=Zo(function(n,t,r){var e=X|nn;if(r.length){var u=D(r,Bu(as));e|=un}return Iu(t,e,n,r,u)}),cs=Zo(function(n,t){return $r(n,1,t)}),ls=Zo(function(n,t,r){return $r(n,Nf(t)||0,r)});No.Cache=ir;var ss=Zo(function(n,t){t=1==t.length&&ys(t[0])?l(t[0],O(zu())):l(Nr(t,1,Ju),O(zu()));var e=t.length;return Zo(function(u){for(var i=-1,o=nl(u.length,e);++i<o;)u[i]=t[i].call(this,u[i]);return r(n,this,u)})}),hs=Zo(function(n,t){var r=D(t,Bu(hs));return Iu(n,un,K,t,r)}),ps=Zo(function(n,t){var r=D(t,Bu(ps));return Iu(n,on,K,t,r)}),_s=Zo(function(n,t){return Iu(n,an,K,K,K,Nr(t,1))}),vs=ju(Gr),gs=ju(function(n,t){return n>=t}),ys=Array.isArray,ds=$c?function(n){return n instanceof $c}:uc,bs=ju(ae),ws=ju(function(n,t){return n<=t}),xs=ou(function(n,t){if(pl||ri(t)||uf(t))return void eu(t,ua(t),n);for(var r in t)Sc.call(t,r)&&Ir(n,r,t[r])}),ms=ou(function(n,t){if(pl||ri(t)||uf(t))return void eu(t,ia(t),n);for(var r in t)Ir(n,r,t[r])}),js=ou(function(n,t,r,e){eu(t,ia(t),n,e)}),As=ou(function(n,t,r,e){eu(t,ua(t),n,e)}),Os=Zo(function(n,t){return Wr(n,Nr(t,1))}),ks=Zo(function(n){return n.push(K,Or),r(js,K,n)}),Is=Zo(function(n){return n.push(K,oi),r(Ls,K,n)}),Rs=yu(function(n,t,r){n[t]=r},Va(Ka)),Es=yu(function(n,t,r){Sc.call(n,t)?n[t].push(r):n[t]=[r]},zu),Ss=Zo(ne),Ws=ou(function(n,t,r){he(n,t,r)}),Ls=ou(function(n,t,r,e){he(n,t,r,e)}),Cs=Zo(function(n,t){return null==n?{}:(t=l(Nr(t,1),ci),ge(n,Ur(Lu(n),t)))}),Bs=Zo(function(n,t){return null==n?{}:ge(n,l(Nr(t,1),ci))}),zs=ku(ua),$s=ku(ia),Us=su(function(n,t,r){return t=t.toLowerCase(),n+(r?ma(t):t)}),Fs=su(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Ms=su(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Ds=lu("toLowerCase"),Ps=su(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Ns=su(function(n,t,r){return n+(r?" ":"")+qs(t)}),Ts=su(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),qs=lu("toUpperCase"),Zs=Zo(function(n,t){try{return r(n,K,t)}catch(n){return pf(n)?n:new wc(n)}}),Vs=Zo(function(n,t){return u(Nr(t,1),function(t){t=ci(t),n[t]=fs(n[t],n)}),n}),Ks=vu(),Gs=vu(!0),Js=Zo(function(n,t){return function(r){return ne(r,n,t)}}),Ys=Zo(function(n,t){return function(r){return ne(n,r,t)}}),Hs=bu(l),Qs=bu(o),Xs=bu(_),nh=mu(),th=mu(!0),rh=du(function(n,t){return n+t}),eh=Ou("ceil"),uh=du(function(n,t){return n/t}),ih=Ou("floor"),oh=du(function(n,t){return n*t}),fh=Ou("round"),ah=du(function(n,t){return n-t});return Wt.after=zo,Wt.ary=$o,Wt.assign=xs,Wt.assignIn=ms,Wt.assignInWith=js,Wt.assignWith=As,Wt.at=Os,Wt.before=Uo,Wt.bind=fs,Wt.bindAll=Vs,Wt.bindKey=as,Wt.castArray=Yo,Wt.chain=io,Wt.chunk=hi,Wt.compact=pi,Wt.concat=_i,Wt.cond=qa,Wt.conforms=Za,Wt.constant=Va,Wt.countBy=Xl,Wt.create=Vf,Wt.curry=Fo,Wt.curryRight=Mo,Wt.debounce=Do,Wt.defaults=ks,Wt.defaultsDeep=Is,Wt.defer=cs,Wt.delay=ls,Wt.difference=zl,Wt.differenceBy=$l,Wt.differenceWith=Ul,Wt.drop=vi,Wt.dropRight=gi,Wt.dropRightWhile=yi,Wt.dropWhile=di,Wt.fill=bi,Wt.filter=go,Wt.flatMap=yo,Wt.flatMapDeep=bo,Wt.flatMapDepth=wo,Wt.flatten=mi,Wt.flattenDeep=ji,Wt.flattenDepth=Ai,Wt.flip=Po,Wt.flow=Ks,Wt.flowRight=Gs,Wt.fromPairs=Oi,Wt.functions=Xf,Wt.functionsIn=na,Wt.groupBy=rs,Wt.initial=Ri,Wt.intersection=Fl,Wt.intersectionBy=Ml,Wt.intersectionWith=Dl,Wt.invert=Rs,Wt.invertBy=Es,Wt.invokeMap=es,Wt.iteratee=Ga,Wt.keyBy=us,Wt.keys=ua,Wt.keysIn=ia,Wt.map=Ao,Wt.mapKeys=oa,Wt.mapValues=fa,Wt.matches=Ja,Wt.matchesProperty=Ya,Wt.memoize=No,Wt.merge=Ws,Wt.mergeWith=Ls,Wt.method=Js,Wt.methodOf=Ys,Wt.mixin=Ha,Wt.negate=To,Wt.nthArg=nc,Wt.omit=Cs,Wt.omitBy=aa,Wt.once=qo,Wt.orderBy=Oo,Wt.over=Hs,Wt.overArgs=ss,Wt.overEvery=Qs,Wt.overSome=Xs,Wt.partial=hs,Wt.partialRight=ps,Wt.partition=is,Wt.pick=Bs,Wt.pickBy=ca,Wt.property=tc,Wt.propertyOf=rc,Wt.pull=Pl,Wt.pullAll=Ci,Wt.pullAllBy=Bi,Wt.pullAllWith=zi,Wt.pullAt=Nl,Wt.range=nh,Wt.rangeRight=th,Wt.rearg=_s,Wt.reject=Ro,Wt.remove=$i,Wt.rest=Zo,Wt.reverse=Ui,Wt.sampleSize=So,Wt.set=sa,Wt.setWith=ha,Wt.shuffle=Wo,Wt.slice=Fi,Wt.sortBy=os,Wt.sortedUniq=Zi,Wt.sortedUniqBy=Vi,Wt.split=Ca,Wt.spread=Vo,Wt.tail=Ki,Wt.take=Gi,Wt.takeRight=Ji,Wt.takeRightWhile=Yi,Wt.takeWhile=Hi,Wt.tap=oo,Wt.throttle=Ko,Wt.thru=fo,Wt.toArray=Ff,Wt.toPairs=zs,Wt.toPairsIn=$s,Wt.toPath=cc,Wt.toPlainObject=Tf,Wt.transform=pa,Wt.unary=Go,Wt.union=Tl,Wt.unionBy=ql,Wt.unionWith=Zl,Wt.uniq=Qi,Wt.uniqBy=Xi,Wt.uniqWith=no,Wt.unset=_a,Wt.unzip=to,Wt.unzipWith=ro,Wt.update=va,Wt.updateWith=ga,Wt.values=ya,Wt.valuesIn=da,Wt.without=Vl,Wt.words=Ta,Wt.wrap=Jo,Wt.xor=Kl,Wt.xorBy=Gl,Wt.xorWith=Jl,Wt.zip=Yl,Wt.zipObject=eo,Wt.zipObjectDeep=uo,Wt.zipWith=Hl,Wt.entries=zs,Wt.entriesIn=$s,Wt.extend=ms,Wt.extendWith=js,Ha(Wt,Wt),Wt.add=rh,Wt.attempt=Zs,Wt.camelCase=Us,Wt.capitalize=ma,Wt.ceil=eh,Wt.clamp=ba,Wt.clone=Ho,Wt.cloneDeep=Xo,Wt.cloneDeepWith=nf,Wt.cloneWith=Qo,Wt.deburr=ja,Wt.divide=uh,Wt.endsWith=Aa,Wt.eq=tf,Wt.escape=Oa,Wt.escapeRegExp=ka,Wt.every=vo,Wt.find=ns,Wt.findIndex=wi,Wt.findKey=Kf,Wt.findLast=ts,Wt.findLastIndex=xi,Wt.findLastKey=Gf,Wt.floor=ih,Wt.forEach=xo,Wt.forEachRight=mo,Wt.forIn=Jf,Wt.forInRight=Yf,Wt.forOwn=Hf,Wt.forOwnRight=Qf,Wt.get=ta,Wt.gt=vs,Wt.gte=gs,Wt.has=ra,Wt.hasIn=ea,Wt.head=ki,Wt.identity=Ka,Wt.includes=jo,Wt.indexOf=Ii,Wt.inRange=wa,Wt.invoke=Ss,Wt.isArguments=rf,Wt.isArray=ys,Wt.isArrayBuffer=ef,Wt.isArrayLike=uf,Wt.isArrayLikeObject=of,Wt.isBoolean=ff,Wt.isBuffer=ds,Wt.isDate=af,Wt.isElement=cf,Wt.isEmpty=lf,Wt.isEqual=sf,Wt.isEqualWith=hf,Wt.isError=pf,Wt.isFinite=_f,Wt.isFunction=vf,Wt.isInteger=gf,Wt.isLength=yf,Wt.isMap=wf,Wt.isMatch=xf,Wt.isMatchWith=mf,Wt.isNaN=jf,Wt.isNative=Af,Wt.isNil=kf,Wt.isNull=Of,Wt.isNumber=If,Wt.isObject=df,Wt.isObjectLike=bf,Wt.isPlainObject=Rf,Wt.isRegExp=Ef,Wt.isSafeInteger=Sf,Wt.isSet=Wf,Wt.isString=Lf,Wt.isSymbol=Cf,Wt.isTypedArray=Bf,Wt.isUndefined=zf,Wt.isWeakMap=$f,Wt.isWeakSet=Uf,Wt.join=Ei,Wt.kebabCase=Fs,Wt.last=Si,Wt.lastIndexOf=Wi,Wt.lowerCase=Ms,Wt.lowerFirst=Ds,Wt.lt=bs,Wt.lte=ws,Wt.max=sc,Wt.maxBy=hc,Wt.mean=pc,Wt.meanBy=_c,Wt.min=vc,Wt.minBy=gc,Wt.stubArray=ec,Wt.stubFalse=uc,Wt.stubObject=ic,Wt.stubString=oc,Wt.stubTrue=fc,Wt.multiply=oh,Wt.nth=Li,Wt.noConflict=Qa,Wt.noop=Xa,Wt.now=Bo,Wt.pad=Ia,Wt.padEnd=Ra,Wt.padStart=Ea,Wt.parseInt=Sa,Wt.random=xa,Wt.reduce=ko,Wt.reduceRight=Io,Wt.repeat=Wa,Wt.replace=La,Wt.result=la,Wt.round=fh,Wt.runInContext=V,Wt.sample=Eo,Wt.size=Lo,Wt.snakeCase=Ps,Wt.some=Co,Wt.sortedIndex=Mi,Wt.sortedIndexBy=Di,Wt.sortedIndexOf=Pi,Wt.sortedLastIndex=Ni,Wt.sortedLastIndexBy=Ti,Wt.sortedLastIndexOf=qi,Wt.startCase=Ns,Wt.startsWith=Ba,Wt.subtract=ah,Wt.sum=yc,Wt.sumBy=dc,Wt.template=za,Wt.times=ac,Wt.toFinite=Mf,Wt.toInteger=Df,Wt.toLength=Pf,Wt.toLower=$a,Wt.toNumber=Nf,Wt.toSafeInteger=qf,Wt.toString=Zf,Wt.toUpper=Ua,Wt.trim=Fa,Wt.trimEnd=Ma,Wt.trimStart=Da,Wt.truncate=Pa,Wt.unescape=Na,Wt.uniqueId=lc,Wt.upperCase=Ts,Wt.upperFirst=qs,Wt.each=xo,Wt.eachRight=mo,Wt.first=ki,Ha(Wt,function(){var n={};return Tr(Wt,function(t,r){Sc.call(Wt.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),Wt.VERSION=G,u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Wt[n].placeholder=Wt}),u(["drop","take"],function(n,t){Bt.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new Bt(this);r=r===K?1:Xc(Df(r),0);var u=this.clone();return e?u.__takeCount__=nl(r,u.__takeCount__):u.__views__.push({size:nl(r,jn),type:n+(u.__dir__<0?"Right":"")}),u},Bt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),u(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==gn||r==dn;Bt.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:zu(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),u(["head","last"],function(n,t){var r="take"+(t?"Right":"");Bt.prototype[n]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Bt.prototype[n]=function(){return this.__filtered__?new Bt(this):this[r](1)}}),Bt.prototype.compact=function(){return this.filter(Ka)},Bt.prototype.find=function(n){return this.filter(n).head()},Bt.prototype.findLast=function(n){return this.reverse().find(n)},Bt.prototype.invokeMap=Zo(function(n,t){return"function"==typeof n?new Bt(this):this.map(function(r){return ne(r,n,t)})}),Bt.prototype.reject=function(n){return n=zu(n,3),this.filter(function(t){return!n(t)})},Bt.prototype.slice=function(n,t){n=Df(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Bt(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==K&&(t=Df(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Bt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Bt.prototype.toArray=function(){return this.take(jn)},Tr(Bt.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=Wt[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(Wt.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Bt,a=o[0],c=f||ys(t),l=function(n){var t=u.apply(Wt,s([n],o));return e&&h?t[0]:t};c&&r&&"function"==typeof a&&1!=a.length&&(f=c=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&c){t=v?t:new Bt(this);var g=n.apply(t,o);return g.__actions__.push({func:fo,args:[l],thisArg:K}),new Ct(g,h)}return _&&v?n.apply(this,o):(g=this.thru(l),_?e?g.value()[0]:g.value():g)})}),u(["pop","push","shift","sort","splice","unshift"],function(n){var t=Ac[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);Wt.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(ys(u)?u:[],n)}return this[r](function(r){return t.apply(ys(r)?r:[],n)})}}),Tr(Bt.prototype,function(n,t){var r=Wt[t];if(r){var e=r.name+"";(_l[e]||(_l[e]=[])).push({name:t,func:r})}}),_l[gu(K,nn).name]=[{name:"wrapper",func:K}],Bt.prototype.clone=zt,Bt.prototype.reverse=$t,Bt.prototype.value=Ut,Wt.prototype.at=Ql,Wt.prototype.chain=ao,Wt.prototype.commit=co,Wt.prototype.next=lo,Wt.prototype.plant=ho,Wt.prototype.reverse=po,Wt.prototype.toJSON=Wt.prototype.valueOf=Wt.prototype.value=_o,Nc&&(Wt.prototype[Nc]=so),Wt}
var K,G="4.13.1",J=200,Y="Expected a function",H="__lodash_hash_undefined__",Q="__lodash_placeholder__",X=1,nn=2,tn=4,rn=8,en=16,un=32,on=64,fn=128,an=256,cn=512,ln=1,sn=2,hn=30,pn="...",_n=150,vn=16,gn=1,yn=2,dn=3,bn=1/0,wn=9007199254740991,xn=1.7976931348623157e308,mn=NaN,jn=4294967295,An=jn-1,On=jn>>>1,kn="[object Arguments]",In="[object Array]",Rn="[object Boolean]",En="[object Date]",Sn="[object Error]",Wn="[object Function]",Ln="[object GeneratorFunction]",Cn="[object Map]",Bn="[object Number]",zn="[object Object]",$n="[object Promise]",Un="[object RegExp]",Fn="[object Set]",Mn="[object String]",Dn="[object Symbol]",Pn="[object WeakMap]",Nn="[object WeakSet]",Tn="[object ArrayBuffer]",qn="[object DataView]",Zn="[object Float32Array]",Vn="[object Float64Array]",Kn="[object Int8Array]",Gn="[object Int16Array]",Jn="[object Int32Array]",Yn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",Qn="[object Uint16Array]",Xn="[object Uint32Array]",nt=/\b__p \+= '';/g,tt=/\b(__p \+=) '' \+/g,rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,et=/&(?:amp|lt|gt|quot|#39|#96);/g,ut=/[&<>"'`]/g,it=RegExp(et.source),ot=RegExp(ut.source),ft=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,ct=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,st=/^\w*$/,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,pt=/[\\^$.*+?()[\]{}|]/g,_t=RegExp(pt.source),vt=/^\s+|\s+$/g,gt=/^\s+/,yt=/\s+$/,dt=/[a-zA-Z0-9]+/g,bt=/\\(\\)?/g,wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xt=/\w*$/,mt=/^0x/i,jt=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Ot=/^\[object .+?Constructor\]$/,kt=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,Rt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Wt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="["+Wt+"]",Ct="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",Bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",zt="[^\\ud800-\\udfff"+Wt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",$t="\\ud83c[\\udffb-\\udfff]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Dt="(?:"+Bt+"|"+zt+")",Pt="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",Nt="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Ut,Ft].join("|")+")[\\ufe0e\\ufe0f]?"+Pt+")*",Tt="[\\ufe0e\\ufe0f]?"+Pt+Nt,qt="(?:"+["[\\u2700-\\u27bf]",Ut,Ft].join("|")+")"+Tt,Zt="(?:"+["[^\\ud800-\\udfff]"+Ct+"?",Ct,Ut,Ft,"[\\ud800-\\udfff]"].join("|")+")",Vt=RegExp("['’]","g"),Kt=RegExp(Ct,"g"),Gt=RegExp($t+"(?="+$t+")|"+Zt+Tt,"g"),Jt=RegExp([Mt+"?"+Bt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Lt,Mt,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Lt,Mt+Dt,"$"].join("|")+")",Mt+"?"+Dt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Mt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d+",qt].join("|"),"g"),Yt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Ht=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","isFinite","parseInt","setTimeout"],Xt=-1,nr={};nr[Zn]=nr[Vn]=nr[Kn]=nr[Gn]=nr[Jn]=nr[Yn]=nr[Hn]=nr[Qn]=nr[Xn]=!0,nr[kn]=nr[In]=nr[Tn]=nr[Rn]=nr[qn]=nr[En]=nr[Sn]=nr[Wn]=nr[Cn]=nr[Bn]=nr[zn]=nr[Un]=nr[Fn]=nr[Mn]=nr[Pn]=!1;var tr={};tr[kn]=tr[In]=tr[Tn]=tr[qn]=tr[Rn]=tr[En]=tr[Zn]=tr[Vn]=tr[Kn]=tr[Gn]=tr[Jn]=tr[Cn]=tr[Bn]=tr[zn]=tr[Un]=tr[Fn]=tr[Mn]=tr[Dn]=tr[Yn]=tr[Hn]=tr[Qn]=tr[Xn]=!0,tr[Sn]=tr[Wn]=tr[Pn]=!1;var rr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},ur={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},ir={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},or=parseFloat,fr=parseInt,ar="object"==typeof exports&&exports,cr=ar&&"object"==typeof module&&module,lr=cr&&cr.exports===ar,sr=S("object"==typeof global&&global),hr=S("object"==typeof self&&self),pr=S("object"==typeof this&&this),_r=sr||hr||pr||Function("return this")(),vr=V();(hr||{})._=vr,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return vr}):cr?((cr.exports=vr)._=vr,ar._=vr):_r._=vr}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],88:[function(require,module,exports){
module.exports=exports=require("./lib");
},{"./lib":101}],89:[function(require,module,exports){
"use strict";var extd=require("./extended"),declare=extd.declare,AVLTree=extd.AVLTree,LinkedList=extd.LinkedList,isPromise=extd.isPromiseLike,EventEmitter=require("events").EventEmitter,FactHash=declare({instance:{constructor:function(){this.memory={},this.memoryValues=new LinkedList},clear:function(){this.memoryValues.clear(),this.memory={}},remove:function(e){var t=e.hashCode,r=this.memory,s=r[t];return s&&(this.memoryValues.remove(s),delete r[t]),s},insert:function(e){var t=e.hashCode;if(t in this.memory)throw new Error("Activation already in agenda "+e.rule.name+" agenda");this.memoryValues.push(this.memory[t]=e)}}}),DEFAULT_AGENDA_GROUP="main";module.exports=declare(EventEmitter,{instance:{constructor:function(e,t){this.agendaGroups={},this.agendaGroupStack=[DEFAULT_AGENDA_GROUP],this.rules={},this.flow=e,this.comparator=t,this.setFocus(DEFAULT_AGENDA_GROUP).addAgendaGroup(DEFAULT_AGENDA_GROUP)},addAgendaGroup:function(e){extd.has(this.agendaGroups,e)||(this.agendaGroups[e]=new AVLTree({compare:this.comparator}))},getAgendaGroup:function(e){return this.agendaGroups[e||DEFAULT_AGENDA_GROUP]},setFocus:function(e){return e!==this.getFocused()&&this.agendaGroups[e]&&(this.agendaGroupStack.push(e),this.emit("focused",e)),this},getFocused:function(){var e=this.agendaGroupStack;return e[e.length-1]},getFocusedAgenda:function(){return this.agendaGroups[this.getFocused()]},register:function(e){var t=e.rule.agendaGroup;this.rules[e.name]={tree:new AVLTree({compare:this.comparator}),factTable:new FactHash},t&&this.addAgendaGroup(t)},isEmpty:function(){for(var e=this.agendaGroupStack,t=!1;this.getFocusedAgenda().isEmpty()&&this.getFocused()!==DEFAULT_AGENDA_GROUP;)e.pop(),t=!0;return t&&this.emit("focused",this.getFocused()),this.getFocusedAgenda().isEmpty()},fireNext:function(){for(var e=this.agendaGroupStack,t=!1;this.getFocusedAgenda().isEmpty()&&this.getFocused()!==DEFAULT_AGENDA_GROUP;)e.pop();if(!this.getFocusedAgenda().isEmpty()){var r=this.pop();this.emit("fire",r.rule.name,r.match.factHash);var s=r.rule.fire(this.flow,r.match);t=!isPromise(s)||s.then(function(){return!0})}return t},pop:function(){for(var e=this.getFocusedAgenda(),t=e.__root;t.right;)t=t.right;var r=t.data;e.remove(r);var s=this.rules[r.name];return s.tree.remove(r),s.factTable.remove(r),r},peek:function(){for(var e=this.getFocusedAgenda(),t=e.__root;t.right;)t=t.right;return t.data},modify:function(e,t){this.retract(e,t),this.insert(e,t)},retract:function(e,t){var r=this.rules[e.name];t.rule=e;var s=r.factTable.remove(t);s&&(this.getAgendaGroup(e.rule.agendaGroup).remove(s),r.tree.remove(s))},insert:function(e,t){var r=this.rules[e.name],s=e.rule,a=s.agendaGroup;r.tree.insert(t),this.getAgendaGroup(a).insert(t),s.autoFocus&&this.setFocus(a),r.factTable.insert(t)},dispose:function(){for(var e in this.agendaGroups)this.agendaGroups[e].clear();var t=this.rules;for(e in t)e in t&&(t[e].tree.clear(),t[e].factTable.clear());this.rules={}}}});
},{"./extended":98,"events":177}],90:[function(require,module,exports){
"use strict";var extd=require("../extended"),forEach=extd.forEach,isString=extd.isString;exports.modifiers=["assert","modify","retract","emit","halt","focus","getFacts"];var createFunction=function(body,defined,scope,scopeNames,definedNames){var declares=[];forEach(definedNames,function(e){-1!==body.indexOf(e)&&declares.push("var "+e+"= defined."+e+";")}),forEach(scopeNames,function(e){-1!==body.indexOf(e)&&declares.push("var "+e+"= scope."+e+";")}),body=["((function(){",declares.join(""),"\n\treturn ",body,"\n})())"].join("");try{return eval(body)}catch(e){throw new Error("Invalid action : "+body+"\n"+e.message)}},createDefined=function(){var e=function(e,r,n){if(isString(e)){var t=[];extd(r).keys().forEach(function(r){-1!==e.indexOf(r)&&t.push("var "+r+"= defined."+r+";")}),extd(n).keys().forEach(function(r){-1!==e.indexOf(r)&&t.push("var "+r+"= function(){var prop = scope."+r+"; return __objToStr__.call(prop) === '[object Function]' ? prop.apply(void 0, arguments) : prop;};")}),t.length&&t.unshift("var __objToStr__ = Object.prototype.toString;"),e=[t.join(""),"return ",e,";"].join(""),e=new Function("defined","scope",e)(r,n)}var o=e.hasOwnProperty("constructor")&&"function"==typeof e.constructor?e.constructor:function(r){r=r||{};for(var n in r)n in e&&(this[n]=r[n])},i=o.prototype;for(var c in e)i[c]=e[c];return o};return function(r,n,t){return e(r.properties,n,t)}}();exports.createFunction=createFunction,exports.createDefined=createDefined;
},{"../extended":98}],91:[function(require,module,exports){
(function (Buffer){
"use strict";var extd=require("../extended"),parser=require("../parser"),constraintMatcher=require("../constraintMatcher.js"),indexOf=extd.indexOf,forEach=extd.forEach,removeDuplicates=extd.removeDuplicates,map=extd.map,obj=extd.hash,keys=obj.keys,merge=extd.merge,rules=require("../rule"),common=require("./common"),modifiers=common.modifiers,createDefined=common.createDefined,createFunction=common.createFunction,parseAction=function(e,r,n,t){var o=[];forEach(r,function(r){-1!==e.indexOf(r)&&o.push("var "+r+"= facts."+r+";")}),extd(n).keys().forEach(function(r){-1!==e.indexOf(r)&&o.push("var "+r+"= defined."+r+";")}),extd(t).keys().forEach(function(r){-1!==e.indexOf(r)&&o.push("var "+r+"= scope."+r+";")}),extd(modifiers).forEach(function(r){-1!==e.indexOf(r)&&o.push("if(!"+r+"){ var "+r+"= flow."+r+";}")});var i=["facts","flow"];/next\(.*\)/.test(e)&&i.push("next"),e=o.join("")+e;try{return new Function("defined, scope","return "+new Function(i.join(","),e).toString())(n,t)}catch(r){throw new Error("Invalid action : "+e+"\n"+r.message)}},createRuleFromObject=function(){function e(n,t,o,i,a){if(n.length){var c=n[0];if("not"===c||"exists"===c){var s=[];n.shift(),r(n,o,s,i,a);var u=s[0];u.unshift(c),t.push(u)}else if("or"===c){var f=[c];n.shift(),forEach(n,function(r){e(r,f,o,i,a)}),t.push(f)}else r(n,o,t,i,a),o=removeDuplicates(o)}}var r=function(e,r,n,t,o){var i=[],a=e[0],c=e[1],s=e[2],u=e[3];if(extd.isHash(s)&&(u=s,s=null),!a||!(a=t[a]))throw new Error("Invalid class "+e[0]+" for rule "+o);if(i.push(a),i.push(c,s,u),n.push(i),r.push(c),s&&forEach(constraintMatcher.getIdentifiers(parser.parseConstraint(s)),function(e){r.push(e)}),extd.isObject(u))for(var f in u){var d=u[f];-1===indexOf(r,d)&&r.push(d)}};return function(r,n,t){var o=r.name;if(extd.isEmpty(r))throw new Error("Rule is empty");var i=r.options||{};i.scope=t;var a=r.constraints||[];a.length||(a=["true"]);var c=r.action;if(extd.isUndefined(c))throw new Error("No action was defined for rule "+o);var s=[],u=[];return forEach(a,function(r){e(r,s,u,n,o)}),rules.createRule(o,i,s,parseAction(c,u,n,t))}}();exports.parse=function(e,r){return parser.parseRuleSet(e,r)},exports.compile=function(e,r,n,t){extd.isFunction(r)?(n=r,r={}):r=r||{};var o=e.name||r.name;if(!o)throw new Error("Name must be present in JSON or options");var i=new t(o),a=merge({Array:Array,String:String,Number:Number,Boolean:Boolean,RegExp:RegExp,Date:Date,Object:Object},r.define||{});"undefined"!=typeof Buffer&&(a.Buffer=Buffer);var c=merge({console:console},r.scope);forEach(e.scope,function(e){c[e.name]=!0}),forEach(e.define,function(e){a[e.name]=createDefined(e,a,c)}),extd(a).forEach(function(e,r){i.addDefined(r,e)});var s=extd(e.scope).pluck("name").union(extd(c).keys().value()).value(),u=map(keys(a),function(e){return e});forEach(e.scope,function(e){c[e.name]=createFunction(e.body,a,c,s,u)});var f=e.rules;return f.length&&forEach(f,function(e){i.__rules=i.__rules.concat(createRuleFromObject(e,a,c))}),n&&n.call(i,i),i},exports.transpile=require("./transpile").transpile;
}).call(this,require("buffer").Buffer)

},{"../constraintMatcher.js":95,"../extended":98,"../parser":130,"../rule":135,"./common":90,"./transpile":92,"buffer":176}],92:[function(require,module,exports){
(function (Buffer){
function definedToJs(e){e=isString(e)?new Function("return "+e+";")():e;var n,r=["(function(){"];e.hasOwnProperty("constructor")&&"function"==typeof e.constructor?r.push("var Defined = "+e.constructor.toString()+";"):r.push("var Defined = function(opts){ for(var i in opts){if(opts.hasOwnProperty(i)){this[i] = opts[i];}}};"),r.push("var proto = Defined.prototype;");for(var t in e)e.hasOwnProperty(t)&&(n=e[t],r.push("proto."+t+" = "+(extd.isFunction(n)?n.toString():extd.format("%j",n))+";"));return r.push("return Defined;"),r.push("}())"),r.join("")}function actionToJs(e,n,r,t){var o=[],i={};forEach(n,function(n){-1!==e.indexOf(n)&&(i[n]=!0,o.push("var "+n+"= facts."+n+";"))}),extd(r).keys().forEach(function(n){-1===e.indexOf(n)||i[n]||(i[n]=!0,o.push("var "+n+"= defined."+n+";"))}),extd(t).keys().forEach(function(n){-1===e.indexOf(n)||i[n]||(i[n]=!0,o.push("var "+n+"= scope."+n+";"))}),extd(modifiers).forEach(function(n){-1===e.indexOf(n)||i[n]||o.push("var "+n+"= flow."+n+";")});var s=["facts","flow"];/next\(.*\)/.test(e)&&s.push("next"),e=o.join("")+e;try{return["function(",s.join(","),"){",e,"}"].join("")}catch(n){throw new Error("Invalid action : "+e+"\n"+n.message)}}function parseConstraintModifier(e,n){if(e.length&&extd.isString(e[0])){var r=e[0].match(" *(from)");if(r)switch(r=r[0]){case"from":n.push(', "',e.shift(),'"');break;default:throw new Error("Unrecognized modifier "+r)}}}function parseConstraintHash(e,n,r){if(e.length&&extd.isHash(e[0])){var t=e.shift();extd(t).values().forEach(function(e){-1===indexOf(r,e)&&r.push(e)}),n.push(","+extd.format("%j",[t]))}}function constraintsToJs(e,n){e=e.slice(0);var r=[];if("or"===e[0])return r.push('["'+e.shift()+'"'),r.push(extd.map(e,function(e){return constraintsToJs(e,n)}).join(",")+"]"),r;if("not"!==e[0]&&"exists"!==e[0]||r.push('"',e.shift(),'", '),n.push(e[1]),r.push(e[0],', "'+e[1].replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),e.splice(0,2),e.length){var t=e.shift();extd.isString(t)&&t?(r.push(',"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),'"'),forEach(constraintMatcher.getIdentifiers(parser.parseConstraint(t)),function(e){n.push(e)})):(r.push(',"true"'),e.unshift(t))}return parseConstraintModifier(e,r),parseConstraintHash(e,r,n),"["+r.join("")+"]"}var extd=require("../extended"),forEach=extd.forEach,indexOf=extd.indexOf,merge=extd.merge,isString=extd.isString,modifiers=require("./common").modifiers,constraintMatcher=require("../constraintMatcher"),parser=require("../parser");exports.transpile=function(e,n){n=n||{};var r=[];r.push("(function(){"),r.push("return function(options){"),r.push("options = options || {};"),r.push("var bind = function(scope, fn){return function(){return fn.apply(scope, arguments);};}, defined = {Array: Array, String: String, Number: Number, Boolean: Boolean, RegExp: RegExp, Date: Date, Object: Object}, scope = options.scope || {};"),r.push("var optDefined = options.defined || {}; for(var i in optDefined){defined[i] = optDefined[i];}");var t=merge({Array:Array,String:String,Number:Number,Boolean:Boolean,RegExp:RegExp,Date:Date,Object:Object},n.define||{});"undefined"!=typeof Buffer&&(t.Buffer=Buffer);var o=merge({console:console},n.scope);return r.push(["return nools.flow('",n.name,"', function(){"].join("")),r.push(extd(e.define||[]).map(function(e){var n=e.name;return e[n]={},["var",n,"= defined."+n,"= this.addDefined('"+n+"',",definedToJs(e.properties)+");"].join(" ")}).value().join("\n")),r.push(extd(e.scope||[]).map(function(e){var n=e.name;return o[n]={},["var",n,"= scope."+n,"= ",e.body,";"].join(" ")}).value().join("\n")),r.push("scope.console = console;\n"),r.push(extd(e.rules||[]).map(function(e){var n=[],r=["this.rule('",e.name.replace(/'/g,"\\'"),"'"],i=extd.merge(e.options||{},{scope:"scope"});return r.push(",",extd.format("%j",[i]).replace(/(:"scope")/,":scope")),e.constraints&&!extd.isEmpty(e.constraints)&&(r.push(", ["),r.push(extd(e.constraints).map(function(e){return constraintsToJs(e,n)}).value().join(",")),r.push("]")),r.push(",",actionToJs(e.action,n,t,o)),r.push(");"),r.join("")}).value().join("")),r.push("});"),r.push("};"),r.push("}());"),r.join("")};
}).call(this,require("buffer").Buffer)

},{"../constraintMatcher":95,"../extended":98,"../parser":130,"./common":90,"buffer":176}],93:[function(require,module,exports){
function salience(e,t){return e.rule.priority-t.rule.priority}function bucketCounter(e,t){return e.counter-t.counter}function factRecency(e,t){for(var n=0,r=e.match.recency,c=t.match.recency,a=r.length-1,i=c.length-1;r[n]===c[n]&&n<a&&n<i&&n++;);var u=r[n]-c[n];return u||(u=a-i),u}function activationRecency(e,t){return e.recency-t.recency}var map=require("./extended").map,strategies={salience:salience,bucketCounter:bucketCounter,factRecency:factRecency,activationRecency:activationRecency};exports.strategies=strategies,exports.strategy=function(e){e=map(e,function(e){return strategies[e]});var t=e.length;return function(n,r){var c=-1,a=0;if(n!==r&&(n.name!==r.name||n.hashCode!==r.hashCode)){for(;++c<t&&!a;)a=e[c](n,r);a=a>0?1:-1}return a}};
},{"./extended":98}],94:[function(require,module,exports){
"use strict";var extd=require("./extended"),deepEqual=extd.deepEqual,merge=extd.merge,instanceOf=extd.instanceOf,filter=extd.filter,declare=extd.declare,constraintMatcher,id=0,Constraint=declare({type:null,instance:{constructor:function(t){constraintMatcher||(constraintMatcher=require("./constraintMatcher")),this.id=id++,this.constraint=t,extd.bindAll(this,["assert"])},assert:function(){throw new Error("not implemented")},getIndexableProperties:function(){return[]},equal:function(t){return instanceOf(t,this._static)&&this.get("alias")===t.get("alias")&&extd.deepEqual(this.constraint,t.constraint)},getters:{variables:function(){return[this.get("alias")]}}}});Constraint.extend({instance:{type:"object",constructor:function(t){this._super([t])},assert:function(t){return t instanceof this.constraint||t.constructor===this.constraint},equal:function(t){return instanceOf(t,this._static)&&this.constraint===t.constraint}}}).as(exports,"ObjectConstraint");var EqualityConstraint=Constraint.extend({instance:{type:"equality",constructor:function(t,e){this._super([t]),e=e||{},this.pattern=e.pattern,this._matcher=constraintMatcher.getMatcher(t,e,!0)},assert:function(t){return this._matcher(t)}}}).as(exports,"EqualityConstraint");EqualityConstraint.extend({instance:{type:"inequality"}}).as(exports,"InequalityConstraint"),EqualityConstraint.extend({instance:{type:"comparison"}}).as(exports,"ComparisonConstraint"),Constraint.extend({instance:{type:"equality",constructor:function(){this._super([[!0]])},equal:function(t){return instanceOf(t,this._static)&&this.get("alias")===t.get("alias")},assert:function(){return!0}}}).as(exports,"TrueConstraint");var ReferenceConstraint=Constraint.extend({instance:{type:"reference",constructor:function(t,e){this.cache={},this._super([t]),e=e||{},this.values=[],this.pattern=e.pattern,this._options=e,this._matcher=constraintMatcher.getMatcher(t,e,!1)},assert:function(t,e){try{return this._matcher(t,e)}catch(t){throw new Error("Error with evaluating pattern "+this.pattern+" "+t.message)}},merge:function(t){var e=this;return t instanceof ReferenceConstraint&&(e=new this._static([this.constraint,t.constraint,"and"],merge({},this._options,this._options)),e._alias=this._alias||t._alias,e.vars=this.vars.concat(t.vars)),e},equal:function(t){return instanceOf(t,this._static)&&extd.deepEqual(this.constraint,t.constraint)},getters:{variables:function(){return this.vars},alias:function(){return this._alias}},setters:{alias:function(t){this._alias=t,this.vars=filter(constraintMatcher.getIdentifiers(this.constraint),function(e){return e!==t})}}}}).as(exports,"ReferenceConstraint");ReferenceConstraint.extend({instance:{type:"reference_equality",op:"eq",getIndexableProperties:function(){return constraintMatcher.getIndexableProperties(this.constraint)}}}).as(exports,"ReferenceEqualityConstraint").extend({instance:{type:"reference_inequality",op:"neq"}}).as(exports,"ReferenceInequalityConstraint").extend({instance:{type:"reference_gt",op:"gt"}}).as(exports,"ReferenceGTConstraint").extend({instance:{type:"reference_gte",op:"gte"}}).as(exports,"ReferenceGTEConstraint").extend({instance:{type:"reference_lt",op:"lt"}}).as(exports,"ReferenceLTConstraint").extend({instance:{type:"reference_lte",op:"lte"}}).as(exports,"ReferenceLTEConstraint"),Constraint.extend({instance:{type:"hash",constructor:function(t){this._super([t])},equal:function(t){return extd.instanceOf(t,this._static)&&this.get("alias")===t.get("alias")&&extd.deepEqual(this.constraint,t.constraint)},assert:function(){return!0},getters:{variables:function(){return this.constraint}}}}).as(exports,"HashConstraint"),Constraint.extend({instance:{constructor:function(t,e){this.type="from",this.constraints=constraintMatcher.getSourceMatcher(t,e||{},!0),extd.bindAll(this,["assert"])},equal:function(t){return instanceOf(t,this._static)&&this.get("alias")===t.get("alias")&&deepEqual(this.constraints,t.constraints)},assert:function(t,e){return this.constraints(t,e)},getters:{variables:function(){return this.constraint}}}}).as(exports,"FromConstraint"),Constraint.extend({instance:{constructor:function(t,e){this.type="custom",this.fn=t,this.options=e,extd.bindAll(this,["assert"])},equal:function(t){return instanceOf(t,this._static)&&this.fn===t.constraint},assert:function(t,e){return this.fn(t,e)}}}).as(exports,"CustomConstraint");
},{"./constraintMatcher":95,"./extended":98}],95:[function(require,module,exports){
"use strict";function getProps(e){return extd(e).map(function(e){return isArray(e)?isArray(e[0])?getProps(e).value():e.reverse().join("."):e}).flatten().filter(function(e){return!!e})}var extd=require("./extended"),isArray=extd.isArray,forEach=extd.forEach,some=extd.some,indexOf=extd.indexOf,isNumber=extd.isNumber,removeDups=extd.removeDuplicates,atoms=require("./constraint"),definedFuncs={indexOf:extd.indexOf,now:function(){return new Date},Date:function(e,n,t,r,i,s,o){var a=new Date;return isNumber(e)&&a.setYear(e),isNumber(n)&&a.setMonth(n),isNumber(t)&&a.setDate(t),isNumber(r)&&a.setHours(r),isNumber(i)&&a.setMinutes(i),isNumber(s)&&a.setSeconds(s),isNumber(o)&&a.setMilliseconds(o),a},lengthOf:function(e,n){return e.length===n},isTrue:function(e){return!0===e},isFalse:function(e){return!1===e},isNotNull:function(e){return null!==e},dateCmp:function(e,n){return extd.compare(e,n)}};forEach(["years","days","months","hours","minutes","seconds"],function(e){definedFuncs[e+"FromNow"]=extd[e+"FromNow"],definedFuncs[e+"Ago"]=extd[e+"Ago"]}),forEach(["isArray","isNumber","isHash","isObject","isDate","isBoolean","isString","isRegExp","isNull","isEmpty","isUndefined","isDefined","isUndefinedOrNull","isPromiseLike","isFunction","deepEqual"],function(e){var n=extd[e];definedFuncs[e]=function(){return n.apply(extd,arguments)}});var lang={equal:function(e,n){var t=!1;return e===n?t=!0:e[2]===n[2]&&(t=-1!==indexOf(["string","number","boolean","regexp","identifier","null"],e[2])?e[0]===n[0]:"unary"===e[2]||"logicalNot"===e[2]?this.equal(e[0],n[0]):this.equal(e[0],n[0])&&this.equal(e[1],n[1])),t},__getProperties:function(e){var n=[];if(e){var t=e[2];if(!t)return n;"prop"!==t&&"identifier"!==t&&"string"!==t&&"number"!==t&&"boolean"!==t&&"regexp"!==t&&"unary"!==t&&"unary"!==t?(n[0]=this.__getProperties(e[0]),n[1]=this.__getProperties(e[1])):n="identifier"===t?[e[0]]:lang.__getProperties(e[1]).concat(lang.__getProperties(e[0]))}return n},getIndexableProperties:function(e){return"composite"===e[2]?this.getIndexableProperties(e[0]):/^(\w+(\['[^']*'])*) *([!=]==?|[<>]=?) (\w+(\['[^']*'])*)$/.test(this.parse(e))?getProps(this.__getProperties(e)).flatten().value():[]},getIdentifiers:function(e){var n=[],t=e[2];if("identifier"===t)return[e[0]];if("function"===t)n=n.concat(this.getIdentifiers(e[0])).concat(this.getIdentifiers(e[1]));else if("string"!==t&&"number"!==t&&"boolean"!==t&&"regexp"!==t&&"unary"!==t&&"unary"!==t)if("prop"===t){if(n=n.concat(this.getIdentifiers(e[0])),e[1])for(var r=e[1];isArray(r);){if("function"===r[2]){n=n.concat(this.getIdentifiers(r[1]));break}r=r[1]}}else e[0]&&(n=n.concat(this.getIdentifiers(e[0]))),e[1]&&(n=n.concat(this.getIdentifiers(e[1])));return removeDups(n)},toConstraints:function(e,n){var t=[],r=n.alias,i=n.scope||{},s=e[2];if("and"===s)t=t.concat(this.toConstraints(e[0],n)).concat(this.toConstraints(e[1],n));else if("composite"===s||"or"===s||"lt"===s||"gt"===s||"lte"===s||"gte"===s||"like"===s||"notLike"===s||"eq"===s||"neq"===s||"seq"===s||"sneq"===s||"in"===s||"notIn"===s||"prop"===s||"propLookup"===s||"function"===s||"logicalNot"===s){var o=some(this.getIdentifiers(e),function(e){return!(e===r||e in definedFuncs||e in i)});switch(s){case"eq":case"seq":t.push(new atoms[o?"ReferenceEqualityConstraint":"EqualityConstraint"](e,n));break;case"neq":case"sneq":t.push(new atoms[o?"ReferenceInequalityConstraint":"InequalityConstraint"](e,n));break;case"gt":t.push(new atoms[o?"ReferenceGTConstraint":"ComparisonConstraint"](e,n));break;case"gte":t.push(new atoms[o?"ReferenceGTEConstraint":"ComparisonConstraint"](e,n));break;case"lt":t.push(new atoms[o?"ReferenceLTConstraint":"ComparisonConstraint"](e,n));break;case"lte":t.push(new atoms[o?"ReferenceLTEConstraint":"ComparisonConstraint"](e,n));break;default:t.push(new atoms[o?"ReferenceConstraint":"ComparisonConstraint"](e,n))}}return t},parse:function(e){return this[e[2]](e[0],e[1])},composite:function(e){return this.parse(e)},and:function(e,n){return["(",this.parse(e),"&&",this.parse(n),")"].join(" ")},or:function(e,n){return["(",this.parse(e),"||",this.parse(n),")"].join(" ")},prop:function(e,n){return"function"===n[2]?[this.parse(e),this.parse(n)].join("."):[this.parse(e),"['",this.parse(n),"']"].join("")},propLookup:function(e,n){return"function"===n[2]?[this.parse(e),this.parse(n)].join("."):[this.parse(e),"[",this.parse(n),"]"].join("")},unary:function(e){return-1*this.parse(e)},plus:function(e,n){return[this.parse(e),"+",this.parse(n)].join(" ")},minus:function(e,n){return[this.parse(e),"-",this.parse(n)].join(" ")},mult:function(e,n){return[this.parse(e),"*",this.parse(n)].join(" ")},div:function(e,n){return[this.parse(e),"/",this.parse(n)].join(" ")},mod:function(e,n){return[this.parse(e),"%",this.parse(n)].join(" ")},lt:function(e,n){return[this.parse(e),"<",this.parse(n)].join(" ")},gt:function(e,n){return[this.parse(e),">",this.parse(n)].join(" ")},lte:function(e,n){return[this.parse(e),"<=",this.parse(n)].join(" ")},gte:function(e,n){return[this.parse(e),">=",this.parse(n)].join(" ")},like:function(e,n){return[this.parse(n),".test(",this.parse(e),")"].join("")},notLike:function(e,n){return["!",this.parse(n),".test(",this.parse(e),")"].join("")},eq:function(e,n){return[this.parse(e),"==",this.parse(n)].join(" ")},seq:function(e,n){return[this.parse(e),"===",this.parse(n)].join(" ")},neq:function(e,n){return[this.parse(e),"!=",this.parse(n)].join(" ")},sneq:function(e,n){return[this.parse(e),"!==",this.parse(n)].join(" ")},in:function(e,n){return["(indexOf(",this.parse(n),",",this.parse(e),")) != -1"].join("")},notIn:function(e,n){return["(indexOf(",this.parse(n),",",this.parse(e),")) == -1"].join("")},arguments:function(e,n){var t=[];return e&&t.push(this.parse(e)),n&&t.push(this.parse(n)),t.join(",")},array:function(e){var n=[];return e?(n=this.parse(e),isArray(n)?n:["[",n,"]"].join("")):["[",n.join(","),"]"].join("")},function:function(e,n){var t=this.parse(n);return[this.parse(e),"(",t,")"].join("")},string:function(e){return"'"+e+"'"},number:function(e){return e},boolean:function(e){return e},regexp:function(e){return e},identifier:function(e){return e},null:function(){return"null"},logicalNot:function(e){return["!(",this.parse(e),")"].join("")}},matcherCount=0,toJs=exports.toJs=function(e,n,t,r,i){var s=lang.parse(e);n=n||{};var o=lang.getIdentifiers(e),a=["var indexOf = definedFuncs.indexOf; var hasOwnProperty = Object.prototype.hasOwnProperty;"],u=[];extd(o).filter(function(e){var t=["var ",e," = "];if(definedFuncs.hasOwnProperty(e))t.push("definedFuncs['",e,"']");else{if(!n.hasOwnProperty(e))return!0;t.push("scope['",e,"']")}return t.push(";"),a.push(t.join("")),!1}).forEach(function(e){var n=["var ",e," = "];r||e!==t?n.push("fact."+e):e===t&&n.push("hash.",e,""),n.push(";"),u.push(n.join(""))});var c=a.join("")+"return function matcher"+matcherCount+++(r?"(fact){":"(fact, hash){")+u.join("")+" return "+(i?i(s):s)+";}";return new Function("definedFuncs, scope",c)(definedFuncs,n)};exports.getMatcher=function(e,n,t){return n=n||{},toJs(e,n.scope,n.alias,t,function(e){return"!!("+e+")"})},exports.getSourceMatcher=function(e,n,t){return n=n||{},toJs(e,n.scope,n.alias,t,function(e){return e})},exports.toConstraints=function(e,n){return"function"==typeof e?[new atoms.CustomConstraint(e,n)]:lang.toConstraints(e,n)},exports.equal=function(e,n){return lang.equal(e,n)},exports.getIdentifiers=function(e){return lang.getIdentifiers(e)},exports.getIndexableProperties=function(e){return lang.getIndexableProperties(e)};
},{"./constraint":94,"./extended":98}],96:[function(require,module,exports){
"use strict";function createContextHash(t,s){for(var a="",h=-1,e=t.length;++h<e;)a+=t[h].id+":";return a+=s}function merge(t,s,a){for(var h,e=-1,c=a.length;++e<c;)h=a[e],t[h]=s[h]}function unionRecency(t,s,a){pPush.apply(t,s);for(var h,e=-1,c=a.length,i=t.length;++e<c;)h=a[e],-1===indexOf(t,h)&&(t[i++]=h)}var extd=require("./extended"),isBoolean=extd.isBoolean,declare=extd.declare,indexOf=extd.indexOf,pPush=Array.prototype.push,Match=declare({instance:{isMatch:!0,hashCode:"",facts:null,factIds:null,factHash:null,recency:null,aliases:null,constructor:function(){this.facts=[],this.factIds=[],this.factHash={},this.recency=[],this.aliases=[]},addFact:function(t){return pPush.call(this.facts,t),pPush.call(this.recency,t.recency),pPush.call(this.factIds,t.id),this.hashCode=this.factIds.join(":"),this},merge:function(t){var s=new Match;return s.isMatch=t.isMatch,pPush.apply(s.facts,this.facts),pPush.apply(s.facts,t.facts),pPush.apply(s.aliases,this.aliases),pPush.apply(s.aliases,t.aliases),s.hashCode=this.hashCode+":"+t.hashCode,merge(s.factHash,this.factHash,this.aliases),merge(s.factHash,t.factHash,t.aliases),unionRecency(s.recency,this.recency,t.recency),s}}}),Context=declare({instance:{match:null,factHash:null,aliases:null,fact:null,hashCode:null,paths:null,pathsHash:null,constructor:function(t,s,a){this.fact=t,this.match=a||(new Match).addFact(t),this.factHash=this.match.factHash,this.aliases=this.match.aliases,this.hashCode=this.match.hashCode,s?(this.paths=s,this.pathsHash=createContextHash(s,this.hashCode)):this.pathsHash=this.hashCode},set:function(t,s){return this.factHash[t]=s,this.aliases.push(t),this},isMatch:function(t){return isBoolean(t)?(this.match.isMatch=t,this):this.match.isMatch},mergeMatch:function(t){var s=this.match=this.match.merge(t);return this.factHash=s.factHash,this.hashCode=s.hashCode,this.aliases=s.aliases,this},clone:function(t,s,a){return new Context(t||this.fact,s||this.path,a||this.match)}}}).as(module);
},{"./extended":98}],97:[function(require,module,exports){
var extd=require("./extended"),Promise=extd.Promise,nextTick=require("./nextTick"),isPromiseLike=extd.isPromiseLike;Promise.extend({instance:{looping:!1,constructor:function(t,e){this._super([]),this.flow=t,this.agenda=t.agenda,this.rootNode=t.rootNode,this.matchUntilHalt=!!e,extd.bindAll(this,["onAlter","callNext"])},halt:function(){this.__halted=!0,this.looping||this.callback()},onAlter:function(){this.flowAltered=!0,this.looping||!this.matchUntilHalt||this.__halted||this.callNext()},setup:function(){var t=this.flow;this.rootNode.resetCounter(),t.on("assert",this.onAlter),t.on("modify",this.onAlter),t.on("retract",this.onAlter)},tearDown:function(){var t=this.flow;t.removeListener("assert",this.onAlter),t.removeListener("modify",this.onAlter),t.removeListener("retract",this.onAlter)},__handleAsyncNext:function(t){var e=this,i=e.agenda;return t.then(function(){e.looping=!1,i.isEmpty()?e.matchUntilHalt&&!e.__halted||e.callback():(e.flowAltered&&(e.rootNode.incrementCounter(),e.flowAltered=!1),e.__halted?e.callback():e.callNext()),e=null},this.errback)},__handleSyncNext:function(t){return this.looping=!1,this.agenda.isEmpty()||this.flowAltered&&(this.rootNode.incrementCounter(),this.flowAltered=!1),t&&!this.__halted?nextTick(this.callNext):this.matchUntilHalt&&!this.__halted||this.callback(),t},callback:function(){this.tearDown(),this._super(arguments)},callNext:function(){this.looping=!0;var t=this.agenda.fireNext();return isPromiseLike(t)?this.__handleAsyncNext(t):this.__handleSyncNext(t)},execute:function(){return this.setup(),this.callNext(),this}}}).as(module);
},{"./extended":98,"./nextTick":103}],98:[function(require,module,exports){
function plucked(e){var r=e.match(/(\w+)\(\)$/);return r?(e=r[1],function(r){return r[e]()}):function(r){return r[e]}}function plucker(e){if(e=e.split("."),1===e.length)return plucked(e[0]);var r=map(e,function(e){return plucked(e)}),i=r.length;return function(e){for(var n=-1,t=e;++n<i;)t=r[n](t);return t}}function intersection(e,r){e=pSlice.call(e);var i,n,t=-1;for(n=e.length;++t<n;)i=e[t],-1===indexOf(r,i)&&(pSplice.call(e,t--,1),n--);return e}function inPlaceIntersection(e,r){var i,n,t=-1;for(n=e.length;++t<n;)i=e[t],-1===indexOf(r,i)&&(pSplice.call(e,t--,1),n--);return e}function inPlaceDifference(e,r){var i,n,t=-1;for(n=e.length;++t<n;)i=e[t],-1!==indexOf(r,i)&&(pSplice.call(e,t--,1),n--);return e}function diffArr(e,r){var i,n,t,c=[],u=-1,f=r.length,l=e.length;if(f>l){for(c=e.slice();++u<f;)for(n=r[u],i=-1,l=c.length;++i<l;)if(c[i]===n){c.splice(i,1);break}}else for(;++u<l;){for(n=e[u],i=-1,t=!1;++i<f;)if(r[i]===n){t=!0;break}t||c.push(n)}return c}function diffHash(e,r){var i={};for(var n in e)hasOwnProperty.call(r,n)||(i[n]=e[n]);return i}function union(e,r){return unique(e.concat(r))}var arr=require("array-extended"),unique=arr.unique,indexOf=arr.indexOf,map=arr.map,pSlice=Array.prototype.slice,pSplice=Array.prototype.splice;module.exports=require("extended")().register(require("date-extended")).register(arr).register(require("object-extended")).register(require("string-extended")).register(require("promise-extended")).register(require("function-extended")).register(require("is-extended")).register("intersection",intersection).register("inPlaceIntersection",inPlaceIntersection).register("inPlaceDifference",inPlaceDifference).register("diffArr",diffArr).register("diffHash",diffHash).register("unionArr",union).register("plucker",plucker).register("HashTable",require("ht")).register("declare",require("declare.js")).register(require("leafy")).register("LinkedList",require("./linkedList"));
},{"./linkedList":102,"array-extended":6,"date-extended":52,"declare.js":54,"extended":55,"function-extended":58,"ht":80,"is-extended":81,"leafy":86,"object-extended":137,"promise-extended":138,"string-extended":139}],99:[function(require,module,exports){
"use strict";var extd=require("./extended"),bind=extd.bind,declare=extd.declare,nodes=require("./nodes"),EventEmitter=require("events").EventEmitter,wm=require("./workingMemory"),WorkingMemory=wm.WorkingMemory,ExecutionStragegy=require("./executionStrategy"),AgendaTree=require("./agenda");module.exports=declare(EventEmitter,{instance:{name:null,executionStrategy:null,constructor:function(t,e){this.env=null,this.name=t,this.__rules={},this.conflictResolutionStrategy=e,this.workingMemory=new WorkingMemory,this.agenda=new AgendaTree(this,e),this.agenda.on("fire",bind(this,"emit","fire")),this.agenda.on("focused",bind(this,"emit","focused")),this.rootNode=new nodes.RootNode(this.workingMemory,this.agenda),extd.bindAll(this,"halt","assert","retract","modify","focus","emit","getFacts","getFact")},getFacts:function(t){return t?this.workingMemory.getFactsByType(t):this.workingMemory.getFacts()},getFact:function(t){var e;return(e=t?this.workingMemory.getFactsByType(t):this.workingMemory.getFacts())&&e[0]},focus:function(t){return this.agenda.setFocus(t),this},halt:function(){return this.executionStrategy.halt(),this},dispose:function(){this.workingMemory.dispose(),this.agenda.dispose(),this.rootNode.dispose()},assert:function(t){return this.rootNode.assertFact(this.workingMemory.assertFact(t)),this.emit("assert",t),t},retract:function(t){return this.rootNode.retractFact(this.workingMemory.retractFact(t)),this.emit("retract",t),t},modify:function(t,e){return"function"==typeof e&&e.call(t,t),this.rootNode.modifyFact(this.workingMemory.modifyFact(t)),this.emit("modify",t),t},print:function(){this.rootNode.print()},containsRule:function(t){return this.rootNode.containsRule(t)},rule:function(t){this.rootNode.assertRule(t)},matchUntilHalt:function(t){return(this.executionStrategy=new ExecutionStragegy(this,!0)).execute().classic(t).promise()},match:function(t){return(this.executionStrategy=new ExecutionStragegy(this)).execute().classic(t).promise()}}});
},{"./agenda":89,"./executionStrategy":97,"./extended":98,"./nodes":113,"./workingMemory":136,"events":177}],100:[function(require,module,exports){
"use strict";var extd=require("./extended"),instanceOf=extd.instanceOf,forEach=extd.forEach,declare=extd.declare,InitialFact=require("./pattern").InitialFact,conflictStrategies=require("./conflict"),conflictResolution=conflictStrategies.strategy(["salience","activationRecency"]),rule=require("./rule"),Flow=require("./flow"),flows={},FlowContainer=declare({instance:{constructor:function(e,t){if(this.name=e,this.cb=t,this.__rules=[],this.__defined={},this.conflictResolutionStrategy=conflictResolution,t&&t.call(this,this),flows.hasOwnProperty(e))throw new Error("Flow with "+e+" already defined");flows[e]=this},conflictResolution:function(e){return this.conflictResolutionStrategy=conflictStrategies.strategy(e),this},getDefined:function(e){var t=this.__defined[e.toLowerCase()];if(!t)throw new Error(e+" flow class is not defined");return t},addDefined:function(e,t){return this.__defined[e.toLowerCase()]=t,t},rule:function(){return this.__rules=this.__rules.concat(rule.createRule.apply(rule,arguments)),this},getSession:function(){var e=new Flow(this.name,this.conflictResolutionStrategy);forEach(this.__rules,function(t){e.rule(t)}),e.assert(new InitialFact);for(var t=0,n=arguments.length;t<n;t++)e.assert(arguments[t]);return e},containsRule:function(e){return extd.some(this.__rules,function(t){return t.name===e})}},static:{getFlow:function(e){return flows[e]},hasFlow:function(e){return extd.has(flows,e)},deleteFlow:function(e){return instanceOf(e,FlowContainer)&&(e=e.name),delete flows[e],FlowContainer},deleteFlows:function(){for(var e in flows)e in flows&&delete flows[e];return FlowContainer},create:function(e,t){return new FlowContainer(e,t)}}}).as(module);
},{"./conflict":93,"./extended":98,"./flow":99,"./pattern":134,"./rule":135}],101:[function(require,module,exports){
"use strict";function isNoolsFile(e){return/\.nools$/.test(e)}function parse(e){return isNoolsFile(e)?compile.parse(fs.readFileSync(e,"utf8"),e):compile.parse(e)}var extd=require("./extended"),fs=require("fs"),path=require("path"),compile=require("./compile"),FlowContainer=require("./flowContainer");exports.Flow=FlowContainer,exports.getFlow=FlowContainer.getFlow,exports.hasFlow=FlowContainer.hasFlow,exports.deleteFlow=function(e){return FlowContainer.deleteFlow(e),this},exports.deleteFlows=function(){return FlowContainer.deleteFlows(),this},exports.flow=FlowContainer.create,exports.compile=function(e,o,t){if(extd.isFunction(o)?(t=o,o={}):o=o||{},extd.isString(e)&&(o.name=o.name||(isNoolsFile(e)?path.basename(e,path.extname(e)):null),e=parse(e)),!o.name)throw new Error("Name required when compiling nools source");return compile.compile(e,o,t,FlowContainer)},exports.transpile=function(e,o){return o=o||{},extd.isString(e)&&(o.name=o.name||(isNoolsFile(e)?path.basename(e,path.extname(e)):null),e=parse(e)),compile.transpile(e,o)},exports.parse=parse;
},{"./compile":91,"./extended":98,"./flowContainer":100,"fs":175,"path":180}],102:[function(require,module,exports){
var declare=require("declare.js");declare({instance:{constructor:function(){this.head=null,this.tail=null,this.length=null},push:function(t){var e=this.tail,n=this.head,a={data:t,prev:e,next:null};return e&&(this.tail.next=a),this.tail=a,n||(this.head=a),this.length++,a},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,this.length--},forEach:function(t){for(var e={next:this.head};e=e.next;)t(e.data)},toArray:function(){for(var t={next:this.head},e=[];t=t.next;)e.push(t);return e},removeByData:function(t){for(var e={next:this.head};e=e.next;)if(e.data===t){this.remove(e);break}},getByData:function(t){for(var e={next:this.head};e=e.next;)if(e.data===t)return e},clear:function(){this.head=this.tail=null,this.length=0}}}).as(module);
},{"declare.js":54}],103:[function(require,module,exports){
(function (process,setImmediate){
var extd=require("./extended"),nextTick;if("function"==typeof setImmediate)nextTick="undefined"!=typeof window?extd.bind(window,setImmediate):setImmediate;else if("undefined"!=typeof process)nextTick=process.nextTick;else if("undefined"!=typeof MessageChannel){var channel=new MessageChannel,head={},tail=head;channel.port1.onmessage=function(){head=head.next;var e=head.task;delete head.task,e()},nextTick=function(e){tail=tail.next={task:e},channel.port2.postMessage(0)}}else nextTick=function(e){setTimeout(e,0)};module.exports=nextTick;
}).call(this,require('_process'),require("timers").setImmediate)

},{"./extended":98,"_process":181,"timers":182}],104:[function(require,module,exports){
var Node=require("./node"),intersection=require("../extended").intersection;Node.extend({instance:{__propagatePaths:function(e,t){for(var n,a,o,r,i=this.__entrySet,s=i.length;--s>-1;)n=i[s],a=n.key,o=n.value,(r=intersection(o,t.paths)).length&&a[e](t.clone(null,r,null))},__propagateNoPaths:function(e,t){for(var n=this.__entrySet,a=n.length;--a>-1;)n[a].key[e](t)},__propagate:function(e,t){t.paths?this.__propagatePaths(e,t):this.__propagateNoPaths(e,t)}}}).as(module);
},{"../extended":98,"./node":123}],105:[function(require,module,exports){
var AlphaNode=require("./alphaNode");AlphaNode.extend({instance:{constructor:function(){this._super(arguments),this.alias=this.constraint.get("alias")},toString:function(){return"AliasNode"+this.__count},assert:function(t){return this.__propagate("assert",t.set(this.alias,t.fact.object))},modify:function(t){return this.__propagate("modify",t.set(this.alias,t.fact.object))},retract:function(t){return this.__propagate("retract",t.set(this.alias,t.fact.object))},equal:function(t){return t instanceof this._static&&this.alias===t.alias}}}).as(module);
},{"./alphaNode":106}],106:[function(require,module,exports){
"use strict";var Node=require("./node");Node.extend({instance:{constructor:function(t){this._super([]),this.constraint=t,this.constraintAssert=this.constraint.assert},toString:function(){return"AlphaNode "+this.__count},equal:function(t){return this.constraint.equal(t.constraint)}}}).as(module);
},{"./node":123}],107:[function(require,module,exports){
var extd=require("../extended"),keys=extd.hash.keys,Node=require("./node"),LeftMemory=require("./misc/leftMemory"),RightMemory=require("./misc/rightMemory");Node.extend({instance:{nodeType:"BetaNode",constructor:function(){this._super([]),this.leftMemory={},this.rightMemory={},this.leftTuples=new LeftMemory,this.rightTuples=new RightMemory},__propagate:function(t,e){for(var r,o,h=this.__entrySet,a=h.length;--a>-1;)r=h[a],o=r.key,o[t](e)},dispose:function(){this.leftMemory={},this.rightMemory={},this.leftTuples.clear(),this.rightTuples.clear()},disposeLeft:function(t){this.leftMemory={},this.leftTuples.clear(),this.propagateDispose(t)},disposeRight:function(t){this.rightMemory={},this.rightTuples.clear(),this.propagateDispose(t)},hashCode:function(){return this.nodeType+" "+this.__count},toString:function(){return this.nodeType+" "+this.__count},retractLeft:function(t){t=this.removeFromLeftMemory(t).data;for(var e=t.rightMatches,r=keys(e),o=-1,h=r.length;++o<h;)this.__propagate("retract",e[r[o]].clone())},retractRight:function(t){t=this.removeFromRightMemory(t).data;for(var e=t.leftMatches,r=keys(e),o=-1,h=r.length;++o<h;)this.__propagate("retract",e[r[o]].clone())},assertLeft:function(t){this.__addToLeftMemory(t);for(var e=this.rightTuples.getRightMemory(t),r=-1,o=e.length;++r<o;)this.propagateFromLeft(t,e[r].data)},assertRight:function(t){this.__addToRightMemory(t);for(var e=this.leftTuples.getLeftMemory(t),r=-1,o=e.length;++r<o;)this.propagateFromRight(t,e[r].data)},modifyLeft:function(t){var e=this.removeFromLeftMemory(t).data;this.__addToLeftMemory(t);var r,o=this.rightTuples.getRightMemory(t),h=o.length,a=-1;if(h)for(r=e.rightMatches;++a<h;)this.propagateAssertModifyFromLeft(t,r,o[a].data);else this.propagateRetractModifyFromLeft(e)},modifyRight:function(t){var e=this.removeFromRightMemory(t).data;this.__addToRightMemory(t);var r=this.leftTuples.getLeftMemory(t);if(r.length)for(var o=e.leftMatches,h=-1,a=r.length;++h<a;)this.propagateAssertModifyFromRight(t,o,r[h].data);else this.propagateRetractModifyFromRight(e)},propagateFromLeft:function(t,e){this.__propagate("assert",this.__addToMemoryMatches(e,t,t.clone(null,null,t.match.merge(e.match))))},propagateFromRight:function(t,e){this.__propagate("assert",this.__addToMemoryMatches(t,e,e.clone(null,null,e.match.merge(t.match))))},propagateRetractModifyFromLeft:function(t){for(var e=t.rightMatches,r=keys(e),o=r.length,h=-1;++h<o;)this.__propagate("retract",e[r[h]].clone())},propagateRetractModifyFromRight:function(t){for(var e=t.leftMatches,r=keys(e),o=r.length,h=-1;++h<o;)this.__propagate("retract",e[r[h]].clone())},propagateAssertModifyFromLeft:function(t,e,r){r.hashCode in e?this.__propagate("modify",this.__addToMemoryMatches(r,t,t.clone(null,null,t.match.merge(r.match)))):this.propagateFromLeft(t,r)},propagateAssertModifyFromRight:function(t,e,r){r.hashCode in e?this.__propagate("modify",this.__addToMemoryMatches(t,r,t.clone(null,null,r.match.merge(t.match)))):this.propagateFromRight(t,r)},removeFromRightMemory:function(t){var e,r=t.hashCode;t=this.rightMemory[r]||null;var o=this.rightTuples;if(t){var h=this.leftMemory;e=t.data;var a=e.leftMatches;o.remove(t);for(var i=keys(a),s=-1,n=i.length;++s<n;)delete h[i[s]].data.rightMatches[r];delete this.rightMemory[r]}return t},removeFromLeftMemory:function(t){var e=t.hashCode;if(t=this.leftMemory[e]||null){var r=this.rightMemory,o=t.data.rightMatches;this.leftTuples.remove(t);for(var h=keys(o),a=-1,i=h.length;++a<i;)delete r[h[a]].data.leftMatches[e];delete this.leftMemory[e]}return t},getRightMemoryMatches:function(t){var e=this.leftMemory[t.hashCode],r={};return e&&(r=e.rightMatches),r},__addToMemoryMatches:function(t,e,r){var o,h=t.hashCode,a=this.rightMemory[h],i=e.hashCode;if(a){if(a=a.data,i in a.leftMatches)throw new Error("Duplicate left fact entry");a.leftMatches[i]=r}if(o=this.leftMemory[i]){if(o=o.data,h in o.rightMatches)throw new Error("Duplicate right fact entry");o.rightMatches[h]=r}return r},__addToRightMemory:function(t){var e=t.hashCode,r=this.rightMemory;return!(e in r)&&(r[e]=this.rightTuples.push(t),t.leftMatches={},!0)},__addToLeftMemory:function(t){var e=t.hashCode,r=this.leftMemory;return!(e in r)&&(r[e]=this.leftTuples.push(t),t.rightMatches={},!0)}}}).as(module);
},{"../extended":98,"./misc/leftMemory":118,"./misc/rightMemory":120,"./node":123}],108:[function(require,module,exports){
var AlphaNode=require("./alphaNode");AlphaNode.extend({instance:{constructor:function(){this.memory={},this._super(arguments),this.constraintAssert=this.constraint.assert},assert:function(t){(this.memory[t.pathsHash]=this.constraintAssert(t.factHash))&&this.__propagate("assert",t)},modify:function(t){var s=this.memory,a=t.pathsHash,r=s[a];(s[a]=this.constraintAssert(t.factHash))?this.__propagate(r?"modify":"assert",t):r&&this.__propagate("retract",t)},retract:function(t){var s=t.pathsHash,a=this.memory;a[s]&&this.__propagate("retract",t),delete a[s]},toString:function(){return"EqualityNode"+this.__count}}}).as(module);
},{"./alphaNode":106}],109:[function(require,module,exports){
var FromNotNode=require("./fromNotNode"),extd=require("../extended"),Context=require("../context"),isDefined=extd.isDefined,isArray=extd.isArray;FromNotNode.extend({instance:{nodeType:"ExistsFromNode",retractLeft:function(e){var t=this.removeFromLeftMemory(e);t&&(t=t.data,t.blocked&&this.__propagate("retract",t.clone()))},__modify:function(e,t){var r=t.blocked,i=e.factHash,a=this.from(i);if(isArray(a)){for(var o=0,s=a.length;o<s;o++)if(this.__isMatch(e,a[o],!0)){e.blocked=!0;break}}else isDefined(a)&&(e.blocked=this.__isMatch(e,a,!0));e.blocked?r?this.__propagate("modify",e.clone()):this.__propagate("assert",e.clone()):r&&this.__propagate("retract",e.clone())},__findMatches:function(e){var t=e.factHash,r=this.from(t);if(isArray(r)){for(var i=0,a=r.length;i<a;i++)if(this.__isMatch(e,r[i],!0))return e.blocked=!0,void this.__propagate("assert",e.clone())}else isDefined(r)&&this.__isMatch(e,r,!0)&&(e.blocked=!0,this.__propagate("assert",e.clone()));return!1},__isMatch:function(e,t,r){var i=!1;if(this.type(t)){var a=this.workingMemory.getFactHandle(t),o=new Context(a,null,null).mergeMatch(e.match).set(this.alias,t);if(r){var s=this.fromMemory[a.id];s||(s=this.fromMemory[a.id]={}),s[e.hashCode]=e}for(var n=o.factHash,h=this.__equalityConstraints,c=0,d=h.length;c<d;c++){if(!h[c](n)){i=!1;break}i=!0}}return i},assertLeft:function(e){this.__addToLeftMemory(e),this.__findMatches(e)}}}).as(module);
},{"../context":96,"../extended":98,"./fromNotNode":112}],110:[function(require,module,exports){
var NotNode=require("./notNode"),LinkedList=require("../linkedList");NotNode.extend({instance:{nodeType:"ExistsNode",blockedContext:function(t,e){t.blocker=e,this.removeFromLeftMemory(t),this.addToLeftBlockedMemory(e.blocking.push(t)),this.__propagate("assert",this.__cloneContext(t))},notBlockedContext:function(t,e){this.__addToLeftMemory(t),e&&this.__propagate("retract",this.__cloneContext(t))},propagateFromLeft:function(t){this.notBlockedContext(t,!1)},retractLeft:function(t){var e;if(!this.removeFromLeftMemory(t)){if(!(e=this.removeFromLeftBlockedMemory(t)))throw new Error;this.__propagate("retract",this.__cloneContext(e.data))}},modifyLeft:function(t){var e,o,r,i,n=this.removeFromLeftMemory(t),a=this.constraint,s=this.rightTuples,h=s.length,l=!1;if(n||(n=this.removeFromLeftBlockedMemory(t),l=!0),!n)throw new Error;if(e=n.data,e&&e.blocker&&(i=this.rightMemory[e.blocker.hashCode]),i?(a.isMatch(t,r=i.data)&&(this.__propagate(l?"modify":"assert",this.__cloneContext(e)),t.blocker=r,this.addToLeftBlockedMemory(r.blocking.push(t)),t=null),t&&(o={next:i.next})):o={next:s.head},t&&h)for(o={next:s.head};o=o.next;)if(a.isMatch(t,r=o.data)){this.__propagate(l?"modify":"assert",this.__cloneContext(e)),this.addToLeftBlockedMemory(r.blocking.push(t)),t.blocker=r,t=null;break}t&&(this.__addToLeftMemory(t),l&&this.__propagate("retract",this.__cloneContext(t)))},modifyRight:function(t){var e=this.removeFromRightMemory(t);if(!e)throw new Error;var o,r,i=e.data,n=this.leftTuples,a=n.length,s=this.constraint,h=i.blocking;if(this.__addToRightMemory(t),t.blocking=new LinkedList,a||h.length){if(h.length)for(var l,d={next:h.head};d=d.next;)if(o=d.data,o.blocker=null,s.isMatch(o,t))o.blocker=t,this.addToLeftBlockedMemory(t.blocking.push(o)),this.__propagate("assert",this.__cloneContext(o)),o=null;else{for(o.blocker=null,r=e;r=r.next;)if(s.isMatch(o,l=r.data)){o.blocker=l,this.addToLeftBlockedMemory(l.blocking.push(o)),this.__propagate("assert",this.__cloneContext(o)),o=null;break}o&&this.__addToLeftMemory(o)}if(a)for(r={next:n.head};r=r.next;)o=r.data,s.isMatch(o,t)&&(this.__propagate("assert",this.__cloneContext(o)),this.removeFromLeftMemory(o),this.addToLeftBlockedMemory(t.blocking.push(o)),o.blocker=t)}}}}).as(module);
},{"../linkedList":102,"./notNode":124}],111:[function(require,module,exports){
var JoinNode=require("./joinNode"),extd=require("../extended"),constraint=require("../constraint"),EqualityConstraint=constraint.EqualityConstraint,HashConstraint=constraint.HashConstraint,ReferenceConstraint=constraint.ReferenceConstraint,Context=require("../context"),isDefined=extd.isDefined,isEmpty=extd.isEmpty,forEach=extd.forEach,isArray=extd.isArray,DEFAULT_MATCH={isMatch:function(){return!1}};JoinNode.extend({instance:{nodeType:"FromNode",constructor:function(t,e){this._super(arguments),this.workingMemory=e,this.fromMemory={},this.pattern=t,this.type=t.get("constraints")[0].assert,this.alias=t.get("alias"),this.from=t.from.assert;var r=this.__equalityConstraints=[],a=[];forEach(this.constraints=this.pattern.get("constraints").slice(1),function(t){t instanceof EqualityConstraint||t instanceof ReferenceConstraint?r.push(t.assert):t instanceof HashConstraint&&(a=a.concat(t.get("variables")))}),this.__variables=a},__createMatches:function(t){var e=t.factHash,r=this.from(e);if(isArray(r))for(var a=0,i=r.length;a<i;a++)this.__checkMatch(t,r[a],!0);else isDefined(r)&&this.__checkMatch(t,r,!0)},__checkMatch:function(t,e,r){var a;return(a=this.__createMatch(t,e)).isMatch()&&r&&this.__propagate("assert",a.clone()),a},__createMatch:function(t,e){if(this.type(e)){var r,a=this.workingMemory.getFactHandle(e,!0),i=new Context(a,null,null).set(this.alias,e),o=a.id,s=i.factHash,n=t.factHash;for(var h in n)s[h]=n[h];for(var c=this.__equalityConstraints,f=this.__variables,m=-1,_=c.length;++m<_;)if(!c[m](s,s)){r=DEFAULT_MATCH;break}var d=this.fromMemory[o];if(d||(d=this.fromMemory[o]={}),!r){var l;for(m=-1,_=f.length;++m<_;)l=f[m],s[l]=e[l];t.fromMatches[a.id]=r=i.clone(a,null,t.match.merge(i.match))}return d[t.hashCode]=[t,r],r}return DEFAULT_MATCH},retractRight:function(){throw new Error("Shouldnt have gotten here")},removeFromFromMemory:function(t){var e=t.fact.id,r=this.fromMemory[e];if(r){var a;for(var i in r)if(a=r[i],a[1]===t){delete r[i],isEmpty(r)&&delete this.fromMemory[e];break}}},retractLeft:function(t){var e=this.removeFromLeftMemory(t);if(e){e=e.data;var r=e.fromMatches;for(var a in r)this.removeFromFromMemory(r[a]),this.__propagate("retract",r[a].clone())}},modifyLeft:function(t){var e,r,a,i,o,s=this.removeFromLeftMemory(t);if(s){this.__addToLeftMemory(t);var n=s.data,h=t.fromMatches={},c=n.fromMatches,f=this.from(t.factHash);if(isArray(f))for(r=0,a=f.length;r<a;r++)e=this.__checkMatch(t,f[r],!1),e.isMatch()&&(i=e.fact.id,i in c?this.__propagate("modify",e.clone()):this.__propagate("assert",e.clone()));else isDefined(f)&&(e=this.__checkMatch(t,f,!1),e.isMatch()&&(i=e.fact.id,i in c?this.__propagate("modify",e.clone()):this.__propagate("assert",e.clone())));for(r in c)r in h||(this.removeFromFromMemory(c[r]),this.__propagate("retract",c[r].clone()))}else this.assertLeft(t);o=t.fact,i=o.id;var m=this.fromMemory[i];if(this.fromMemory[i]={},m){var _,d,l,M,y=o.object;for(r in m)d=m[r],_=d[0],l=d[1],M=l.isMatch(),_.hashCode!==t.hashCode&&(e=this.__createMatch(_,y,!1),M&&this.__propagate("retract",l.clone()),e.isMatch()&&this.__propagate(M?"modify":"assert",e.clone()))}},assertLeft:function(t){this.__addToLeftMemory(t),t.fromMatches={},this.__createMatches(t)},assertRight:function(){throw new Error("Shouldnt have gotten here")}}}).as(module);
},{"../constraint":94,"../context":96,"../extended":98,"./joinNode":114}],112:[function(require,module,exports){
var JoinNode=require("./joinNode"),extd=require("../extended"),constraint=require("../constraint"),EqualityConstraint=constraint.EqualityConstraint,HashConstraint=constraint.HashConstraint,ReferenceConstraint=constraint.ReferenceConstraint,Context=require("../context"),isDefined=extd.isDefined,forEach=extd.forEach,isArray=extd.isArray;JoinNode.extend({instance:{nodeType:"FromNotNode",constructor:function(t,e){this._super(arguments),this.workingMemory=e,this.pattern=t,this.type=t.get("constraints")[0].assert,this.alias=t.get("alias"),this.from=t.from.assert,this.fromMemory={};var r=this.__equalityConstraints=[],i=[];forEach(this.constraints=this.pattern.get("constraints").slice(1),function(t){t instanceof EqualityConstraint||t instanceof ReferenceConstraint?r.push(t.assert):t instanceof HashConstraint&&(i=i.concat(t.get("variables")))}),this.__variables=i},retractLeft:function(t){var e=this.removeFromLeftMemory(t);e&&(e=e.data,e.blocked||this.__propagate("retract",e.clone()))},__modify:function(t,e){var r=e.blocked,i=t.factHash,o=this.from(i);if(isArray(o)){for(var a=0,s=o.length;a<s;a++)if(this.__isMatch(t,o[a],!0)){t.blocked=!0;break}}else isDefined(o)&&(t.blocked=this.__isMatch(t,o,!0));t.blocked?r||this.__propagate("retract",e.clone()):r?this.__propagate("assert",t.clone()):this.__propagate("modify",t.clone())},modifyLeft:function(t){var e=this.removeFromLeftMemory(t);if(!e)throw new Error;this.__addToLeftMemory(t),this.__modify(t,e.data);var r=this.fromMemory[t.fact.id];if(this.fromMemory[t.fact.id]={},r)for(var i in r)if(i!==t.hashCode){var o=r[i];e=this.removeFromLeftMemory(o),e&&(o=o.clone(),o.blocked=!1,this.__addToLeftMemory(o),this.__modify(o,e.data))}},__findMatches:function(t){var e=t.factHash,r=this.from(e);if(isArray(r)){for(var i=0,o=r.length;i<o;i++)if(this.__isMatch(t,r[i],!0))return void(t.blocked=!0);this.__propagate("assert",t.clone())}else isDefined(r)&&!(t.blocked=this.__isMatch(t,r,!0))&&this.__propagate("assert",t.clone());return!1},__isMatch:function(t,e,r){var i=!1;if(this.type(e)){var o=this.workingMemory.getFactHandle(e),a=new Context(o,null).mergeMatch(t.match).set(this.alias,e);if(r){var s=this.fromMemory[o.id];s||(s=this.fromMemory[o.id]={}),s[t.hashCode]=t}for(var n=a.factHash,h=this.__equalityConstraints,c=0,f=h.length;c<f;c++){if(!h[c](n,n)){i=!1;break}i=!0}}return i},assertLeft:function(t){this.__addToLeftMemory(t),this.__findMatches(t)},assertRight:function(){throw new Error("Shouldnt have gotten here")},retractRight:function(){throw new Error("Shouldnt have gotten here")}}}).as(module);
},{"../constraint":94,"../context":96,"../extended":98,"./joinNode":114}],113:[function(require,module,exports){
"use strict";function hasRefernceConstraints(e){return some(e.constraints||[],function(e){return e instanceof ReferenceConstraint})}var extd=require("../extended"),forEach=extd.forEach,some=extd.some,declare=extd.declare,pattern=require("../pattern.js"),ObjectPattern=pattern.ObjectPattern,FromPattern=pattern.FromPattern,FromNotPattern=pattern.FromNotPattern,ExistsPattern=pattern.ExistsPattern,FromExistsPattern=pattern.FromExistsPattern,NotPattern=pattern.NotPattern,CompositePattern=pattern.CompositePattern,InitialFactPattern=pattern.InitialFactPattern,constraints=require("../constraint"),HashConstraint=constraints.HashConstraint,ReferenceConstraint=constraints.ReferenceConstraint,AliasNode=require("./aliasNode"),EqualityNode=require("./equalityNode"),JoinNode=require("./joinNode"),BetaNode=require("./betaNode"),NotNode=require("./notNode"),FromNode=require("./fromNode"),FromNotNode=require("./fromNotNode"),ExistsNode=require("./existsNode"),ExistsFromNode=require("./existsFromNode"),LeftAdapterNode=require("./leftAdapterNode"),RightAdapterNode=require("./rightAdapterNode"),TypeNode=require("./typeNode"),TerminalNode=require("./terminalNode"),PropertyNode=require("./propertyNode");declare({instance:{constructor:function(e,t){this.terminalNodes=[],this.joinNodes=[],this.nodes=[],this.constraints=[],this.typeNodes=[],this.__ruleCount=0,this.bucket={counter:0,recency:0},this.agendaTree=t,this.workingMemory=e},assertRule:function(e){var t=new TerminalNode(this.bucket,this.__ruleCount++,e,this.agendaTree);this.__addToNetwork(e,e.pattern,t),this.__mergeJoinNodes(),this.terminalNodes.push(t)},resetCounter:function(){this.bucket.counter=0},incrementCounter:function(){this.bucket.counter++},assertFact:function(e){for(var t=this.typeNodes,r=t.length-1;r>=0;r--)t[r].assert(e)},retractFact:function(e){for(var t=this.typeNodes,r=t.length-1;r>=0;r--)t[r].retract(e)},modifyFact:function(e){for(var t=this.typeNodes,r=t.length-1;r>=0;r--)t[r].modify(e)},containsRule:function(e){return some(this.terminalNodes,function(t){return t.rule.name===e})},dispose:function(){for(var e=this.typeNodes,t=e.length-1;t>=0;t--)e[t].dispose()},__mergeJoinNodes:function(){for(var e=this.joinNodes,t=0;t<e.length;t++){var r=e[t],n=e[t+1];r&&n&&r.constraint&&n.constraint&&r.constraint.equal(n.constraint)&&(r.merge(n),e.splice(t+1,1))}},__checkEqual:function(e){for(var t=this.constraints,r=t.length-1;r>=0;r--){var n=t[r];if(e.equal(n))return n}return t.push(e),e},__createTypeNode:function(e,t){for(var r=new TypeNode(t.get("constraints")[0]),n=this.typeNodes,o=n.length-1;o>=0;o--){var a=n[o];if(r.equal(a))return a}return n.push(r),r},__createEqualityNode:function(e,t){return this.__checkEqual(new EqualityNode(t)).addRule(e)},__createPropertyNode:function(e,t){return this.__checkEqual(new PropertyNode(t)).addRule(e)},__createAliasNode:function(e,t){return this.__checkEqual(new AliasNode(t)).addRule(e)},__createAdapterNode:function(e,t){return("left"===t?new LeftAdapterNode:new RightAdapterNode).addRule(e)},__createJoinNode:function(e,t,r,n){var o;t.rightPattern instanceof NotPattern?o=new NotNode:t.rightPattern instanceof FromExistsPattern?o=new ExistsFromNode(t.rightPattern,this.workingMemory):t.rightPattern instanceof ExistsPattern?o=new ExistsNode:t.rightPattern instanceof FromNotPattern?o=new FromNotNode(t.rightPattern,this.workingMemory):t.rightPattern instanceof FromPattern?o=new FromNode(t.rightPattern,this.workingMemory):t instanceof CompositePattern&&!hasRefernceConstraints(t.leftPattern)&&!hasRefernceConstraints(t.rightPattern)?(o=new BetaNode,this.joinNodes.push(o)):(o=new JoinNode,this.joinNodes.push(o)),o.__rule__=e;var a=o;if(r instanceof BetaNode){var i=this.__createAdapterNode(e,n);a.addOutNode(i,t),a=i}return a.addOutNode(r,t),o.addRule(e)},__addToNetwork:function(e,t,r,n){t instanceof ObjectPattern?t instanceof InitialFactPattern||n&&"left"!==n?this.__createAlphaNode(e,t,r,n):this.__createBetaNode(e,new CompositePattern(new InitialFactPattern,t),r,n):t instanceof CompositePattern&&this.__createBetaNode(e,t,r,n)},__createBetaNode:function(e,t,r,n){var o=this.__createJoinNode(e,t,r,n);return this.__addToNetwork(e,t.rightPattern,o,"right"),this.__addToNetwork(e,t.leftPattern,o,"left"),r.addParentNode(o),o},__createAlphaNode:function(e,t,r,n){var o,a;if(!(t instanceof FromPattern)){var i=t.get("constraints");o=this.__createTypeNode(e,t);var s=this.__createAliasNode(e,t);o.addOutNode(s,t),s.addParentNode(o),a=s;for(var d=i.length-1;d>0;d--){var c,u=i[d];if(u instanceof HashConstraint)c=this.__createPropertyNode(e,u);else{if(u instanceof ReferenceConstraint){r.constraint.addConstraint(u);continue}c=this.__createEqualityNode(e,u)}a.addOutNode(c,t),c.addParentNode(a),a=c}if(r instanceof BetaNode){var N=this.__createAdapterNode(e,n);N.addParentNode(a),a.addOutNode(N,t),a=N}return r.addParentNode(a),a.addOutNode(r,t),o}},print:function(){forEach(this.terminalNodes,function(e){e.print("    ")})}}}).as(exports,"RootNode");
},{"../constraint":94,"../extended":98,"../pattern.js":134,"./aliasNode":105,"./betaNode":107,"./equalityNode":108,"./existsFromNode":109,"./existsNode":110,"./fromNode":111,"./fromNotNode":112,"./joinNode":114,"./leftAdapterNode":116,"./notNode":124,"./propertyNode":125,"./rightAdapterNode":126,"./terminalNode":127,"./typeNode":128}],114:[function(require,module,exports){
var BetaNode=require("./betaNode"),JoinReferenceNode=require("./joinReferenceNode");BetaNode.extend({instance:{constructor:function(){this._super(arguments),this.constraint=new JoinReferenceNode(this.leftTuples,this.rightTuples)},nodeType:"JoinNode",propagateFromLeft:function(t,e){var o;return(o=this.constraint.match(t,e)).isMatch&&this.__propagate("assert",this.__addToMemoryMatches(e,t,t.clone(null,null,o))),this},propagateFromRight:function(t,e){var o;return(o=this.constraint.match(e,t)).isMatch&&this.__propagate("assert",this.__addToMemoryMatches(t,e,t.clone(null,null,o))),this},propagateAssertModifyFromLeft:function(t,e,o){var a,i=o.hashCode;if(i in e){a=this.constraint.match(t,o);a.isMatch?this.__propagate("modify",this.__addToMemoryMatches(o,t,t.clone(null,null,a))):this.__propagate("retract",e[i].clone())}else this.propagateFromLeft(t,o)},propagateAssertModifyFromRight:function(t,e,o){var a,i=o.hashCode;if(i in e){a=this.constraint.match(o,t);a.isMatch?this.__propagate("modify",this.__addToMemoryMatches(t,o,t.clone(null,null,a))):this.__propagate("retract",e[i].clone())}else this.propagateFromRight(t,o)}}}).as(module);
},{"./betaNode":107,"./joinReferenceNode":115}],115:[function(require,module,exports){
function normalizeRightIndexConstraint(t,n,e){return t===n[1]&&(e=inversions[e]),e}function normalizeLeftIndexConstraint(t,n,e){return t===n[1]&&(e=inversions[e]),e}var Node=require("./node"),constraints=require("../constraint"),ReferenceEqualityConstraint=constraints.ReferenceEqualityConstraint,DEFUALT_CONSTRAINT={isDefault:!0,assert:function(){return!0},equal:function(){return!1}},inversions={gt:"lte",gte:"lte",lt:"gte",lte:"gte",eq:"eq",neq:"neq"};Node.extend({instance:{constraint:DEFUALT_CONSTRAINT,constructor:function(t,n){this._super(arguments),this.constraint=DEFUALT_CONSTRAINT,this.constraintAssert=DEFUALT_CONSTRAINT.assert,this.rightIndexes=[],this.leftIndexes=[],this.constraintLength=0,this.leftMemory=t,this.rightMemory=n},addConstraint:function(t){if(t instanceof ReferenceEqualityConstraint){var n=t.getIndexableProperties(),e=t.get("alias");if(2===n.length&&e){for(var s,i,r=-1,a=[];++r<2;){var o=n[r];null===o.match(new RegExp("^"+e+"(\\.?)"))?(a.push(o),s=o):(a.push(o),i=o)}if(s&&i){var c=normalizeLeftIndexConstraint(s,a,t.op),h=normalizeRightIndexConstraint(i,a,t.op);this.rightMemory.addIndex(i,s,h),this.leftMemory.addIndex(s,i,c)}}}this.constraint.isDefault?(this.constraint=t,this.isDefault=!1):this.constraint=this.constraint.merge(t),this.constraintAssert=this.constraint.assert},equal:function(t){return this.constraint.equal(t.constraint)},isMatch:function(t,n){return this.constraintAssert(t.factHash,n.factHash)},match:function(t,n){var e={isMatch:!1};return this.constraintAssert(t.factHash,n.factHash)&&(e=t.match.merge(n.match)),e}}}).as(module);
},{"../constraint":94,"./node":123}],116:[function(require,module,exports){
var Node=require("./adapterNode");Node.extend({instance:{propagateAssert:function(t){this.__propagate("assertLeft",t)},propagateRetract:function(t){this.__propagate("retractLeft",t)},propagateResolve:function(t){this.__propagate("retractResolve",t)},propagateModify:function(t){this.__propagate("modifyLeft",t)},retractResolve:function(t){this.__propagate("retractResolve",t)},dispose:function(t){this.propagateDispose(t)},toString:function(){return"LeftAdapterNode "+this.__count}}}).as(module);
},{"./adapterNode":104}],117:[function(require,module,exports){
exports.getMemory=function(){function e(e,n,t){var r,f=0,o=-1;if(g<t)for(;g&&++o<t;)s[(r=n[o]).hashCode]&&(e[f++]=r,g--);else a.apply(e,n);g=0,s={}}function n(e,n,t){var r,f=0,o=-1;if(h<t)for(;++o<t;)h?u[(r=n[o]).hashCode]?h--:e[f++]=r:e[f++]=n[o];h=0,u={}}function t(e,n,t){if(g===t)o(e,n);else if(h<t)for(var r,f,i=0,a=-1;++a<t;)!u[f=(r=n[a]).hashCode]&&s[f]&&(e[i++]=r);h=0,u={},g=0,s={}}function r(r,f){var o=l;return f&&(h||g?(o=[],h?g?t(o,r,f):n(o,r,f):e(o,r,f)):o=r),o}function f(e,n,t){var r;return"gt"===e?r=n.findGT(t):"gte"===e?r=n.findGTE(t):"lt"===e?r=n.findLT(t):"lte"===e&&(r=n.findLTE(t)),r}function o(e,n){if(n)for(var t,r=-1;++r<n;)t=e[r].hashCode,u[t]||(u[t]=!0,h++)}function i(e,n){if(n)for(var t,r=-1;++r<n;)t=e[r].hashCode,s[t]||(s[t]=!0,g++)}var a=Array.prototype.push,h=0,l=[],u={},s={},g=0;return function(e,n,t){for(var a,h,u,s,g,c,d,p=-1,v=t.length,C=e.tuples,q=C.length,y=!1,T=e.tables;++p<v&&q;)a=t[p],h=a[3](n),u=a[4],g=T[a[0]],"eq"===u||"seq"===u?(s=g.get(h))?(q=(C=(e=s).tuples).length,T=s.tables):q=(C=l).length:"neq"===u||"sneq"===u?(s=g.get(h))&&(d=(c=s.tuples).length,o(c,d)):y?(d=(c=f(u,g,h)).length)?i(c,d):(C=c,q=d):(q=(C=f(u,g,h)).length,y=!0);return r(C,q)}}();
},{}],118:[function(require,module,exports){
var Memory=require("./memory");Memory.extend({instance:{getLeftMemory:function(e){return this.getMemory(e)}}}).as(module);
},{"./memory":119}],119:[function(require,module,exports){
var extd=require("../../extended"),plucker=extd.plucker,declare=extd.declare,getMemory=require("./helpers").getMemory,Table=require("./table"),TupleEntry=require("./tupleEntry"),id=0;declare({instance:{length:0,constructor:function(){this.head=null,this.tail=null,this.indexes=[],this.tables=new TupleEntry(null,new Table,!1)},push:function(e){var t=this.tail,n=this.head,s={data:e,tuples:[],hashCode:id++,prev:t,next:null};return t&&(this.tail.next=s),this.tail=s,n||(this.head=s),this.length++,this.__index(s),this.tables.addNode(s),s},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this.tables.removeNode(e),this.__removeFromIndex(e),this.length--},forEach:function(e){for(var t={next:this.head};t=t.next;)e(t.data)},toArray:function(){return this.tables.tuples.slice()},clear:function(){this.head=this.tail=null,this.length=0,this.clearIndexes()},clearIndexes:function(){this.tables={},this.indexes.length=0},__index:function(e){for(var t,n,s,i,r,l,a,h=e.data,d=h.factHash,u=this.indexes,o=this.tables,c=-1,x=u.length;++c<x;)n=u[c],s=n[2](d),i=n[0],r=o.tables,(t=(l=r[i]||(r[i]=new Table)).get(s))||(t=new TupleEntry(s,l,!0),l.set(s,t)),l!==a&&e.tuples.push(t.addNode(e)),a=l,"eq"===n[4]&&(o=t)},__removeFromIndex:function(e){for(var t=e.tuples,n=t.length;--n>=0;)t[n].removeNode(e);e.tuples.length=0},getMemory:function(e){return this.length?getMemory(this.tables,e.factHash,this.indexes):[]},__createIndexTree:function(){(this.tables.tables={})[this.indexes[0][0]]=new Table},addIndex:function(e,t,n){this.indexes.push([e,t,plucker(e),plucker(t),n||"eq"]),this.indexes.sort(function(e,t){var n=e[4],s=t[4];return n===s?0:n>s?1:n===s?0:-1}),this.__createIndexTree()}}}).as(module);
},{"../../extended":98,"./helpers":117,"./table":121,"./tupleEntry":122}],120:[function(require,module,exports){
var Memory=require("./memory");Memory.extend({instance:{getRightMemory:function(e){return this.getMemory(e)}}}).as(module);
},{"./memory":119}],121:[function(require,module,exports){
function compare(e,t){e=e.key,t=t.key;return e==t?0:e>t?1:e<t?-1:1}function compareGT(e,t){return 1===compare(e,t)}function compareGTE(e,t){return-1!==compare(e,t)}function compareLT(e,t){return-1===compare(e,t)}function compareLTE(e,t){return 1!==compare(e,t)}function traverseInOrder(e,t,a){VALUE.key=t;for(var r,h=[],s=0,c=e.__root;;)if(c)c=(STACK[s++]=c).left;else{if(!(s>0))break;if(r=(c=STACK[--s]).data,!a(r,VALUE))break;pPush.apply(h,r.value.tuples),c=c.right}return STACK.length=0,h}function traverseReverseOrder(e,t,a){VALUE.key=t;for(var r,h=[],s=0,c=e.__root;;)if(c)c=(STACK[s++]=c).right;else{if(!(s>0))break;if(r=(c=STACK[--s]).data,!a(r,VALUE))break;pPush.apply(h,r.value.tuples),c=c.left}return STACK.length=0,h}var extd=require("../../extended"),pPush=Array.prototype.push,HashTable=extd.HashTable,AVLTree=extd.AVLTree,STACK=[],VALUE={key:null};AVLTree.extend({instance:{constructor:function(){this._super([{compare:compare}]),this.gtCache=new HashTable,this.gteCache=new HashTable,this.ltCache=new HashTable,this.lteCache=new HashTable,this.hasGTCache=!1,this.hasGTECache=!1,this.hasLTCache=!1,this.hasLTECache=!1},clearCache:function(){this.hasGTCache&&this.gtCache.clear()&&(this.hasGTCache=!1),this.hasGTECache&&this.gteCache.clear()&&(this.hasGTECache=!1),this.hasLTCache&&this.ltCache.clear()&&(this.hasLTCache=!1),this.hasLTECache&&this.lteCache.clear()&&(this.hasLTECache=!1)},contains:function(e){return this._super([{key:e}])},set:function(e,t){this.insert({key:e,value:t}),this.clearCache()},get:function(e){var t=this.find({key:e});return t&&t.value},remove:function(e){return this.clearCache(),this._super([{key:e}])},findGT:function(e){var t=this.gtCache.get(e);return t||(this.hasGTCache=!0,this.gtCache.put(e,t=traverseReverseOrder(this,e,compareGT))),t},findGTE:function(e){var t=this.gteCache.get(e);return t||(this.hasGTECache=!0,this.gteCache.put(e,t=traverseReverseOrder(this,e,compareGTE))),t},findLT:function(e){var t=this.ltCache.get(e);return t||(this.hasLTCache=!0,this.ltCache.put(e,t=traverseInOrder(this,e,compareLT))),t},findLTE:function(e){var t=this.lteCache.get(e);return t||(this.hasLTECache=!0,this.lteCache.put(e,t=traverseInOrder(this,e,compareLTE))),t}}}).as(module);
},{"../../extended":98}],122:[function(require,module,exports){
var extd=require("../../extended"),indexOf=extd.indexOf,TUPLE_ID=0;extd.declare({instance:{tuples:null,tupleMap:null,hashCode:null,tables:null,entry:null,constructor:function(e,t,s){this.val=e,this.canRemove=s,this.tuples=[],this.tupleMap={},this.hashCode=TUPLE_ID++,this.tables={},this.length=0,this.entry=t},addNode:function(e){return this.tuples[this.length++]=e,this.length>1&&this.entry.clearCache(),this},removeNode:function(e){var t=this.tuples,s=indexOf(t,e);-1!==s&&(t.splice(s,1),this.length--,this.entry.clearCache()),this.canRemove&&!this.length&&this.entry.remove(this.val)}}}).as(module);
},{"../../extended":98}],123:[function(require,module,exports){
var extd=require("../extended"),forEach=extd.forEach,indexOf=extd.indexOf,intersection=extd.intersection,declare=extd.declare,HashTable=extd.HashTable,Context=require("../context"),count=0;declare({instance:{constructor:function(){this.nodes=new HashTable,this.rules=[],this.parentNodes=[],this.__count=count++,this.__entrySet=[]},addRule:function(t){return-1===indexOf(this.rules,t)&&this.rules.push(t),this},merge:function(t){t.nodes.forEach(function(e){for(var n=e.value,o=e.key,s=0,r=n.length;s<r;s++)this.addOutNode(o,n[s]);t.nodes.remove(o)},this);for(var e=t.parentNodes,n=0,o=t.parentNodes.l;n<o;n++){var s=e[n];this.addParentNode(s),s.nodes.remove(t)}return this},resolve:function(t,e){return t.hashCode===e.hashCode},print:function(t){console.log(t+this.toString()),forEach(this.parentNodes,function(e){e.print("    "+t)})},addOutNode:function(t,e){this.nodes.contains(t)||this.nodes.put(t,[]),this.nodes.get(t).push(e),this.__entrySet=this.nodes.entrySet()},addParentNode:function(t){-1===indexOf(this.parentNodes,t)&&this.parentNodes.push(t)},shareable:function(){return!1},__propagate:function(t,e){for(var n,o,s,r,i=this.__entrySet,a=i.length;--a>-1;)n=i[a],o=n.key,s=n.value,(r=intersection(s,e.paths)).length&&o[t](new Context(e.fact,r,e.match))},dispose:function(t){this.propagateDispose(t)},retract:function(t){this.propagateRetract(t)},propagateDispose:function(t,e){e=e||this.nodes;for(var n=this.__entrySet,o=n.length-1;o>=0;o--){n[o].key.dispose(t)}},propagateAssert:function(t){this.__propagate("assert",t)},propagateRetract:function(t){this.__propagate("retract",t)},assert:function(t){this.propagateAssert(t)},modify:function(t){this.propagateModify(t)},propagateModify:function(t){this.__propagate("modify",t)}}}).as(module);
},{"../context":96,"../extended":98}],124:[function(require,module,exports){
var JoinNode=require("./joinNode"),LinkedList=require("../linkedList"),Context=require("../context"),InitialFact=require("../pattern").InitialFact;JoinNode.extend({instance:{nodeType:"NotNode",constructor:function(){this._super(arguments),this.leftTupleMemory={},this.notMatch=new Context(new InitialFact).match},__cloneContext:function(t){return t.clone(null,null,t.match.merge(this.notMatch))},retractRight:function(t){var e=this.removeFromRightMemory(t),o=e.data,r=o.blocking;if(r.length){for(var i,n,a=this.constraint,s={next:r.head};s=s.next;){i=s.data,this.removeFromLeftBlockedMemory(i);var h,l=this.rightTuples.getRightMemory(i),c=l.length;for(h=-1;++h<c;)if(a.isMatch(i,n=l[h].data)){this.blockedContext(i,n),i=null;break}i&&this.notBlockedContext(i,!0)}r.clear()}},blockedContext:function(t,e,o){t.blocker=e,this.removeFromLeftMemory(t),this.addToLeftBlockedMemory(e.blocking.push(t)),o&&this.__propagate("retract",this.__cloneContext(t))},notBlockedContext:function(t,e){this.__addToLeftMemory(t),e&&this.__propagate("assert",this.__cloneContext(t))},propagateFromLeft:function(t){this.notBlockedContext(t,!0)},propagateFromRight:function(t){this.notBlockedContext(t,!0)},blockFromAssertRight:function(t,e){this.blockedContext(t,e,!0)},blockFromAssertLeft:function(t,e){this.blockedContext(t,e,!1)},retractLeft:function(t){var e=this.removeFromLeftMemory(t);if(e)e=e.data,this.__propagate("retract",this.__cloneContext(e));else if(!this.removeFromLeftBlockedMemory(t))throw new Error},assertLeft:function(t){for(var e,o=this.rightTuples.getRightMemory(t),r=this.constraint,i=-1,n=o.length;++i<n;)r.isMatch(t,e=o[i].data)&&(this.blockFromAssertLeft(t,e),t=null,i=n);t&&this.propagateFromLeft(t)},assertRight:function(t){this.__addToRightMemory(t),t.blocking=new LinkedList;for(var e,o=this.leftTuples.getLeftMemory(t).slice(),r=-1,i=o.length,n=this.constraint;++r<i;)e=o[r].data,n.isMatch(e,t)&&this.blockFromAssertRight(e,t)},addToLeftBlockedMemory:function(t){var e=t.data,o=e.hashCode,r=this.leftMemory[o];return this.leftTupleMemory[o]=t,r&&this.leftTuples.remove(r),this},removeFromLeftBlockedMemory:function(t){var e=this.leftTupleMemory[t.hashCode]||null;return e&&(delete this.leftTupleMemory[t.hashCode],e.data.blocker.blocking.remove(e)),e},modifyLeft:function(t){var e,o,r,i,n=this.removeFromLeftMemory(t),a=this.constraint,s=this.rightTuples.getRightMemory(t),h=s.length,l=!1;if(n||(n=this.removeFromLeftBlockedMemory(t),l=!0),!n)throw new Error;if(e=n.data,e&&e.blocker&&(i=this.rightMemory[e.blocker.hashCode],e.blocker=null),i&&a.isMatch(t,r=i.data)&&(l||this.__propagate("retract",this.__cloneContext(e)),t.blocker=r,this.addToLeftBlockedMemory(r.blocking.push(t)),t=null),t&&h)for(o=-1;++o<h;)if(a.isMatch(t,r=s[o].data)){l||this.__propagate("retract",this.__cloneContext(e)),this.addToLeftBlockedMemory(r.blocking.push(t)),t.blocker=r,t=null;break}t&&(this.__addToLeftMemory(t),l?this.__propagate("assert",this.__cloneContext(t)):this.__propagate("modify",this.__cloneContext(t)))},modifyRight:function(t){var e=this.removeFromRightMemory(t);if(!e)throw new Error;var o,r,i,n=e.data,a=this.leftTuples.getLeftMemory(t).slice(),s=a.length,h=this.constraint,l=n.blocking;this.__addToRightMemory(t),t.blocking=new LinkedList;for(var c,d={next:l.head};d=d.next;)if(o=d.data,o.blocker=null,h.isMatch(o,t))o.blocker=t,this.addToLeftBlockedMemory(t.blocking.push(o)),o=null;else{for(o.blocker=null,i=e;i=i.next;)if(h.isMatch(o,c=i.data)){o.blocker=c,this.addToLeftBlockedMemory(c.blocking.push(o)),o=null;break}o&&(this.__addToLeftMemory(o),this.__propagate("assert",this.__cloneContext(o)))}if(s)for(r=-1;++r<s;)o=a[r].data,h.isMatch(o,t)&&(this.__propagate("retract",this.__cloneContext(o)),this.removeFromLeftMemory(o),this.addToLeftBlockedMemory(t.blocking.push(o)),o.blocker=t)}}}).as(module);
},{"../context":96,"../linkedList":102,"../pattern":134,"./joinNode":114}],125:[function(require,module,exports){
var AlphaNode=require("./alphaNode"),Context=require("../context"),extd=require("../extended");AlphaNode.extend({instance:{constructor:function(){this._super(arguments),this.alias=this.constraint.get("alias"),this.varLength=(this.variables=extd(this.constraint.get("variables")).toArray().value()).length},assert:function(t){var e,a=new Context(t.fact,t.paths),r=this.variables,s=t.fact.object;a.set(this.alias,s);for(var i=0,n=this.varLength;i<n;i++)e=r[i],a.set(e[1],s[e[0]]);this.__propagate("assert",a)},retract:function(t){this.__propagate("retract",new Context(t.fact,t.paths))},modify:function(t){var e,a=new Context(t.fact,t.paths),r=this.variables,s=t.fact.object;a.set(this.alias,s);for(var i=0,n=this.varLength;i<n;i++)e=r[i],a.set(e[1],s[e[0]]);this.__propagate("modify",a)},toString:function(){return"PropertyNode"+this.__count}}}).as(module);
},{"../context":96,"../extended":98,"./alphaNode":106}],126:[function(require,module,exports){
var Node=require("./adapterNode");Node.extend({instance:{retractResolve:function(t){this.__propagate("retractResolve",t)},dispose:function(t){this.propagateDispose(t)},propagateAssert:function(t){this.__propagate("assertRight",t)},propagateRetract:function(t){this.__propagate("retractRight",t)},propagateResolve:function(t){this.__propagate("retractResolve",t)},propagateModify:function(t){this.__propagate("modifyRight",t)},toString:function(){return"RightAdapterNode "+this.__count}}}).as(module);
},{"./adapterNode":104}],127:[function(require,module,exports){
var Node=require("./node"),extd=require("../extended"),bind=extd.bind;Node.extend({instance:{constructor:function(t,e,i,s){this._super([]),this.resolve=bind(this,this.resolve),this.rule=i,this.index=e,this.name=this.rule.name,this.agenda=s,this.bucket=t,s.register(this)},__assertModify:function(t){var e=t.match;if(e.isMatch){var i=this.rule,s=this.bucket;this.agenda.insert(this,{rule:i,hashCode:t.hashCode,index:this.index,name:i.name,recency:s.recency++,match:e,counter:s.counter})}},assert:function(t){this.__assertModify(t)},modify:function(t){this.agenda.retract(this,t),this.__assertModify(t)},retract:function(t){this.agenda.retract(this,t)},retractRight:function(t){this.agenda.retract(this,t)},retractLeft:function(t){this.agenda.retract(this,t)},assertLeft:function(t){this.__assertModify(t)},assertRight:function(t){this.__assertModify(t)},toString:function(){return"TerminalNode "+this.rule.name}}}).as(module);
},{"../extended":98,"./node":123}],128:[function(require,module,exports){
var AlphaNode=require("./alphaNode"),Context=require("../context");AlphaNode.extend({instance:{assert:function(t){this.constraintAssert(t.object)&&this.__propagate("assert",t)},modify:function(t){this.constraintAssert(t.object)&&this.__propagate("modify",t)},retract:function(t){this.constraintAssert(t.object)&&this.__propagate("retract",t)},toString:function(){return"TypeNode"+this.__count},dispose:function(){for(var t=this.__entrySet,e=t.length-1;e>=0;e--){var n=t[e],o=n.key,r=n.value;o.dispose({paths:r})}},__propagate:function(t,e){for(var n=this.__entrySet,o=-1,r=n.length;++o<r;){var a=n[o],s=a.key,i=a.value;s[t](new Context(e,i))}}}}).as(module);
},{"../context":96,"./alphaNode":106}],129:[function(require,module,exports){
(function (process){
var parser=function(){function t(){this.yy={}}var e=function(t,e,s,n){for(s=s||{},n=t.length;n--;s[t[n]]=e);return s},s=[1,29],n=[1,30],i=[1,26],r=[1,24],a=[1,16],h=[1,18],o=[1,19],c=[1,20],l=[1,21],u=[1,22],y=[5,38,49],p=[1,33],f=[5,36,38,49],g=[5,8,11,12,13,15,17,19,20,21,22,24,25,26,27,28,29,36,38,49],_=[2,2],m=[5,24,25,26,27,28,29,36,38,49],E=[1,42],b=[1,43],k=[1,44],S=[1,45],d=[5,8,11,12,13,15,17,19,20,21,22,24,25,26,27,28,29,31,33,36,38,40,46,49],I=[1,46],N=[1,47],x=[1,48],$=[5,19,20,21,22,24,25,26,27,28,29,36,38,49],O=[1,50],R=[5,8,11,12,13,15,17,19,20,21,22,24,25,26,27,28,29,31,33,36,38,40,43,44,46,48,49],P=[5,17,19,20,21,22,24,25,26,27,28,29,36,38,49],v=[1,55],L=[1,54],A=[5,8,15,17,19,20,21,22,24,25,26,27,28,29,36,38,49],T=[1,56],X=[1,57],w=[1,58],U=[1,87],q=[40,46,49],F={trace:function(){},yy:{},symbols_:{error:2,expressions:3,EXPRESSION:4,EOF:5,UNARY_EXPRESSION:6,LITERAL_EXPRESSION:7,"-":8,"!":9,MULTIPLICATIVE_EXPRESSION:10,"*":11,"/":12,"%":13,ADDITIVE_EXPRESSION:14,"+":15,EXPONENT_EXPRESSION:16,"^":17,RELATIONAL_EXPRESSION:18,"<":19,">":20,"<=":21,">=":22,EQUALITY_EXPRESSION:23,"==":24,"===":25,"!=":26,"!==":27,"=~":28,"!=~":29,IN_EXPRESSION:30,in:31,ARRAY_EXPRESSION:32,notIn:33,OBJECT_EXPRESSION:34,AND_EXPRESSION:35,"&&":36,OR_EXPRESSION:37,"||":38,ARGUMENT_LIST:39,",":40,IDENTIFIER_EXPRESSION:41,IDENTIFIER:42,".":43,"[":44,STRING_EXPRESSION:45,"]":46,NUMBER_EXPRESSION:47,"(":48,")":49,STRING:50,NUMBER:51,REGEXP_EXPRESSION:52,REGEXP:53,BOOLEAN_EXPRESSION:54,BOOLEAN:55,NULL_EXPRESSION:56,NULL:57,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"-",9:"!",11:"*",12:"/",13:"%",15:"+",17:"^",19:"<",20:">",21:"<=",22:">=",24:"==",25:"===",26:"!=",27:"!==",28:"=~",29:"!=~",31:"in",33:"notIn",36:"&&",38:"||",40:",",42:"IDENTIFIER",43:".",44:"[",46:"]",48:"(",49:")",50:"STRING",51:"NUMBER",53:"REGEXP",55:"BOOLEAN",57:"NULL"},productions_:[0,[3,2],[6,1],[6,2],[6,2],[10,1],[10,3],[10,3],[10,3],[14,1],[14,3],[14,3],[16,1],[16,3],[18,1],[18,3],[18,3],[18,3],[18,3],[23,1],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[30,1],[30,3],[30,3],[30,3],[30,3],[35,1],[35,3],[37,1],[37,3],[39,1],[39,3],[41,1],[34,1],[34,3],[34,4],[34,4],[34,4],[34,3],[34,4],[45,1],[47,1],[52,1],[54,1],[56,1],[32,2],[32,3],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,3],[4,1]],performAction:function(t,e,s,n,i,r,a){var h=r.length-1;switch(i){case 1:return r[h-1];case 3:this.$=[r[h],null,"unary"];break;case 4:this.$=[r[h],null,"logicalNot"];break;case 6:this.$=[r[h-2],r[h],"mult"];break;case 7:this.$=[r[h-2],r[h],"div"];break;case 8:this.$=[r[h-2],r[h],"mod"];break;case 10:this.$=[r[h-2],r[h],"plus"];break;case 11:this.$=[r[h-2],r[h],"minus"];break;case 13:this.$=[r[h-2],r[h],"pow"];break;case 15:this.$=[r[h-2],r[h],"lt"];break;case 16:this.$=[r[h-2],r[h],"gt"];break;case 17:this.$=[r[h-2],r[h],"lte"];break;case 18:this.$=[r[h-2],r[h],"gte"];break;case 20:this.$=[r[h-2],r[h],"eq"];break;case 21:this.$=[r[h-2],r[h],"seq"];break;case 22:this.$=[r[h-2],r[h],"neq"];break;case 23:this.$=[r[h-2],r[h],"sneq"];break;case 24:this.$=[r[h-2],r[h],"like"];break;case 25:this.$=[r[h-2],r[h],"notLike"];break;case 27:case 29:this.$=[r[h-2],r[h],"in"];break;case 28:case 30:this.$=[r[h-2],r[h],"notIn"];break;case 32:this.$=[r[h-2],r[h],"and"];break;case 34:this.$=[r[h-2],r[h],"or"];break;case 36:this.$=[r[h-2],r[h],"arguments"];break;case 37:this.$=[String(t),null,"identifier"];break;case 39:this.$=[r[h-2],r[h],"prop"];break;case 40:case 41:case 42:this.$=[r[h-3],r[h-1],"propLookup"];break;case 43:this.$=[r[h-2],[null,null,"arguments"],"function"];break;case 44:this.$=[r[h-3],r[h-1],"function"];break;case 45:this.$=[String(t.replace(/^['|"]|['|"]$/g,"")),null,"string"];break;case 46:this.$=[Number(t),null,"number"];break;case 47:this.$=[t,null,"regexp"];break;case 48:this.$=["true"==t.replace(/^\s+/,""),null,"boolean"];break;case 49:this.$=[null,null,"null"];break;case 50:this.$=[null,null,"array"];break;case 51:this.$=[r[h-1],null,"array"];break;case 59:this.$=[r[h-1],null,"composite"]}},table:[{3:1,4:2,6:28,7:7,8:s,9:n,10:27,14:25,16:17,18:8,23:6,30:5,32:15,34:14,35:4,37:3,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{1:[3]},{5:[1,31]},e([5,49],[2,60],{38:[1,32]}),e(y,[2,33],{36:p}),e(f,[2,31]),e(f,[2,26],{24:[1,34],25:[1,35],26:[1,36],27:[1,37],28:[1,38],29:[1,39]}),e(g,_,{31:[1,40],33:[1,41]}),e(m,[2,19],{19:E,20:b,21:k,22:S}),e(d,[2,52]),e(d,[2,53]),e(d,[2,54]),e(d,[2,55]),e(d,[2,56]),e(d,[2,57],{43:I,44:N,48:x}),e(d,[2,58]),{4:49,6:28,7:7,8:s,9:n,10:27,14:25,16:17,18:8,23:6,30:5,32:15,34:14,35:4,37:3,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},e($,[2,14],{17:O}),e(d,[2,45]),e(d,[2,46]),e(d,[2,47]),e(d,[2,48]),e(d,[2,49]),e(R,[2,38]),{7:53,32:15,34:14,39:52,41:23,42:i,44:r,45:9,46:[1,51],47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},e(P,[2,12],{8:v,15:L}),e(R,[2,37]),e(A,[2,9],{11:T,12:X,13:w}),e(g,[2,5]),{6:59,7:60,8:s,9:n,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:61,7:60,8:s,9:n,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{1:[2,1]},{6:28,7:7,8:s,9:n,10:27,14:25,16:17,18:8,23:6,30:5,32:15,34:14,35:62,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:7,8:s,9:n,10:27,14:25,16:17,18:8,23:6,30:63,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:17,18:64,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:17,18:65,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:17,18:66,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:17,18:67,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:17,18:68,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:17,18:69,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{32:70,34:71,41:23,42:i,44:r},{32:72,34:73,41:23,42:i,44:r},{6:28,7:60,8:s,9:n,10:27,14:25,16:74,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:75,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:76,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:27,14:25,16:77,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{41:78,42:i},{34:81,41:23,42:i,45:79,47:80,50:h,51:o},{7:53,32:15,34:14,39:83,41:23,42:i,44:r,45:9,47:10,48:a,49:[1,82],50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{49:[1,84]},{6:28,7:60,8:s,9:n,10:27,14:85,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},e(d,[2,50]),{40:U,46:[1,86]},e(q,[2,35]),{6:28,7:60,8:s,9:n,10:88,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:28,7:60,8:s,9:n,10:89,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:90,7:60,8:s,9:n,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:91,7:60,8:s,9:n,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},{6:92,7:60,8:s,9:n,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},e(g,[2,3]),e(g,_),e(g,[2,4]),e(y,[2,34],{36:p}),e(f,[2,32]),e(m,[2,20],{19:E,20:b,21:k,22:S}),e(m,[2,21],{19:E,20:b,21:k,22:S}),e(m,[2,22],{19:E,20:b,21:k,22:S}),e(m,[2,23],{19:E,20:b,21:k,22:S}),e(m,[2,24],{19:E,20:b,21:k,22:S}),e(m,[2,25],{19:E,20:b,21:k,22:S}),e(f,[2,27]),e(f,[2,29],{43:I,44:N,48:x}),e(f,[2,28]),e(f,[2,30],{43:I,44:N,48:x}),e($,[2,15],{17:O}),e($,[2,16],{17:O}),e($,[2,17],{17:O}),e($,[2,18],{17:O}),e(R,[2,39]),{46:[1,93]},{46:[1,94]},{43:I,44:N,46:[1,95],48:x},e(R,[2,43]),{40:U,49:[1,96]},e(d,[2,59]),e(P,[2,13],{8:v,15:L}),e(d,[2,51]),{7:97,32:15,34:14,41:23,42:i,44:r,45:9,47:10,48:a,50:h,51:o,52:11,53:c,54:12,55:l,56:13,57:u},e(A,[2,10],{11:T,12:X,13:w}),e(A,[2,11],{11:T,12:X,13:w}),e(g,[2,6]),e(g,[2,7]),e(g,[2,8]),e(R,[2,40]),e(R,[2,41]),e(R,[2,42]),e(R,[2,44]),e(q,[2,36])],defaultActions:{31:[2,1]},parseError:function(t,e){function s(t,e){this.message=t,this.hash=e}if(!e.recoverable)throw s.prototype=Error,new s(t,e);this.trace(t)},parse:function(t){var e=this,s=[0],n=[null],i=[],r=this.table,a="",h=0,o=0,c=0,l=i.slice.call(arguments,1),u=Object.create(this.lexer),y={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(y.yy[p]=this.yy[p]);u.setInput(t,y.yy),y.yy.lexer=u,y.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var f=u.yylloc;i.push(f);var g=u.options&&u.options.ranges;"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,m,E,b,k,S,d,I,N,x=function(){var t;return t=u.lex()||1,"number"!=typeof t&&(t=e.symbols_[t]||t),t},$={};;){if(E=s[s.length-1],this.defaultActions[E]?b=this.defaultActions[E]:(null!==_&&void 0!==_||(_=x()),b=r[E]&&r[E][_]),void 0===b||!b.length||!b[0]){var O="";N=[];for(S in r[E])this.terminals_[S]&&S>2&&N.push("'"+this.terminals_[S]+"'");O=u.showPosition?"Parse error on line "+(h+1)+":\n"+u.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==_?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(O,{text:u.match,token:this.terminals_[_]||_,line:u.yylineno,loc:f,expected:N})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+E+", token: "+_);switch(b[0]){case 1:s.push(_),n.push(u.yytext),i.push(u.yylloc),s.push(b[1]),_=null,m?(_=m,m=null):(o=u.yyleng,a=u.yytext,h=u.yylineno,f=u.yylloc,c>0&&c--);break;case 2:if(d=this.productions_[b[1]][1],$.$=n[n.length-d],$._$={first_line:i[i.length-(d||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(d||1)].first_column,last_column:i[i.length-1].last_column},g&&($._$.range=[i[i.length-(d||1)].range[0],i[i.length-1].range[1]]),void 0!==(k=this.performAction.apply($,[a,o,h,y.yy,b[1],n,i].concat(l))))return k;d&&(s=s.slice(0,-1*d*2),n=n.slice(0,-1*d),i=i.slice(0,-1*d)),s.push(this.productions_[b[1]][0]),n.push($.$),i.push($._$),I=r[s[s.length-2]][s[s.length-1]],s.push(I);break;case 3:return!0}}return!0}},G=function(){return{EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===n.length?this.yylloc.first_column:0)+n[n.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var s,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),n=t[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var r in i)this[r]=i[r];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,s,n;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),r=0;r<i.length;r++)if((s=this._input.match(this.rules[i[r]]))&&(!e||s[0].length>e[0].length)){if(e=s,n=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,i[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,s,n){switch(s){case 0:return 31;case 1:return 33;case 2:return"from";case 3:return 24;case 4:return 25;case 5:return 26;case 6:return 27;case 7:return 21;case 8:return 19;case 9:return 22;case 10:return 20;case 11:return 28;case 12:return 29;case 13:return 36;case 14:return 38;case 15:return 57;case 16:return 55;case 17:break;case 18:return 51;case 19:case 20:return 50;case 21:return 42;case 22:return 53;case 23:return 43;case 24:return 11;case 25:return 12;case 26:return 13;case 27:return 40;case 28:return 8;case 29:return 28;case 30:return 29;case 31:return 25;case 32:return 24;case 33:return 27;case 34:return 26;case 35:return 21;case 36:return 22;case 37:return 20;case 38:return 19;case 39:return 36;case 40:return 38;case 41:return 15;case 42:return 17;case 43:return 48;case 44:return 46;case 45:return 44;case 46:return 49;case 47:return 9;case 48:return 5}},rules:[/^(?:\s+in\b)/,/^(?:\s+notIn\b)/,/^(?:\s+from\b)/,/^(?:\s+(eq|EQ)\b)/,/^(?:\s+(seq|SEQ)\b)/,/^(?:\s+(neq|NEQ)\b)/,/^(?:\s+(sneq|SNEQ)\b)/,/^(?:\s+(lte|LTE)\b)/,/^(?:\s+(lt|LT)\b)/,/^(?:\s+(gte|GTE)\b)/,/^(?:\s+(gt|GT)\b)/,/^(?:\s+(like|LIKE)\b)/,/^(?:\s+(notLike|NOT_LIKE)\b)/,/^(?:\s+(and|AND)\b)/,/^(?:\s+(or|OR)\b)/,/^(?:\s*(null)\b)/,/^(?:\s*(true|false)\b)/,/^(?:\s+)/,/^(?:-?[0-9]+(?:\.[0-9]+)?\b)/,/^(?:'[^']*')/,/^(?:"[^"]*")/,/^(?:([a-zA-Z_$][0-9a-zA-Z_$]*))/,/^(?:^\/((?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/[imgy]{0,4})(?!\w))/,/^(?:\.)/,/^(?:\*)/,/^(?:\/)/,/^(?:\%)/,/^(?:,)/,/^(?:-)/,/^(?:=~)/,/^(?:!=~)/,/^(?:===)/,/^(?:==)/,/^(?:!==)/,/^(?:!=)/,/^(?:<=)/,/^(?:>=)/,/^(?:>)/,/^(?:<)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:\))/,/^(?:!)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}}}();return F.lexer=G,t.prototype=F,F.Parser=t,new t}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var e=require("fs").readFileSync(require("path").normalize(t[1]),"utf8");return exports.parser.parse(e)},"undefined"!=typeof module&&require.main===module&&exports.main(process.argv.slice(1)));
}).call(this,require('_process'))

},{"_process":181,"fs":175,"path":180}],130:[function(require,module,exports){
!function(){"use strict";var r=require("./constraint/parser"),e=require("./nools/nool.parser");exports.parseConstraint=function(e){try{return r.parse(e)}catch(r){throw new Error("Invalid expression '"+e+"'")}},exports.parseRuleSet=function(r,n){return e.parse(r,n)}}();
},{"./constraint/parser":129,"./nools/nool.parser":131}],131:[function(require,module,exports){
"use strict";var tokens=require("./tokens.js"),extd=require("../../extended"),keys=extd.hash.keys,utils=require("./util.js"),parse=function(e,r,n){var s=e;e=e.replace(/\/\/(.*)/g,"").replace(/\r\n|\r|\n/g," ");for(var t,i=new RegExp("^("+keys(r).join("|")+")");e&&-1!==(t=utils.findNextTokenIndex(e));){e=e.substr(t);var a=e.match(i);if(null===a)throw new Error("Error parsing "+e);if(!((a=a[1])in r))throw new Error("Unknown token"+a);try{e=r[a](e,n,parse).replace(/^\s*|\s*$/g,"")}catch(e){throw new Error("Invalid "+a+" definition \n"+e.message+"; \nstarting at : "+s)}}};exports.parse=function(e,r){var n={define:[],rules:[],scope:[],loaded:[],file:r};return parse(e,tokens,n),n};
},{"../../extended":98,"./tokens.js":132,"./util.js":133}],132:[function(require,module,exports){
(function (process){
"use strict";var utils=require("./util.js"),fs=require("fs"),extd=require("../../extended"),filter=extd.filter,indexOf=extd.indexOf,predicates=["not","or","exists"],predicateRegExp=new RegExp("^("+predicates.join("|")+") *\\((.*)\\)$","m"),predicateBeginExp=new RegExp(" *("+predicates.join("|")+") *\\(","g"),isWhiteSpace=function(e){return 0===e.replace(/[\s|\n|\r|\t]/g,"").length},joinFunc=function(e,r){return"; "+r},splitRuleLineByPredicateExpressions=function(e){var r=e.replace(/,\s*(\$?\w+\s*:)/g,joinFunc),t=filter(r.split(predicateBeginExp),function(e){return""!==e}),n=t.length,i=[];if(!n)return r;for(var s=0;s<n;s++)-1!==indexOf(predicates,t[s])?i.push([t[s],"(",t[++s].replace(/, *$/,"")].join("")):i.push(t[s].replace(/, *$/,""));return i.join(";")},ruleTokens={salience:function(){var e=/^(salience|priority)\s*:\s*(-?\d+)\s*[,;]?/;return function(r,t){if(e.test(r)){var n=r.match(e),i=parseInt(n[2],10);if(isNaN(i))throw new Error("Invalid salience/priority "+n[2]);return t.options.priority=i,r.replace(n[0],"")}throw new Error("invalid format")}}(),agendaGroup:function(){var e=/^(agenda-group|agendaGroup)\s*:\s*([a-zA-Z_$][0-9a-zA-Z_$]*|"[^"]*"|'[^']*')\s*[,;]?/;return function(r,t){if(e.test(r)){var n=r.match(e),i=n[2];if(!i)throw new Error("Invalid agenda-group "+n[2]);return t.options.agendaGroup=i.replace(/^["']|["']$/g,""),r.replace(n[0],"")}throw new Error("invalid format")}}(),autoFocus:function(){var e=/^(auto-focus|autoFocus)\s*:\s*(true|false)\s*[,;]?/;return function(r,t){if(e.test(r)){var n=r.match(e),i=n[2];if(!i)throw new Error("Invalid auto-focus "+n[2]);return t.options.autoFocus="true"===i,r.replace(n[0],"")}throw new Error("invalid format")}}(),"agenda-group":function(){return this.agendaGroup.apply(this,arguments)},"auto-focus":function(){return this.autoFocus.apply(this,arguments)},priority:function(){return this.salience.apply(this,arguments)},when:function(){var ruleRegExp=/^(\$?\w+) *: *(\w+)(.*)/,constraintRegExp=/(\{ *(?:["']?\$?\w+["']?\s*:\s*["']?\$?\w+["']? *(?:, *["']?\$?\w+["']?\s*:\s*["']?\$?\w+["']?)*)+ *\})/,fromRegExp=/(\bfrom\s+.*)/,parseRules=function(str){for(var rules=[],ruleLines=str.split(";"),l=ruleLines.length,ruleLine,i=0;i<l&&(ruleLine=ruleLines[i].replace(/^\s*|\s*$/g,"").replace(/\n/g,""));i++)if(!isWhiteSpace(ruleLine)){var rule=[];if(predicateRegExp.test(ruleLine)){var m=ruleLine.match(predicateRegExp),pred=m[1].replace(/^\s*|\s*$/g,"");if(rule.push(pred),ruleLine=m[2].replace(/^\s*|\s*$/g,""),"or"===pred){rule=rule.concat(parseRules(splitRuleLineByPredicateExpressions(ruleLine))),rules.push(rule);continue}}var parts=ruleLine.match(ruleRegExp);if(!parts||!parts.length)throw new Error("Invalid constraint "+ruleLine);rule.push(parts[2],parts[1]);var constraints=parts[3].replace(/^\s*|\s*$/g,""),hashParts=constraints.match(constraintRegExp),from=null,fromMatch;if(hashParts){var hash=hashParts[1],constraint=constraints.replace(hash,"");fromRegExp.test(constraint)&&(fromMatch=constraint.match(fromRegExp),from=fromMatch[0],constraint=constraint.replace(fromMatch[0],"")),constraint&&rule.push(constraint.replace(/^\s*|\s*$/g,"")),hash&&rule.push(eval("("+hash.replace(/(\$?\w+)\s*:\s*(\$?\w+)/g,'"$1" : "$2"')+")"))}else constraints&&!isWhiteSpace(constraints)&&(fromRegExp.test(constraints)&&(fromMatch=constraints.match(fromRegExp),from=fromMatch[0],constraints=constraints.replace(fromMatch[0],"")),rule.push(constraints));from&&rule.push(from),rules.push(rule)}return rules};return function(e,r){var t=e.replace(/^when\s*/,"").replace(/^\s*|\s*$/g,"");if("{"===utils.findNextToken(t)){var n=utils.getTokensBetween(t,"{","}",!0).join("");return t=t.replace(n,""),r.constraints=parseRules(n.replace(/^\{\s*|\}\s*$/g,"")),t}throw new Error("unexpected token : expected : '{' found : '"+utils.findNextToken(t)+"'")}}(),then:function(){return function(e,r){if(r.action)throw new Error("action already defined for rule"+r.name);var t=e.replace(/^then\s*/,"").replace(/^\s*|\s*$/g,"");if("{"===utils.findNextToken(t)){var n=utils.getTokensBetween(t,"{","}",!0).join("");if(t=t.replace(n,""),r.action||(r.action=n.replace(/^\{\s*|\}\s*$/g,"")),!isWhiteSpace(t))throw new Error("Error parsing then block "+e);return t}throw new Error("unexpected token : expected : '{' found : '"+utils.findNextToken(t)+"'")}}()},topLevelTokens={"/":function(e){return e.match(/^\/\*/)?e.replace(/\/\*.*?\*\//,""):e},define:function(e,r){var t=e.replace(/^define\s*/,""),n=t.match(/^([a-zA-Z_$][0-9a-zA-Z_$]*)/);if(n){if(t=t.replace(n[0],"").replace(/^\s*|\s*$/g,""),"{"===utils.findNextToken(t)){n=n[1];var i=utils.getTokensBetween(t,"{","}",!0).join("");return t=t.replace(i,""),r.define.push({name:n,properties:"("+i+")"}),t}throw new Error("unexpected token : expected : '{' found : '"+utils.findNextToken(t)+"'")}throw new Error("missing name")},import:function(e,r,t){if("undefined"!=typeof window)throw new Error("import cannot be used in a browser");var n=e.replace(/^import\s*/,"");if("("===utils.findNextToken(n)){var i=utils.getParamList(n);if(n=n.replace(i,"").replace(/^\s*|\s*$/g,""),";"===utils.findNextToken(n)&&(n=n.replace(/\s*;/,"")),i=i.replace(/[\(|\)]/g,"").split(","),1===i.length){if(i=utils.resolve(r.file||process.cwd(),i[0].replace(/["|']/g,"")),-1===indexOf(r.loaded,i)){var s=r.file;r.file=i,t(fs.readFileSync(i,"utf8"),topLevelTokens,r),r.loaded.push(i),r.file=s}return n}throw new Error("import accepts a single file")}throw new Error("unexpected token : expected : '(' found : '"+utils.findNextToken(n)+"'")},global:function(e,r){var t=e.replace(/^global\s*/,""),n=t.match(/^([a-zA-Z_$][0-9a-zA-Z_$]*\s*)/);if(n){if(t=t.replace(n[0],"").replace(/^\s*|\s*$/g,""),"="===utils.findNextToken(t)){n=n[1].replace(/^\s+|\s+$/g,"");var i=utils.getTokensBetween(t,"=",";",!0).join(""),s=i.substring(1,i.length-1);if(s=s.replace(/^\s+|\s+$/g,""),/^require\(/.test(s)){var a=utils.getParamList(s.replace("require")).replace(/[\(|\)]/g,"").split(",");1===a.length&&(a=a[0].replace(/["|']/g,""),s=["require('",utils.resolve(r.file||process.cwd(),a),"')"].join(""))}return r.scope.push({name:n,body:s}),t=t.replace(i,"")}throw new Error("unexpected token : expected : '=' found : '"+utils.findNextToken(t)+"'")}throw new Error("missing name")},function:function(e,r){var t=e.replace(/^function\s*/,""),n=t.match(/^([a-zA-Z_$][0-9a-zA-Z_$]*)\s*/);if(n){if(t=t.replace(n[0],""),"("===utils.findNextToken(t)){n=n[1];var i=utils.getParamList(t);if(t=t.replace(i,"").replace(/^\s*|\s*$/g,""),"{"===utils.findNextToken(t)){var s=utils.getTokensBetween(t,"{","}",!0).join("");return t=t.replace(s,""),r.scope.push({name:n,body:"function"+i+s}),t}throw new Error("unexpected token : expected : '{' found : '"+utils.findNextToken(t)+"'")}throw new Error("unexpected token : expected : '(' found : '"+utils.findNextToken(t)+"'")}throw new Error("missing name")},rule:function(e,r,t){var n=e.replace(/^rule\s*/,""),i=n.match(/^([a-zA-Z_$][0-9a-zA-Z_$]*|"[^"]*"|'[^']*')/);if(i){if(n=n.replace(i[0],"").replace(/^\s*|\s*$/g,""),"{"===utils.findNextToken(n)){i=i[1].replace(/^["']|["']$/g,"");var s={name:i,options:{},constraints:null,action:null},a=utils.getTokensBetween(n,"{","}",!0).join("");return n=n.replace(a,""),t(a.replace(/^\{\s*|\}\s*$/g,""),ruleTokens,s),r.rules.push(s),n}throw new Error("unexpected token : expected : '{' found : '"+utils.findNextToken(n)+"'")}throw new Error("missing name")}};module.exports=topLevelTokens;
}).call(this,require('_process'))

},{"../../extended":98,"./util.js":133,"_process":181,"fs":175}],133:[function(require,module,exports){
(function (process){
"use strict";var path=require("path"),WHITE_SPACE_REG=/[\s|\n|\r|\t]/,pathSep=path.sep||("win32"===process.platform?"\\":"/"),TOKEN_INVERTS={"{":"}","}":"{","(":")",")":"(","[":"]"},getTokensBetween=exports.getTokensBetween=function(e,t,r,n){var a=0,o=[];t||(t=TOKEN_INVERTS[r],a=1),r||(r=TOKEN_INVERTS[t]),e=Object(e);for(var p,s=!1,i=0,h=!1;p=e.charAt(i++);)if(p===t)a++,s?o.push(p):(s=!0,n&&o.push(p));else if(p===r&&i){if(0===--a){n&&o.push(p),h=!0;break}o.push(p)}else s&&o.push(p);if(!h)throw new Error("Unable to match "+t+" in "+e);return o};exports.getParamList=function(e){return getTokensBetween(e,"(",")",!0).join("")},exports.resolve=function(e,t){return"win32"===process.platform&&(t=t.replace(/\//g,"\\")),""!==path.extname(e)&&(e=path.dirname(e)),1===t.split(pathSep).length?t:path.resolve(e,t).replace(/\\/g,"/")};var findNextTokenIndex=exports.findNextTokenIndex=function(e,t,r){t=t||0,r=r||e.length;var n=-1,a=e.length;for((!r||r>a)&&(r=a);t<r;t++){var o=e.charAt(t);if(!WHITE_SPACE_REG.test(o)){n=t;break}}return n};exports.findNextToken=function(e,t,r){return e.charAt(findNextTokenIndex(e,t,r))};
}).call(this,require('_process'))

},{"_process":181,"path":180}],134:[function(require,module,exports){
"use strict";var extd=require("./extended"),isEmpty=extd.isEmpty,merge=extd.merge,forEach=extd.forEach,declare=extd.declare,constraintMatcher=require("./constraintMatcher"),constraint=require("./constraint"),EqualityConstraint=constraint.EqualityConstraint,FromConstraint=constraint.FromConstraint,id=0,Pattern=declare({}),ObjectPattern=Pattern.extend({instance:{constructor:function(t,n,r,e,i){i=i||{},this.id=id++,this.type=t,this.alias=n,this.conditions=r,this.pattern=i.pattern;var s=[new constraint.ObjectConstraint(t)],a=constraintMatcher.toConstraints(r,merge({alias:n},i));if(a.length)s=s.concat(a);else{var o=new constraint.TrueConstraint;s.push(o)}if(e&&!isEmpty(e)){var c=new constraint.HashConstraint(e);s.push(c)}forEach(s,function(t){t.set("alias",n)}),this.constraints=s},getSpecificity:function(){for(var t=this.constraints,n=0,r=0,e=t.length;r<e;r++)t[r]instanceof EqualityConstraint&&n++;return n},hasConstraint:function(t){return extd.some(this.constraints,function(n){return n instanceof t})},hashCode:function(){return[this.type,this.alias,extd.format("%j",this.conditions)].join(":")},toString:function(){return extd.format("%j",this.constraints)}}}).as(exports,"ObjectPattern"),FromPattern=ObjectPattern.extend({instance:{constructor:function(t,n,r,e,i,s){this._super([t,n,r,e,s]),this.from=new FromConstraint(i,s)},hasConstraint:function(t){return extd.some(this.constraints,function(n){return n instanceof t})},getSpecificity:function(){return this._super(arguments)+1},hashCode:function(){return[this.type,this.alias,extd.format("%j",this.conditions),this.from.from].join(":")},toString:function(){return extd.format("%j from %s",this.constraints,this.from.from)}}}).as(exports,"FromPattern");FromPattern.extend().as(exports,"FromNotPattern"),ObjectPattern.extend().as(exports,"NotPattern"),ObjectPattern.extend().as(exports,"ExistsPattern"),FromPattern.extend().as(exports,"FromExistsPattern"),Pattern.extend({instance:{constructor:function(t,n){this.id=id++,this.leftPattern=t,this.rightPattern=n},hashCode:function(){return[this.leftPattern.hashCode(),this.rightPattern.hashCode()].join(":")},getSpecificity:function(){return this.rightPattern.getSpecificity()+this.leftPattern.getSpecificity()},getters:{constraints:function(){return this.leftPattern.constraints.concat(this.rightPattern.constraints)}}}}).as(exports,"CompositePattern");var InitialFact=declare({instance:{constructor:function(){this.id=id++,this.recency=0}}}).as(exports,"InitialFact");ObjectPattern.extend({instance:{constructor:function(){this._super([InitialFact,"__i__",[],{}])},assert:function(){return!0}}}).as(exports,"InitialFactPattern");
},{"./constraint":94,"./constraintMatcher":95,"./extended":98}],135:[function(require,module,exports){
"use strict";function createRule(t,e,r,n){isArray(e)?(n=r,r=e):e=e||{};var a=extd.every(r,function(t){return isArray(t)});a&&1===r.length&&(r=r[0],a=!1);var o=[],i=e.scope||{};if(r.scope=i,a){for(var s,c=function(t,e){p[e]?extd(p).forEach(function(e){e.push(t)}):(p[e]=0===e?[]:p[e-1].slice(),0!==e&&p[e].pop(),p[e].push(t))},u=r.length,p=[],f=0;f<u;f++)s=r[f],s.scope=i,extd.forEach(parsePattern(s),c);o=extd.map(p,function(r){for(var a=null,o=0;o<r.length;o++)a=null===a?new CompositePattern(r[o++],r[o]):new CompositePattern(a,r[o]);return new Rule(t,e,a,n)})}else o=extd.map(parsePattern(r),function(r){return new Rule(t,e,r,n)});return o}var extd=require("./extended"),isArray=extd.isArray,Promise=extd.Promise,declare=extd.declare,isHash=extd.isHash,isString=extd.isString,format=extd.format,parser=require("./parser"),pattern=require("./pattern"),ObjectPattern=pattern.ObjectPattern,FromPattern=pattern.FromPattern,NotPattern=pattern.NotPattern,ExistsPattern=pattern.ExistsPattern,FromNotPattern=pattern.FromNotPattern,FromExistsPattern=pattern.FromExistsPattern,CompositePattern=pattern.CompositePattern,parseConstraint=function(t){return"function"==typeof t?t:parser.parseConstraint(t)},parseExtra=extd.switcher().isUndefinedOrNull(function(){return null}).isLike(/^from +/,function(t){return{from:t.replace(/^from +/,"").replace(/^\s*|\s*$/g,"")}}).def(function(t){throw new Error("invalid rule constraint option "+t)}).switcher(),normailizeConstraint=extd.switcher().isLength(1,function(t){throw new Error("invalid rule constraint "+format("%j",[t]))}).isLength(2,function(t){return t.push("true"),t}).isLength(3,function(t){if(isString(t[2])&&/^from +/.test(t[2])){var e=t[2];t.splice(2,0,"true"),t[3]=null,t[4]=parseExtra(e)}else isHash(t[2])&&t.splice(2,0,"true");return t}).isLength(4,function(t){return isString(t[3])&&(t.splice(3,0,null),t[4]=parseExtra(t[4])),t}).def(function(t){return 5===t.length&&(t[4]=parseExtra(t[4])),t}).switcher(),getParamType=function(t,e){e=e||{};var r=extd.switcher().isEq("string",function(){return String}).isEq("date",function(){return Date}).isEq("array",function(){return Array}).isEq("boolean",function(){return Boolean}).isEq("regexp",function(){return RegExp}).isEq("number",function(){return Number}).isEq("object",function(){return Object}).isEq("hash",function(){return Object}).def(function(t){throw new TypeError("invalid param type "+t)}).switcher();return extd.switcher().isString(function(t){var n=e[t];return n||r(t.toLowerCase())}).isFunction(function(t){return t}).deepEqual([],function(){return Array}).def(function(t){throw new Error("invalid param type "+t)}).switcher()(t)},parsePattern=extd.switcher().containsAt("or",0,function(t){return t.shift(),extd(t).map(function(e){return e.scope=t.scope,parsePattern(e)}).flatten().value()}).containsAt("not",0,function(t){return t.shift(),t=normailizeConstraint(t),t[4]&&t[4].from?[new FromNotPattern(getParamType(t[0],t.scope),t[1]||"m",parseConstraint(t[2]||"true"),t[3]||{},parseConstraint(t[4].from),{scope:t.scope,pattern:t[2]})]:[new NotPattern(getParamType(t[0],t.scope),t[1]||"m",parseConstraint(t[2]||"true"),t[3]||{},{scope:t.scope,pattern:t[2]})]}).containsAt("exists",0,function(t){return t.shift(),t=normailizeConstraint(t),t[4]&&t[4].from?[new FromExistsPattern(getParamType(t[0],t.scope),t[1]||"m",parseConstraint(t[2]||"true"),t[3]||{},parseConstraint(t[4].from),{scope:t.scope,pattern:t[2]})]:[new ExistsPattern(getParamType(t[0],t.scope),t[1]||"m",parseConstraint(t[2]||"true"),t[3]||{},{scope:t.scope,pattern:t[2]})]}).def(function(t){return"function"==typeof t?[t]:(t=normailizeConstraint(t),t[4]&&t[4].from?[new FromPattern(getParamType(t[0],t.scope),t[1]||"m",parseConstraint(t[2]||"true"),t[3]||{},parseConstraint(t[4].from),{scope:t.scope,pattern:t[2]})]:[new ObjectPattern(getParamType(t[0],t.scope),t[1]||"m",parseConstraint(t[2]||"true"),t[3]||{},{scope:t.scope,pattern:t[2]})])}).switcher(),Rule=declare({instance:{constructor:function(t,e,r,n){this.name=t,this.pattern=r,this.cb=n,e.agendaGroup&&(this.agendaGroup=e.agendaGroup,this.autoFocus=!!extd.isBoolean(e.autoFocus)&&e.autoFocus),this.priority=e.priority||e.salience||0},fire:function(t,e){var r=new Promise,n=this.cb;try{3===n.length?n.call(t,e.factHash,t,r.resolve):r=n.call(t,e.factHash,t)}catch(t){r.errback(t)}return r}}});exports.createRule=createRule;
},{"./extended":98,"./parser":130,"./pattern":134}],136:[function(require,module,exports){
"use strict";var declare=require("declare.js"),LinkedList=require("./linkedList"),InitialFact=require("./pattern").InitialFact,id=0,Fact=declare({instance:{constructor:function(t){this.object=t,this.recency=0,this.id=id++},equals:function(t){return t===this.object},hashCode:function(){return this.id}}});declare({instance:{constructor:function(){this.recency=0,this.facts=new LinkedList},dispose:function(){this.facts.clear()},getFacts:function(){for(var t,e={next:this.facts.head},n=[],r=0;e=e.next;)(t=e.data.object)instanceof InitialFact||(n[r++]=t);return n},getFactsByType:function(t){for(var e={next:this.facts.head},n=[],r=0;e=e.next;){var a=e.data.object;a instanceof InitialFact||!(a instanceof t||a.constructor===t)||(n[r++]=a)}return n},getFactHandle:function(t){for(var e,n={next:this.facts.head};n=n.next;){var r=n.data;if(r.equals(t))return r}return e||(e=new Fact(t),e.recency=this.recency++),e},modifyFact:function(t){for(var e={next:this.facts.head};e=e.next;){var n=e.data;if(n.equals(t))return n.recency=this.recency++,n}throw new Error("the fact to modify does not exist")},assertFact:function(t){var e=new Fact(t);return e.recency=this.recency++,this.facts.push(e),e},retractFact:function(t){for(var e=this.facts,n={next:e.head};n=n.next;){var r=n.data;if(r.equals(t))return e.remove(n),r}throw new Error("the fact to remove does not exist")}}}).as(exports,"WorkingMemory");
},{"./linkedList":102,"./pattern":134,"declare.js":54}],137:[function(require,module,exports){
(function(){"use strict";function e(e,r,n){function t(e,r){var n,t;for(n in r)g.call(r,n)&&(t=r[n],n in e&&e[n]===t||(e[n]=t));return e}function o(e,r){var n,t,i;for(n in r)g.call(r,n)&&(t=r[n],i=e[n],x(i,t)||(v(i)&&v(t)?e[n]=o(i,t):v(t)?e[n]=o({},t):e[n]=t));return e}function i(e){e||(e={});for(var r=1,n=arguments.length;r<n;r++)t(e,arguments[r]);return e}function f(e){e||(e={});for(var r=1,n=arguments.length;r<n;r++)o(e,arguments[r]);return e}function u(e,r){return i(e.prototype||e,r),e}function d(e,r,n){if(!v(e)||!E(r))throw new TypeError;for(var t,o=l(e),i=0,f=o.length;i<f;++i)t=o[i],r.call(n||e,e[t],t,e);return e}function a(e,r,n){if(!v(e)||!E(r))throw new TypeError;for(var t,o,i=l(e),f={},u=0,d=i.length;u<d;++u)t=i[u],o=e[t],r.call(n||e,o,t,e)&&(f[t]=o);return f}function c(e){if(!v(e))throw new TypeError;for(var r=l(e),n=[],t=0,o=r.length;t<o;++t)n.push(e[r[t]]);return n}function l(e){if(!v(e))throw new TypeError;var r=[];for(var n in e)g.call(e,n)&&r.push(n);return r}function h(e){if(!v(e))throw new TypeError;for(var r,n=l(e),t={},o=0,i=n.length;o<i;++o)r=n[o],t[e[r]]=r;return t}function p(e){if(!v(e))throw new TypeError;for(var r,n=l(e),t=[],o=0,i=n.length;o<i;++o)r=n[o],t.push([r,e[r]]);return t}function s(e,r){if(!v(e))throw new TypeError;y(r)&&(r=[r]);for(var n,t=w(l(e),r),o={},i=0,f=t.length;i<f;++i)n=t[i],o[n]=e[n];return o}var x=r.deepEqual,y=r.isString,v=r.isHash,w=n.difference,g=Object.prototype.hasOwnProperty,E=r.isFunction,m={forEach:d,filter:a,invert:h,values:c,toArray:p,keys:l,omit:s},T={extend:u,merge:i,deepMerge:f,omit:s},q=e.define(r.isObject,T).define(v,m).define(r.isFunction,{extend:u}).expose({hash:m}).expose(T),b=q.extend;return q.extend=function(){if(1===arguments.length)return b.extend.apply(q,arguments);u.apply(null,arguments)},q}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=e(require("extended"),require("is-extended"),require("array-extended"))):"function"==typeof define&&define.amd?define(["extended","is-extended","array-extended"],function(r,n,t){return e(r,n,t)}):this.objectExtended=e(this.extended,this.isExtended,this.arrayExtended)}).call(this);
},{"array-extended":6,"extended":55,"is-extended":81}],138:[function(require,module,exports){
(function (process,setImmediate){
(function(){"use strict";function e(e,r,t,i,n,s){function a(e,r){return function(){try{h(e.apply(null,arguments)).addCallback(r).addErrback(r)}catch(e){r.errback(e)}}}function c(e,r,t){var i=(new A).callback();return x(e,function(e){i=i.then(t?e:L(null,e)),t||(i=i.then(function(e){return r.push(e),r}))}),i}function o(e){return!v(e)&&w(e.then)}function l(e){var r=new A;return e.then(C(r,"callback"),C(r,"errback")),r.promise()}function h(e){var r;return e=T(arguments),e.length?1===e.length?(e=e.pop(),o(e)?e.addCallback&&e.addErrback?(r=new A,e.addCallback(r.callback),e.addErrback(r.errback)):r=l(e):r=y(e)&&t.every(e,o)?new z(e,!0).promise():(new A).callback(e)):r=new z(t.map(e,function(e){return h(e)}),!0).promise():r=(new A).callback(e).promise(),r}function u(e,r){return function(){var t=new A,i=T(arguments);return i.push(t.resolve),e.apply(r||this,i),t.promise()}}function _(e){if(y(e))return c(e,[],!1);throw new Error("When calling promise.serial the first argument must be an array")}function d(e){if(y(e))return c(e,[],!0);throw new Error("When calling promise.serial the first argument must be an array")}function f(e,r){e=T(arguments);var t=!1;r=e.pop();var i=h(e);return function(){return t?h(r.apply(this,arguments)):(e=arguments,i.then(C(this,function(){return t=!0,r.apply(this,e)})))}}function p(){return new A}function b(e){return new z(e,!0).promise()}function k(e){return p().errback(e)}function m(e){return p().callback(e)}var g,x=t.forEach,v=i.isUndefinedOrNull,y=i.isArray,w=i.isFunction,E=i.isBoolean,C=n.bind,L=n.bindIgnore,T=s.argsToArray;if("function"==typeof setImmediate)g="undefined"!=typeof window?setImmediate.bind(window):setImmediate;else if("undefined"!=typeof process)g=function(e){process.nextTick(e)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,q={},P=q;N.port1.onmessage=function(){q=q.next;var e=q.task;delete q.task,e()},g=function(e){P=P.next={task:e},N.port2.postMessage(0)}}else g=function(e){setTimeout(e,0)};var A=e({instance:{__fired:!1,__results:null,__error:null,__errorCbs:null,__cbs:null,constructor:function(){this.__errorCbs=[],this.__cbs=[],n.bindAll(this,["callback","errback","resolve","classic","__resolve","addCallback","addErrback"])},__resolve:function(){if(!this.__fired){this.__fired=!0;var e,r=this.__error?this.__errorCbs:this.__cbs,t=r.length,i=this.__error||this.__results;for(e=0;e<t;e++)this.__callNextTick(r[e],i)}},__callNextTick:function(e,r){g(function(){e.apply(this,r)})},addCallback:function(e){return e&&(o(e)&&e.callback&&(e=e.callback),this.__fired&&this.__results?this.__callNextTick(e,this.__results):this.__cbs.push(e)),this},addErrback:function(e){return e&&(o(e)&&e.errback&&(e=e.errback),this.__fired&&this.__error?this.__callNextTick(e,this.__error):this.__errorCbs.push(e)),this},callback:function(e){return this.__fired||(this.__results=arguments,this.__resolve()),this.promise()},errback:function(e){return this.__fired||(this.__error=arguments,this.__resolve()),this.promise()},resolve:function(e,r){return e?this.errback(e):this.callback.apply(this,T(arguments,1)),this},classic:function(e){return"function"==typeof e&&(this.addErrback(function(r){e(r)}),this.addCallback(function(){e.apply(this,[null].concat(T(arguments)))})),this},then:function(e,r){var t=new A,i=t;return w(r)&&(i=a(r,t)),this.addErrback(i),w(e)?this.addCallback(a(e,t)):this.addCallback(t),t.promise()},both:function(e){return this.then(e,e)},promise:function(){var e={then:C(this,"then"),both:C(this,"both"),promise:function(){return e}};return x(["addCallback","addErrback","classic"],function(r){e[r]=C(this,function(){return this[r].apply(this,arguments),e})},this),e}}}),z=A.extend({instance:{__results:null,__errors:null,__promiseLength:0,__defLength:0,__firedLength:0,normalizeResults:!1,constructor:function(e,r){this.__errors=[],this.__results=[],this.normalizeResults=!!E(r)&&r,this._super(arguments),e&&e.length?(this.__defLength=e.length,x(e,this.__addPromise,this)):this.__resolve()},__addPromise:function(e,r){e.then(C(this,function(){var e=T(arguments);e.unshift(r),this.callback.apply(this,e)}),C(this,function(){var e=T(arguments);e.unshift(r),this.errback.apply(this,e)}))},__resolve:function(){if(!this.__fired){this.__fired=!0;var e,r=this.__errors.length?this.__errorCbs:this.__cbs,t=r.length,i=this.__errors.length?this.__errors:this.__results;for(e=0;e<t;e++)this.__callNextTick(r[e],i)}},__callNextTick:function(e,r){g(function(){e.apply(null,[r])})},addCallback:function(e){return e&&(o(e)&&e.callback&&(e=C(e,"callback")),this.__fired&&!this.__errors.length?this.__callNextTick(e,this.__results):this.__cbs.push(e)),this},addErrback:function(e){return e&&(o(e)&&e.errback&&(e=C(e,"errback")),this.__fired&&this.__errors.length?this.__callNextTick(e,this.__errors):this.__errorCbs.push(e)),this},callback:function(e){if(this.__fired)throw new Error("Already fired!");var r=T(arguments);return this.normalizeResults&&(r=r.slice(1),r=1===r.length?r.pop():r),this.__results[e]=r,this.__firedLength++,this.__firedLength===this.__defLength&&this.__resolve(),this.promise()},errback:function(e){if(this.__fired)throw new Error("Already fired!");var r=T(arguments);return this.normalizeResults&&(r=r.slice(1),r=1===r.length?r.pop():r),this.__errors[e]=r,this.__firedLength++,this.__firedLength===this.__defLength&&this.__resolve(),this.promise()}}});return r.define({isPromiseLike:o}).expose({isPromiseLike:o,when:h,wrap:u,wait:f,serial:_,chain:d,Promise:A,PromiseList:z,promise:p,defer:p,deferredList:b,reject:k,resolve:m})}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=e(require("declare.js"),require("extended"),require("array-extended"),require("is-extended"),require("function-extended"),require("arguments-extended"))):"function"==typeof define&&define.amd?define(["declare","extended","array-extended","is-extended","function-extended","arguments-extended"],function(r,t,i,n,s,a){return e(r,t,i,n,s,a)}):this.promiseExtended=e(this.declare,this.extended,this.arrayExtended,this.isExtended,this.functionExtended,this.argumentsExtended)}).call(this);
}).call(this,require('_process'),require("timers").setImmediate)

},{"_process":181,"arguments-extended":5,"array-extended":6,"declare.js":54,"extended":55,"function-extended":58,"is-extended":81,"timers":182}],139:[function(require,module,exports){
(function(){"use strict";function E(E,e,_,r){function t(E,e){var _=E;if(C.test(e)){var r=e.match(C),t=r[1],n=r[3],L=r[4];L&&(L=parseInt(L,10),_=_.length<L?T(_,L,n,t):O(_,L))}return _}function n(E,_){var r;if(!e.isNumber(E))throw new Error("stringExtended.format : when using %d the parameter must be a number!");if(r=""+E,C.test(_)){var t=_.match(C),n=t[1],L=t[2],i=t[3],A=t[4];L&&(r=(E>0?"+":"")+r),A&&(A=parseInt(A,10),r=r.length<A?T(r,A,i||"0",n):O(r,A))}return r}function L(E,e){var _,r=e.match(l),t=0;r&&(t=parseInt(r[0],10),isNaN(t)&&(t=0));try{_=N(E,null,t)}catch(e){throw new Error("stringExtended.format : Unable to parse json from ",E)}return _}function T(E,e,_,r){E=""+E,_=_||" ";for(var t=E.length;t<e;)r?E+=_:E=_+E,t++;return E}function O(E,_,r){var t=E;if(e.isString(t)){if(E.length>_)if(r){var n=E.length;t=E.substring(n-_,n)}else t=E.substring(0,_)}else t=O(""+t,_);return t}function i(E,r){if(r instanceof Array){var T=0,O=r.length;return E.replace(S,function(E,e,i){var A,I;if(!(T<O))return E;if(A=r[T++],"%s"===E||"%d"===E||"%D"===E)I=A+"";else if("%Z"===E)I=A.toUTCString();else if("%j"===E)try{I=N(A)}catch(E){throw new Error("stringExtended.format : Unable to parse json from ",A)}else switch(e=e.replace(/^\[|\]$/g,""),i){case"s":I=t(A,e);break;case"d":I=n(A,e);break;case"j":I=L(A,e);break;case"D":I=_.format(A,e);break;case"Z":I=_.format(A,e,!0)}return I})}return U(r)?E.replace(c,function(E,T,O){if(O=r[O],!e.isUndefined(O)){if(!T)return""+O;if(e.isString(O))return t(O,T);if(e.isNumber(O))return n(O,T);if(e.isDate(O))return _.format(O,T);if(e.isObject(O))return L(O,T)}return E}):i(E,M.call(arguments).slice(1))}function A(E,e){var _=[];return E&&(E.indexOf(e)>0?_=E.replace(/\s+/g,"").split(e):_.push(E)),_}function I(E,e){var _=[];if(e)for(var r=0;r<e;r++)_.push(E);return _.join("")}function u(E,_){var r,t,n;if(_)if(e.isArray(E))for(r=[],t=0,n=E.length;t<n;t++)r.push(u(E[t],_));else if(_ instanceof Array)for(r=E,t=0,n=_.length;t<n;t++)r=u(r,_[t]);else _ in D&&(r="["+D[_]+"m"+E+"[0m");return r}function R(E,e){return E.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(E){return e&&-1!==r.indexOf(e,E)?E:"\\"+E})}function a(E){return E.replace(/^\s*|\s*$/g,"")}function f(E){return E.replace(/^\s*/,"")}function o(E){return E.replace(/\s*$/,"")}function s(E){return 0===E.length}var N;"undefined"==typeof JSON?function(){function E(E){return E<10?"0"+E:E}function _(_){return e.isDate(_)?isFinite(_.valueOf())?_.getUTCFullYear()+"-"+E(_.getUTCMonth()+1)+"-"+E(_.getUTCDate())+"T"+E(_.getUTCHours())+":"+E(_.getUTCMinutes())+":"+E(_.getUTCSeconds())+"Z":null:O(_)?_.valueOf():_}function r(E){return i.lastIndex=0,i.test(E)?'"'+E.replace(i,function(E){var e=A[E];return"string"==typeof e?e:"\\u"+("0000"+E.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+E+'"'}function t(E,e){var O,i,A,I,u,R=n,a=e[E];switch(a&&(a=_(a)),"function"==typeof T&&(a=T.call(e,E,a)),typeof a){case"string":return r(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(n+=L,u=[],"[object Array]"===Object.prototype.toString.apply(a)){for(I=a.length,O=0;O<I;O+=1)u[O]=t(O,a)||"null";return A=0===u.length?"[]":n?"[\n"+n+u.join(",\n"+n)+"\n"+R+"]":"["+u.join(",")+"]",n=R,A}if(T&&"object"==typeof T)for(I=T.length,O=0;O<I;O+=1)"string"==typeof T[O]&&(i=T[O],(A=t(i,a))&&u.push(r(i)+(n?": ":":")+A));else for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(A=t(i,a))&&u.push(r(i)+(n?": ":":")+A);return A=0===u.length?"{}":n?"{\n"+n+u.join(",\n"+n)+"\n"+R+"}":"{"+u.join(",")+"}",n=R,A}}var n,L,T,O=e.tester().isString().isNumber().isBoolean().tester(),i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,A={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};N=function(E,e,_){var r;if(n="",L="","number"==typeof _)for(r=0;r<_;r+=1)L+=" ";else"string"==typeof _&&(L=_);if(T=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return t("",{"":E})}}():N=JSON.stringify;var U=e.isHash,M=Array.prototype.slice,S=/%((?:-?\+?.?\d*)?|(?:\[[^\[|\]]*\]))?([sjdDZ])/g,c=/\{(?:\[([^\[|\]]*)\])?(\w+)\}/g,C=/(-?)(\+?)([A-Z|a-z|\W]?)([1-9][0-9]*)?$/,l=/([1-9][0-9]*)$/g,D={bold:1,bright:1,italic:3,underline:4,blink:5,inverse:7,crossedOut:9,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,redBackground:41,greenBackground:42,yellowBackground:43,blueBackground:44,magentaBackground:45,cyanBackground:46,whiteBackground:47,encircled:52,overlined:53,grey:90,black:90},d={SMILEY:"☺",SOLID_SMILEY:"☻",HEART:"♥",DIAMOND:"♦",CLOVE:"♣",SPADE:"♠",DOT:"•",SQUARE_CIRCLE:"◘",CIRCLE:"○",FILLED_SQUARE_CIRCLE:"◙",MALE:"♂",FEMALE:"♀",EIGHT_NOTE:"♪",DOUBLE_EIGHTH_NOTE:"♫",SUN:"☼",PLAY:"►",REWIND:"◄",UP_DOWN:"↕",PILCROW:"¶",SECTION:"§",THICK_MINUS:"▬",SMALL_UP_DOWN:"↨",UP_ARROW:"↑",DOWN_ARROW:"↓",RIGHT_ARROW:"→",LEFT_ARROW:"←",RIGHT_ANGLE:"∟",LEFT_RIGHT_ARROW:"↔",TRIANGLE:"▲",DOWN_TRIANGLE:"▼",HOUSE:"⌂",C_CEDILLA:"Ç",U_UMLAUT:"ü",E_ACCENT:"é",A_LOWER_CIRCUMFLEX:"â",A_LOWER_UMLAUT:"ä",A_LOWER_GRAVE_ACCENT:"à",A_LOWER_CIRCLE_OVER:"å",C_LOWER_CIRCUMFLEX:"ç",E_LOWER_CIRCUMFLEX:"ê",E_LOWER_UMLAUT:"ë",E_LOWER_GRAVE_ACCENT:"è",I_LOWER_UMLAUT:"ï",I_LOWER_CIRCUMFLEX:"î",I_LOWER_GRAVE_ACCENT:"ì",A_UPPER_UMLAUT:"Ä",A_UPPER_CIRCLE:"Å",E_UPPER_ACCENT:"É",A_E_LOWER:"æ",A_E_UPPER:"Æ",O_LOWER_CIRCUMFLEX:"ô",O_LOWER_UMLAUT:"ö",O_LOWER_GRAVE_ACCENT:"ò",U_LOWER_CIRCUMFLEX:"û",U_LOWER_GRAVE_ACCENT:"ù",Y_LOWER_UMLAUT:"ÿ",O_UPPER_UMLAUT:"Ö",U_UPPER_UMLAUT:"Ü",CENTS:"¢",POUND:"£",YEN:"¥",CURRENCY:"¤",PTS:"₧",FUNCTION:"ƒ",A_LOWER_ACCENT:"á",I_LOWER_ACCENT:"í",O_LOWER_ACCENT:"ó",U_LOWER_ACCENT:"ú",N_LOWER_TILDE:"ñ",N_UPPER_TILDE:"Ñ",A_SUPER:"ª",O_SUPER:"º",UPSIDEDOWN_QUESTION:"¿",SIDEWAYS_L:"⌐",NEGATION:"¬",ONE_HALF:"½",ONE_FOURTH:"¼",UPSIDEDOWN_EXCLAMATION:"¡",DOUBLE_LEFT:"«",DOUBLE_RIGHT:"»",LIGHT_SHADED_BOX:"░",MEDIUM_SHADED_BOX:"▒",DARK_SHADED_BOX:"▓",VERTICAL_LINE:"│",MAZE__SINGLE_RIGHT_T:"┤",MAZE_SINGLE_RIGHT_TOP:"┐",MAZE_SINGLE_RIGHT_BOTTOM_SMALL:"┘",MAZE_SINGLE_LEFT_TOP_SMALL:"┌",MAZE_SINGLE_LEFT_BOTTOM_SMALL:"└",MAZE_SINGLE_LEFT_T:"├",MAZE_SINGLE_BOTTOM_T:"┴",MAZE_SINGLE_TOP_T:"┬",MAZE_SINGLE_CENTER:"┼",MAZE_SINGLE_HORIZONTAL_LINE:"─",MAZE_SINGLE_RIGHT_DOUBLECENTER_T:"╡",MAZE_SINGLE_RIGHT_DOUBLE_BL:"╛",MAZE_SINGLE_RIGHT_DOUBLE_T:"╢",MAZE_SINGLE_RIGHT_DOUBLEBOTTOM_TOP:"╖",MAZE_SINGLE_RIGHT_DOUBLELEFT_TOP:"╕",MAZE_SINGLE_LEFT_DOUBLE_T:"╞",MAZE_SINGLE_BOTTOM_DOUBLE_T:"╧",MAZE_SINGLE_TOP_DOUBLE_T:"╤",MAZE_SINGLE_TOP_DOUBLECENTER_T:"╥",MAZE_SINGLE_BOTTOM_DOUBLECENTER_T:"╨",MAZE_SINGLE_LEFT_DOUBLERIGHT_BOTTOM:"╘",MAZE_SINGLE_LEFT_DOUBLERIGHT_TOP:"╒",MAZE_SINGLE_LEFT_DOUBLEBOTTOM_TOP:"╓",MAZE_SINGLE_LEFT_DOUBLETOP_BOTTOM:"╙",MAZE_SINGLE_LEFT_TOP:"Γ",MAZE_SINGLE_RIGHT_BOTTOM:"╜",MAZE_SINGLE_LEFT_CENTER:"╟",MAZE_SINGLE_DOUBLECENTER_CENTER:"╫",MAZE_SINGLE_DOUBLECROSS_CENTER:"╪",MAZE_DOUBLE_LEFT_CENTER:"╣",MAZE_DOUBLE_VERTICAL:"║",MAZE_DOUBLE_RIGHT_TOP:"╗",MAZE_DOUBLE_RIGHT_BOTTOM:"╝",MAZE_DOUBLE_LEFT_BOTTOM:"╚",MAZE_DOUBLE_LEFT_TOP:"╔",MAZE_DOUBLE_BOTTOM_T:"╩",MAZE_DOUBLE_TOP_T:"╦",MAZE_DOUBLE_LEFT_T:"╠",MAZE_DOUBLE_HORIZONTAL:"═",MAZE_DOUBLE_CROSS:"╬",SOLID_RECTANGLE:"█",THICK_LEFT_VERTICAL:"▌",THICK_RIGHT_VERTICAL:"▐",SOLID_SMALL_RECTANGLE_BOTTOM:"▄",SOLID_SMALL_RECTANGLE_TOP:"▀",PHI_UPPER:"Φ",INFINITY:"∞",INTERSECTION:"∩",DEFINITION:"≡",PLUS_MINUS:"±",GT_EQ:"≥",LT_EQ:"≤",THEREFORE:"⌠",SINCE:"∵",DOESNOT_EXIST:"∄",EXISTS:"∃",FOR_ALL:"∀",EXCLUSIVE_OR:"⊕",BECAUSE:"⌡",DIVIDE:"÷",APPROX:"≈",DEGREE:"°",BOLD_DOT:"∙",DOT_SMALL:"·",CHECK:"√",ITALIC_X:"✗",SUPER_N:"ⁿ",SQUARED:"²",CUBED:"³",SOLID_BOX:"■",PERMILE:"‰",REGISTERED_TM:"®",COPYRIGHT:"©",TRADEMARK:"™",BETA:"β",GAMMA:"γ",ZETA:"ζ",ETA:"η",IOTA:"ι",KAPPA:"κ",LAMBDA:"λ",NU:"ν",XI:"ξ",OMICRON:"ο",RHO:"ρ",UPSILON:"υ",CHI_LOWER:"φ",CHI_UPPER:"χ",PSI:"ψ",ALPHA:"α",ESZETT:"ß",PI:"π",SIGMA_UPPER:"Σ",SIGMA_LOWER:"σ",MU:"µ",TAU:"τ",THETA:"Θ",OMEGA:"Ω",DELTA:"δ",PHI_LOWER:"φ",EPSILON:"ε"},G={toArray:A,pad:T,truncate:O,multiply:I,format:i,style:u,escape:R,trim:a,trimLeft:f,trimRight:o,isEmpty:s};return E.define(e.isString,G).define(e.isArray,{style:u}).expose(G).expose({characters:d})}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=E(require("extended"),require("is-extended"),require("date-extended"),require("array-extended"))):"function"==typeof define&&define.amd?define(["extended","is-extended","date-extended","array-extended"],function(e,_,r,t){return E(e,_,r,t)}):this.stringExtended=E(this.extended,this.isExtended,this.dateExtended,this.arrayExtended)}).call(this);
},{"array-extended":6,"date-extended":52,"extended":55,"is-extended":81}],140:[function(require,module,exports){
!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return g({type:O.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),v=e("#"+t.containerId),v.length?v:(n&&(v=u(t)),v)}function i(e,t,n){return g({type:O.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){w=e}function s(e,t,n){return g({type:O.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return g({type:O.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function r(e,t){var i=m();v||n(i),d(e,i,t)||l(i)}function c(t){var i=m();if(v||n(i),t&&0===e(":focus",t).length)return void h(t);v.children().length&&v.remove()}function l(t){for(var n=v.children(),i=n.length-1;i>=0;i--)d(e(n[i]),t)}function d(t,n,i){var o=!(!i||!i.force)&&i.force;return!(!t||!o&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){h(t)}}),!0)}function u(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(e){w&&w(e)}function g(t){function i(e){return null==e&&(e=""),new String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(){t.iconClass&&D.addClass(w.toastClass).addClass(O)}function s(){w.newestOnTop?v.prepend(D):v.append(D)}function a(){t.title&&(x.append(w.escapeHtml?i(t.title):t.title).addClass(w.titleClass),D.append(x))}function r(){t.message&&(E.append(w.escapeHtml?i(t.message):t.message).addClass(w.messageClass),D.append(E))}function c(){w.closeButton&&(y.addClass("toast-close-button").attr("role","button"),D.prepend(y))}function l(){w.progressBar&&(H.addClass("toast-progress"),D.prepend(H))}function d(t){var n=t&&!1!==w.closeMethod?w.closeMethod:w.hideMethod,i=t&&!1!==w.closeDuration?w.closeDuration:w.hideDuration,o=t&&!1!==w.closeEasing?w.closeEasing:w.hideEasing;if(!e(":focus",D).length||t)return clearTimeout(I.intervalId),D[n]({duration:i,easing:o,complete:function(){h(D),w.onHidden&&"hidden"!==M.state&&w.onHidden(),M.state="hidden",M.endTime=new Date,f(M)}})}function u(){(w.timeOut>0||w.extendedTimeOut>0)&&(b=setTimeout(d,w.extendedTimeOut),I.maxHideTime=parseFloat(w.extendedTimeOut),I.hideEta=(new Date).getTime()+I.maxHideTime)}function p(){clearTimeout(b),I.hideEta=0,D.stop(!0,!0)[w.showMethod]({duration:w.showDuration,easing:w.showEasing})}function g(){var e=(I.hideEta-(new Date).getTime())/I.maxHideTime*100;H.width(e+"%")}var w=m(),O=t.iconClass||w.iconClass;if(void 0!==t.optionsOverride&&(w=e.extend(w,t.optionsOverride),O=t.optionsOverride.iconClass||O),!function(e,t){if(e.preventDuplicates){if(t.message===C)return!0;C=t.message}return!1}(w,t)){T++,v=n(w,!0);var b=null,D=e("<div/>"),x=e("<div/>"),E=e("<div/>"),H=e("<div/>"),y=e(w.closeHtml),I={intervalId:null,hideEta:null,maxHideTime:null},M={toastId:T,state:"visible",startTime:new Date,options:w,map:t};return function(){o(),a(),r(),c(),l(),s()}(),function(){D.hide(),D[w.showMethod]({duration:w.showDuration,easing:w.showEasing,complete:w.onShown}),w.timeOut>0&&(b=setTimeout(d,w.timeOut),I.maxHideTime=parseFloat(w.timeOut),I.hideEta=(new Date).getTime()+I.maxHideTime,w.progressBar&&(I.intervalId=setInterval(g,10)))}(),function(){D.hover(p,u),!w.onclick&&w.tapToDismiss&&D.click(d),w.closeButton&&y&&y.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),d(!0)}),w.onclick&&D.click(function(e){w.onclick(e),d()})}(),f(M),w.debug&&console&&console.log(M),D}}function m(){return e.extend({},p(),b.options)}function h(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),C=void 0))}var v,w,C,T=0,O={error:"error",info:"info",success:"success",warning:"warning"},b={clear:r,remove:c,error:t,getContainer:n,info:i,options:{},subscribe:o,success:s,version:"2.1.2",warning:a};return b}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});
},{"jquery":85}],141:[function(require,module,exports){
(function (global){
!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},r=n._,t=Array.prototype,e=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,i=t.push,o=t.slice,a=e.toString,c=e.hasOwnProperty,l=Array.isArray,f=Object.keys,s=Object.create,p=function(){},v=function(n){return n instanceof v?n:this instanceof v?void(this._wrapped=n):new v(n)};"undefined"==typeof exports||exports.nodeType?n._=v:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=v),exports._=v),v.VERSION="1.9.1";var h,y=function(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,i){return n.call(r,t,e,u,i)}}return function(){return n.apply(r,arguments)}},d=function(n,r,t){return v.iteratee!==h?v.iteratee(n,r):null==n?v.identity:v.isFunction(n)?y(n,r,t):v.isObject(n)&&!v.isArray(n)?v.matcher(n):v.property(n)};v.iteratee=h=function(n,r){return d(n,r,1/0)};var g=function(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),u=0;u<t;u++)e[u]=arguments[u+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var i=Array(r+1);for(u=0;u<r;u++)i[u]=arguments[u];return i[r]=e,n.apply(this,i)}},m=function(n){if(!v.isObject(n))return{};if(s)return s(n);p.prototype=n;var r=new p;return p.prototype=null,r},b=function(n){return function(r){return null==r?void 0:r[n]}},j=function(n,r){return null!=n&&c.call(n,r)},x=function(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0},_=Math.pow(2,53)-1,A=b("length"),w=function(n){var r=A(n);return"number"==typeof r&&r>=0&&r<=_};v.each=v.forEach=function(n,r,t){r=y(r,t);var e,u;if(w(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var i=v.keys(n);for(e=0,u=i.length;e<u;e++)r(n[i[e]],i[e],n)}return n},v.map=v.collect=function(n,r,t){r=d(r,t);for(var e=!w(n)&&v.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=r(n[a],a,n)}return i};var O=function(n){var r=function(r,t,e,u){var i=!w(r)&&v.keys(r),o=(i||r).length,a=n>0?0:o-1;for(u||(e=r[i?i[a]:a],a+=n);a>=0&&a<o;a+=n){var c=i?i[a]:a;e=t(e,r[c],c,r)}return e};return function(n,t,e,u){var i=arguments.length>=3;return r(n,y(t,u,4),e,i)}};v.reduce=v.foldl=v.inject=O(1),v.reduceRight=v.foldr=O(-1),v.find=v.detect=function(n,r,t){var e=w(n)?v.findIndex:v.findKey,u=e(n,r,t);if(void 0!==u&&-1!==u)return n[u]},v.filter=v.select=function(n,r,t){var e=[];return r=d(r,t),v.each(n,function(n,t,u){r(n,t,u)&&e.push(n)}),e},v.reject=function(n,r,t){return v.filter(n,v.negate(d(r)),t)},v.every=v.all=function(n,r,t){r=d(r,t);for(var e=!w(n)&&v.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!r(n[o],o,n))return!1}return!0},v.some=v.any=function(n,r,t){r=d(r,t);for(var e=!w(n)&&v.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(r(n[o],o,n))return!0}return!1},v.contains=v.includes=v.include=function(n,r,t,e){return w(n)||(n=v.values(n)),("number"!=typeof t||e)&&(t=0),v.indexOf(n,r,t)>=0},v.invoke=g(function(n,r,t){var e,u;return v.isFunction(r)?u=r:v.isArray(r)&&(e=r.slice(0,-1),r=r[r.length-1]),v.map(n,function(n){var i=u;if(!i){if(e&&e.length&&(n=x(n,e)),null==n)return;i=n[r]}return null==i?i:i.apply(n,t)})}),v.pluck=function(n,r){return v.map(n,v.property(r))},v.where=function(n,r){return v.filter(n,v.matcher(r))},v.findWhere=function(n,r){return v.find(n,v.matcher(r))},v.max=function(n,r,t){var e,u,i=-1/0,o=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n){n=w(n)?n:v.values(n);for(var a=0,c=n.length;a<c;a++)null!=(e=n[a])&&e>i&&(i=e)}else r=d(r,t),v.each(n,function(n,t,e){((u=r(n,t,e))>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},v.min=function(n,r,t){var e,u,i=1/0,o=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n){n=w(n)?n:v.values(n);for(var a=0,c=n.length;a<c;a++)null!=(e=n[a])&&e<i&&(i=e)}else r=d(r,t),v.each(n,function(n,t,e){((u=r(n,t,e))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},v.shuffle=function(n){return v.sample(n,1/0)},v.sample=function(n,r,t){if(null==r||t)return w(n)||(n=v.values(n)),n[v.random(n.length-1)];var e=w(n)?v.clone(n):v.values(n),u=A(e);r=Math.max(Math.min(r,u),0);for(var i=u-1,o=0;o<r;o++){var a=v.random(o,i),c=e[o];e[o]=e[a],e[a]=c}return e.slice(0,r)},v.sortBy=function(n,r,t){var e=0;return r=d(r,t),v.pluck(v.map(n,function(n,t,u){return{value:n,index:e++,criteria:r(n,t,u)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index}),"value")};var k=function(n,r){return function(t,e,u){var i=r?[[],[]]:{};return e=d(e,u),v.each(t,function(r,u){var o=e(r,u,t);n(i,r,o)}),i}};v.groupBy=k(function(n,r,t){j(n,t)?n[t].push(r):n[t]=[r]}),v.indexBy=k(function(n,r,t){n[t]=r}),v.countBy=k(function(n,r,t){j(n,t)?n[t]++:n[t]=1});var S=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(n){return n?v.isArray(n)?o.call(n):v.isString(n)?n.match(S):w(n)?v.map(n,v.identity):v.values(n):[]},v.size=function(n){return null==n?0:w(n)?n.length:v.keys(n).length},v.partition=k(function(n,r,t){n[t?0:1].push(r)},!0),v.first=v.head=v.take=function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[0]:v.initial(n,n.length-r)},v.initial=function(n,r,t){return o.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))},v.last=function(n,r,t){return null==n||n.length<1?null==r?void 0:[]:null==r||t?n[n.length-1]:v.rest(n,Math.max(0,n.length-r))},v.rest=v.tail=v.drop=function(n,r,t){return o.call(n,null==r||t?1:r)},v.compact=function(n){return v.filter(n,Boolean)};var M=function(n,r,t,e){e=e||[];for(var u=e.length,i=0,o=A(n);i<o;i++){var a=n[i];if(w(a)&&(v.isArray(a)||v.isArguments(a)))if(r)for(var c=0,l=a.length;c<l;)e[u++]=a[c++];else M(a,r,t,e),u=e.length;else t||(e[u++]=a)}return e};v.flatten=function(n,r){return M(n,r,!1)},v.without=g(function(n,r){return v.difference(n,r)}),v.uniq=v.unique=function(n,r,t,e){v.isBoolean(r)||(e=t,t=r,r=!1),null!=t&&(t=d(t,e));for(var u=[],i=[],o=0,a=A(n);o<a;o++){var c=n[o],l=t?t(c,o,n):c;r&&!t?(o&&i===l||u.push(c),i=l):t?v.contains(i,l)||(i.push(l),u.push(c)):v.contains(u,c)||u.push(c)}return u},v.union=g(function(n){return v.uniq(M(n,!0,!0))}),v.intersection=function(n){for(var r=[],t=arguments.length,e=0,u=A(n);e<u;e++){var i=n[e];if(!v.contains(r,i)){var o;for(o=1;o<t&&v.contains(arguments[o],i);o++);o===t&&r.push(i)}}return r},v.difference=g(function(n,r){return r=M(r,!0,!0),v.filter(n,function(n){return!v.contains(r,n)})}),v.unzip=function(n){for(var r=n&&v.max(n,A).length||0,t=Array(r),e=0;e<r;e++)t[e]=v.pluck(n,e);return t},v.zip=g(v.unzip),v.object=function(n,r){for(var t={},e=0,u=A(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t};var F=function(n){return function(r,t,e){t=d(t,e);for(var u=A(r),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(t(r[i],i,r))return i;return-1}};v.findIndex=F(1),v.findLastIndex=F(-1),v.sortedIndex=function(n,r,t,e){t=d(t,e,1);for(var u=t(r),i=0,o=A(n);i<o;){var a=Math.floor((i+o)/2);t(n[a])<u?i=a+1:o=a}return i};var E=function(n,r,t){return function(e,u,i){var a=0,c=A(e);if("number"==typeof i)n>0?a=i>=0?i:Math.max(i+c,a):c=i>=0?Math.min(i+1,c):i+c+1;else if(t&&i&&c)return i=t(e,u),e[i]===u?i:-1;if(u!==u)return i=r(o.call(e,a,c),v.isNaN),i>=0?i+a:-1;for(i=n>0?a:c-1;i>=0&&i<c;i+=n)if(e[i]===u)return i;return-1}};v.indexOf=E(1,v.findIndex,v.sortedIndex),v.lastIndexOf=E(-1,v.findLastIndex),v.range=function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),i=0;i<e;i++,n+=t)u[i]=n;return u},v.chunk=function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(o.call(n,e,e+=r));return t};var N=function(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var i=m(n.prototype),o=n.apply(i,u);return v.isObject(o)?o:i};v.bind=g(function(n,r,t){if(!v.isFunction(n))throw new TypeError("Bind must be called on a function");var e=g(function(u){return N(n,e,r,this,t.concat(u))});return e}),v.partial=g(function(n,r){var t=v.partial.placeholder,e=function(){for(var u=0,i=r.length,o=Array(i),a=0;a<i;a++)o[a]=r[a]===t?arguments[u++]:r[a];for(;u<arguments.length;)o.push(arguments[u++]);return N(n,e,this,this,o)};return e}),v.partial.placeholder=v,v.bindAll=g(function(n,r){r=M(r,!1,!1);var t=r.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var e=r[t];n[e]=v.bind(n[e],n)}}),v.memoize=function(n,r){var t=function(e){var u=t.cache,i=""+(r?r.apply(this,arguments):e);return j(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return t.cache={},t},v.delay=g(function(n,r,t){return setTimeout(function(){return n.apply(null,t)},r)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(n,r,t){var e,u,i,o,a=0;t||(t={});var c=function(){a=!1===t.leading?0:v.now(),e=null,o=n.apply(u,i),e||(u=i=null)},l=function(){var l=v.now();a||!1!==t.leading||(a=l);var f=r-(l-a);return u=this,i=arguments,f<=0||f>r?(e&&(clearTimeout(e),e=null),a=l,o=n.apply(u,i),e||(u=i=null)):e||!1===t.trailing||(e=setTimeout(c,f)),o};return l.cancel=function(){clearTimeout(e),a=0,e=u=i=null},l},v.debounce=function(n,r,t){var e,u,i=function(r,t){e=null,t&&(u=n.apply(r,t))},o=g(function(o){if(e&&clearTimeout(e),t){var a=!e;e=setTimeout(i,r),a&&(u=n.apply(this,o))}else e=v.delay(i,r,this,o);return u});return o.cancel=function(){clearTimeout(e),e=null},o},v.wrap=function(n,r){return v.partial(r,n)},v.negate=function(n){return function(){return!n.apply(this,arguments)}},v.compose=function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},v.after=function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},v.before=function(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}},v.once=v.partial(v.before,2),v.restArguments=g;var I=!{toString:null}.propertyIsEnumerable("toString"),T=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(n,r){var t=T.length,u=n.constructor,i=v.isFunction(u)&&u.prototype||e,o="constructor";for(j(n,o)&&!v.contains(r,o)&&r.push(o);t--;)(o=T[t])in n&&n[o]!==i[o]&&!v.contains(r,o)&&r.push(o)};v.keys=function(n){if(!v.isObject(n))return[];if(f)return f(n);var r=[];for(var t in n)j(n,t)&&r.push(t);return I&&B(n,r),r},v.allKeys=function(n){if(!v.isObject(n))return[];var r=[];for(var t in n)r.push(t);return I&&B(n,r),r},v.values=function(n){for(var r=v.keys(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e},v.mapObject=function(n,r,t){r=d(r,t);for(var e=v.keys(n),u=e.length,i={},o=0;o<u;o++){var a=e[o];i[a]=r(n[a],a,n)}return i},v.pairs=function(n){for(var r=v.keys(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},v.invert=function(n){for(var r={},t=v.keys(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r},v.functions=v.methods=function(n){var r=[];for(var t in n)v.isFunction(n[t])&&r.push(t);return r.sort()};var R=function(n,r){return function(t){var e=arguments.length;if(r&&(t=Object(t)),e<2||null==t)return t;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var l=o[c];r&&void 0!==t[l]||(t[l]=i[l])}return t}};v.extend=R(v.allKeys),v.extendOwn=v.assign=R(v.keys),v.findKey=function(n,r,t){r=d(r,t);for(var e,u=v.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],r(n[e],e,n))return e};var q=function(n,r,t){return r in t};v.pick=g(function(n,r){var t={},e=r[0];if(null==n)return t;v.isFunction(e)?(r.length>1&&(e=y(e,r[1])),r=v.allKeys(n)):(e=q,r=M(r,!1,!1),n=Object(n));for(var u=0,i=r.length;u<i;u++){var o=r[u],a=n[o];e(a,o,n)&&(t[o]=a)}return t}),v.omit=g(function(n,r){var t,e=r[0];return v.isFunction(e)?(e=v.negate(e),r.length>1&&(t=r[1])):(r=v.map(M(r,!1,!1),String),e=function(n,t){return!v.contains(r,t)}),v.pick(n,e,t)}),v.defaults=R(v.allKeys,!0),v.create=function(n,r){var t=m(n);return r&&v.extendOwn(t,r),t},v.clone=function(n){return v.isObject(n)?v.isArray(n)?n.slice():v.extend({},n):n},v.tap=function(n,r){return r(n),n},v.isMatch=function(n,r){var t=v.keys(r),e=t.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=t[i];if(r[o]!==u[o]||!(o in u))return!1}return!0};var K,z;K=function(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!==n)return r!==r;var u=typeof n;return("function"===u||"object"===u||"object"==typeof r)&&z(n,r,t,e)},z=function(n,r,t,e){n instanceof v&&(n=n._wrapped),r instanceof v&&(r=r._wrapped);var i=a.call(n);if(i!==a.call(r))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case"[object Date]":case"[object Boolean]":return+n==+r;case"[object Symbol]":return u.valueOf.call(n)===u.valueOf.call(r)}var o="[object Array]"===i;if(!o){if("object"!=typeof n||"object"!=typeof r)return!1;var c=n.constructor,l=r.constructor;if(c!==l&&!(v.isFunction(c)&&c instanceof c&&v.isFunction(l)&&l instanceof l)&&"constructor"in n&&"constructor"in r)return!1}t=t||[],e=e||[];for(var f=t.length;f--;)if(t[f]===n)return e[f]===r;if(t.push(n),e.push(r),o){if((f=n.length)!==r.length)return!1;for(;f--;)if(!K(n[f],r[f],t,e))return!1}else{var s,p=v.keys(n);if(f=p.length,v.keys(r).length!==f)return!1;for(;f--;)if(s=p[f],!j(r,s)||!K(n[s],r[s],t,e))return!1}return t.pop(),e.pop(),!0},v.isEqual=function(n,r){return K(n,r)},v.isEmpty=function(n){return null==n||(w(n)&&(v.isArray(n)||v.isString(n)||v.isArguments(n))?0===n.length:0===v.keys(n).length)},v.isElement=function(n){return!(!n||1!==n.nodeType)},v.isArray=l||function(n){return"[object Array]"===a.call(n)},v.isObject=function(n){var r=typeof n;return"function"===r||"object"===r&&!!n},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(n){v["is"+n]=function(r){return a.call(r)==="[object "+n+"]"}}),v.isArguments(arguments)||(v.isArguments=function(n){return j(n,"callee")});var D=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof D&&(v.isFunction=function(n){return"function"==typeof n||!1}),v.isFinite=function(n){return!v.isSymbol(n)&&isFinite(n)&&!isNaN(parseFloat(n))},v.isNaN=function(n){return v.isNumber(n)&&isNaN(n)},v.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===a.call(n)},v.isNull=function(n){return null===n},v.isUndefined=function(n){return void 0===n},v.has=function(n,r){if(!v.isArray(r))return j(n,r);for(var t=r.length,e=0;e<t;e++){var u=r[e];if(null==n||!c.call(n,u))return!1;n=n[u]}return!!t},v.noConflict=function(){return n._=r,this},v.identity=function(n){return n},v.constant=function(n){return function(){return n}},v.noop=function(){},v.property=function(n){return v.isArray(n)?function(r){return x(r,n)}:b(n)},v.propertyOf=function(n){return null==n?function(){}:function(r){return v.isArray(r)?x(n,r):n[r]}},v.matcher=v.matches=function(n){return n=v.extendOwn({},n),function(r){return v.isMatch(r,n)}},v.times=function(n,r,t){var e=Array(Math.max(0,n));r=y(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},v.random=function(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))},v.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=v.invert(L),W=function(n){var r=function(r){return n[r]},t="(?:"+v.keys(n).join("|")+")",e=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,r):n}};v.escape=W(L),v.unescape=W(P),v.result=function(n,r,t){v.isArray(r)||(r=[r]);var e=r.length;if(!e)return v.isFunction(t)?t.call(n):t;for(var u=0;u<e;u++){var i=null==n?void 0:n[r[u]];void 0===i&&(i=t,u=e),n=v.isFunction(i)?i.call(n):i}return n};var C=0;v.uniqueId=function(n){var r=++C+"";return n?n+r:r},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,$=function(n){return"\\"+U[n]};v.template=function(n,r,t){!r&&t&&(r=t),r=v.defaults({},r,v.templateSettings);var e=RegExp([(r.escape||J).source,(r.interpolate||J).source,(r.evaluate||J).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(r,t,e,o,a){return i+=n.slice(u,a).replace(V,$),u=a+r.length,t?i+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),r}),i+="';\n",r.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";var o;try{o=new Function(r.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return o.call(this,n,v)};return a.source="function("+(r.variable||"obj")+"){\n"+i+"}",a},v.chain=function(n){var r=v(n);return r._chain=!0,r};var G=function(n,r){return n._chain?v(r).chain():r};v.mixin=function(n){return v.each(v.functions(n),function(r){var t=v[r]=n[r];v.prototype[r]=function(){var n=[this._wrapped];return i.apply(n,arguments),G(this,t.apply(v,n))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var r=t[n];v.prototype[n]=function(){var t=this._wrapped;return r.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0],G(this,t)}}),v.each(["concat","join","slice"],function(n){var r=t[n];v.prototype[n]=function(){return G(this,r.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}();
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],142:[function(require,module,exports){
"use strict";var commonConfig=function(){this.config={controllerActivateSuccessEvent:"ControllerActivateSuccess",demoModelLocation:{organisation:"mike-goodwin",repo:"owasp-threat-dragon-demo",branch:"master",model:"Demo Threat Model"}},this.$get=function(){return{config:this.config}}},common=function(o,n,t,e){function c(n,e){return o.all(n).then(function(o){var n={controllerId:e};r(t.config.controllerActivateSuccessEvent,n)})}function r(){return n.$broadcast.apply(n,arguments)}return{$broadcast:r,activateController:c,logger:e}};module.exports={commonModule:common,commonConfig:commonConfig};
},{}],143:[function(require,module,exports){
"use strict";var commonModule=angular.module("common",[]);commonModule.provider("commonConfig",[require("./common").commonConfig]),commonModule.factory("common",["$q","$rootScope","commonConfig","logger",require("./common").commonModule]),commonModule.factory("logger",["$log",require("./logger")]);
},{"./common":142,"./logger":144}],144:[function(require,module,exports){
"use strict";function logger(r){function o(r,o){switch(o=o||"log",o.toLowerCase()){case"success":o="logSuccess";break;case"error":o="logError";break;case"warn":case"warning":o="logWarning"}var n=a[o]||a.log;return function(o,s,e){n(o,s,r,void 0===e||e)}}function n(r,o,n,s){c(r,o,n,s,"info")}function s(r,o,n,s){c(r,o,n,s,"warning")}function e(r,o,n,s){c(r,o,n,s,"success")}function t(r,o,n,s){c(r,o,n,s,"error")}function c(o,n,s,e,t){var c="error"===t?r.error:r.log;s=s?"["+s+"] ":"",c(s,o,n),e&&("error"===t?toastr.error(o):"warning"===t?toastr.warning(o):"success"===t?toastr.success(o):toastr.info(o))}var a={getLogFn:o,log:n,logError:t,logSuccess:e,logWarning:s};return a}var toastr=require("toastr");module.exports=logger;
},{"toastr":140}],145:[function(require,module,exports){
"use strict";var core=angular.module("owasp-threat-dragon-core"),toastr=require("toastr");toastr.options.timeOut=4e3,toastr.options.positionClass="toast-bottom-right";var events={controllerActivateSuccess:"controller.activateSuccess"},config={appErrorPrefix:"[Error] ",docTitle:"Threat Dragon: ",events:events,version:"0.4.0"};core.value("config",config),core.config(["$logProvider",function(o){o.debugEnabled&&o.debugEnabled(!0)}]),core.config(["commonConfigProvider",function(o){o.config.controllerActivateSuccessEvent=config.events.controllerActivateSuccess}]);
},{"toastr":140}],146:[function(require,module,exports){
"use strict";function diagram(e,t,n,r,a,i,o,c,u,l){function d(e){var t={diagramJson:{cells:J.graph.getCells()}};if(!_.isUndefined(J.currentDiagram.options)&&!_.isUndefined(J.currentDiagram.options.height)&&!_.isUndefined(J.currentDiagram.options.width)){var n={height:J.currentDiagram.options.height,width:J.currentDiagram.options.width};t.size=n}o.saveThreatModelDiagram(J.diagramId,t).then(function(){s(),e()})}function s(){J.dirty=!1,M()}function h(e,t){function a(e){if(_.isUndefined(e.diagramJson)||(J.graph.initialise(e.diagramJson),J.graph.getCells().forEach(O)),_.isUndefined(e.size)||J.currentDiagram.resize(e.size),J.graph.on("remove",F),M(),J.diagram=e,J.dirty=!1,n.element){var t=J.graph.getCellById(n.element);L(t),J.currentDiagram.setSelected(t),r(function(){J.viewStencil=!1,J.viewThreats=!0})}J.loaded=!0}J.currentDiagram=e;var i=l.getModelLocation(n);o.load(i,t).then(function(e){a(e.detail.diagrams[J.diagramId])},v)}function g(){J.dirty&&J.graph.cellCount()>0?a.confirm("diagrams/confirmReloadOnDirty.html",function(){J.initialise(J.currentDiagram,!0)}):J.initialise(J.currentDiagram,!0)}function f(){J.graph.clearAll()}function m(){J.currentZoomLevel<J.maxZoom&&(J.currentZoomLevel++,J.currentDiagram.zoom(J.currentZoomLevel))}function p(){J.currentZoomLevel>-J.maxZoom&&(J.currentZoomLevel--,J.currentDiagram.zoom(J.currentZoomLevel))}function v(e){J.errored=!0,q(e)}function w(){J.dirty=!0}function y(){return l.getModelPathFromRouteParams(n)}function D(){var e=J.graph.getCells().filter(function(e){return!R(e)&&!e.outOfScope&&(null==e.threats||0===e.threats.length)});0===e.length?A():a.confirm("report/confirmThreatAutoGeneration.html",function(){T(e,function(){d(A)})},function(){return null},function(){A()})}function T(e,t){var n=e;if(n.length>0){var r=n.shift();E(r).then(function(e){e.forEach(function(e){Z(e,r)}),T(n,t)})}else t()}function S(){J.selected&&E(J.selected).then(C)}function E(e){return c.generateForElement(e)}function C(e){function t(){c.length>0&&(i=c.shift(),a.confirm("diagrams/ThreatEditPane.html",function(e){e?c.forEach(function(e){Z(e,J.selected)}):(Z(i,J.selected),r(t,500))},function(){return{heading:"Add this threat?",threat:i,editing:!1,threatIndex:o-c.length,threatTotal:o}},n,"fade-right"))}function n(e){e||r(t,500)}var i,o=e.length,c=e;t()}function Z(e,t){J.dirty=!0,_.isUndefined(t.threats)&&(J.selected.threats=[]),t.threats.push(e)}function A(){t.path("/threatmodel/"+y()+"/diagram/"+J.diagramId+"/threatReport")}function I(){var e=null,t=n.element;t&&(e=J.graph.getCellById(t)),J.selected=e,"function"!=typeof J.currentDiagram.setSelected&&"object"!=typeof J.currentDiagram.setSelected||J.currentDiagram.setSelected(e)}function L(e){J.selected=e}function z(e){var n=null;e&&(n=e.id),t.search("element",n),N.$apply()}function F(e,n,r){J.dirty=!0,J.selected=null,U(e),t.search("element",null),r.clear||N.$apply()}function P(){return O(J.graph.addProcess())}function b(){return O(J.graph.addStore())}function B(){return O(J.graph.addActor())}function $(e,t){return O(J.graph.addFlow(e,t))}function x(){return J.graph.addBoundary()}function M(){function e(){J.dirty=!0,J.graph.off("change add",e)}J.graph.on("change add",e)}function O(e){return k[e.id]=N.$watch('{ element: "'+e.id+'", threats: vm.graph.getCell("'+e.id+'").threats}',function(e){var t=J.graph.getCell(e.element);e.threats?t.hasOpenThreats=e.threats.some(function(e){return"Open"===e.status}):t.hasOpenThreats=!1},!0),e}function U(e){k[e.id]&&(k[e.id](),k.splice(e.id,1))}function R(e){return"tm.Boundary"===e.attributes.type}var J=this,G="diagram",V=i.logger.getLogFn,j=V(G),q=V(G,"error"),N=e,k=[];J.errored=!1,J.title="ThreatModelDiagram",J.initialise=h,J.dirty=!1,J.graph=u.newGraph(),J.newProcess=P,J.newStore=b,J.newFlow=$,J.newActor=B,J.newBoundary=x,J.getThreatModelPath=y,J.select=z,J.edit=w,J.generateThreats=S,J.generateThreatsForEmptyNodesAndViewReport=D,J.selected=null,J.viewStencil=!0,J.viewThreats=!1,J.stencils=function(){return[{shape:{getElement:function(){return new u.Process},label:"Process"},action:P},{shape:{getElement:function(){return new u.Store},label:"Store"},action:b},{shape:{getElement:function(){return new u.Actor},label:"Actor"},action:B},{shape:{getElement:function(){return new u.Flow},label:"Data Flow"},action:$},{shape:{getElement:function(){return new u.Boundary},label:"Trust\nBoundary"},action:x}]}(),J.zoomIn=m,J.zoomOut=p,J.reload=g,J.save=d,J.clear=f,J.currentDiagram={},J.diagramId=n.diagramId,J.currentZoomLevel=0,J.maxZoom=4,e.$on("$locationChangeStart",function(e,t,n){var r=t.split("?")[0],i=n.split("?")[0];J.dirty&&r!=i&&a.structuredExit(e,function(){},function(){J.dirty=!1})}),e.$on("$locationChangeSuccess",function(e,t,n){I()}),function(){i.activateController([],G).then(function(){j("Activated Threat Model Diagram View")})}()}var _=require("lodash");module.exports=diagram;
},{"lodash":87}],147:[function(require,module,exports){
"use strict";var $=require("jquery"),stencil=function(e){function t(t,r){angular.isUndefined(t.scale)&&(t.scale=1),angular.isUndefined(t.padding)&&(t.padding=0);var o,a=e.newGraph(),l=t.shape.getElement();o=l.isLink()?i(l,t.shape.label,r,t.scale,t.padding,a):n(l,t.shape.label,r,t.scale,t.padding,a),o.on("cell:pointerclick",t.action);var s="Add a new "+t.shape.label+" to the model";l.attr({".tooltip":{text:s}}),a.addCell(l)}function i(t,i,n,r,o,a){var l=$(n).parent("div").width();return t.attributes.source={x:(1-r)*l+o,y:o},t.attributes.target={x:r*l-o,y:.5*r*l-o},t.setLabel(i),e.newDiagram(.5*l+2*o,l,1,a,n[0],!1)}function n(t,i,n,r,o,a){var l=$(n).parent("div").width();t.resize(t.get("size").width*r,t.get("size").height*r);var s=t.get("size").height;return t.translate(.5*(l-t.get("size").width),o),t.attr("text/text",i),e.newDiagram(s+2*o,l,1,a,n[0],!1)}return{link:t,restrict:"E",scope:{shape:"=",action:"&",padding:"=?",scale:"=?"}}},diagram=function(e,t){function i(e,i){$(i).parent().height(e.height);var a=t.newDiagram(e.height-10,e.width-10,e.gridSize,e.graph,i[0],e.interactive);s=e.select,e.graph.on("add",function(e){e.translate($(i).parent().scrollLeft(),$(i).parent().scrollTop())}),a.on("cell:pointerclick",function(t){t.model.isLink()||("linkFrom"===t._action?n(t):"removeLinkFrom"===t._action?r(t):(l&&!l.model.isLink()&&l.linkFrom&&(e.newFlow({source:l.model,target:t.model}),r(l)),o(t)))}),a.on("blank:pointerclick",function(){l&&!l.model.isLink()&&r(l),o(null)}),a.on("link:options",function(e,t){l&&!l.model.isLink()&&r(l),o(e)}),a.on("cell:pointermove",function(t,n,r,o){var l=t.getBBox(),s=!1,d=r,h=o;l.x<=0&&(d=r+e.gridSize,s=!0),l.x+l.width>=a.options.width&&(a.setDimensions(l.x+l.width,a.options.height),$(i).parent().scrollLeft(a.options.width-e.width)),l.x<=$(i).parent().scrollLeft()&&$(i).parent().scrollLeft(l.x),l.x+l.width-$(i).parent().scrollLeft()>=$(i).parent().width()&&l.x+l.width<a.options.width&&$(i).parent().scrollLeft(l.x+l.width-$(i).parent().width()),l.y<=0&&(h=o+e.gridSize,s=!0),l.y+l.height>=a.options.height&&(a.setDimensions(a.options.width,l.y+l.height),$(i).parent().scrollTop(a.options.height-e.height)),l.y<=$(i).parent().scrollTop()&&$(i).parent().scrollTop(l.y),l.y+l.height-$(i).parent().scrollTop()>=$(i).parent().height()&&l.y+l.height<a.options.height&&$(i).parent().scrollTop(l.y+l.height-$(i).parent().height()),s&&t.pointermove(n,d,h)}),a.setSelected=function(e){if(l&&l.setUnselected(),e){var t=a.findViewByModel(e);t&&(t.setSelected(),l=t)}else l=null},e.initialiseGraph({diagram:a})}function n(e){e.addLinkFrom(),h("Select another model element to add a data flow")}function r(e){e.removeLinkFrom()}function o(e){var t=null;e&&(t=e.model),s({element:t})}var a={link:i,restrict:"E",scope:{height:"=",width:"=",gridSize:"=",graph:"=",select:"&",newFlow:"&",initialiseGraph:"&",interactive:"="}},l=null,s=null,d=e.logger.getLogFn,h=d();return a};module.exports={stencil:stencil,diagram:diagram};
},{"jquery":85}],148:[function(require,module,exports){
"use strict";function modalClose(){function e(e,t,r){e.onAction=function(){var t=$("[role='dialog']"),r=t.attr("window-class");t.removeClass(r),t.addClass(e.newClass),e.action()}}return{link:e,templateUrl:function(e,t){return t.templateUrl},restrict:"E",scope:{action:"&",newClass:"@"}}}function elementProperties(e){function t(e,t,r){}return{link:t,templateUrl:"diagrams/ElementPropertiesPane.html",restrict:"E",scope:{selected:"=",elementType:"@",edit:"&"}}}function elementThreats(e,t,r,a){function n(r,n,l){r.applyToAll=!1,r.onNewThreat=function(){a.confirm("diagrams/ThreatEditPane.html",r.addThreat,function(){return{heading:"New Threat",threat:o,editing:!0}},i)},r.onEditThreat=function(e){h=e,c=angular.copy(r.threats[e]),t.search("threat",c.id),a.confirm("diagrams/ThreatEditPane.html",r.editThreat,function(){return{heading:"Edit Threat",threat:r.threats[e],editing:!0}},r.cancelEdit)},r.removeThreat=function(e){r.threats.splice(e,1),r.save()},r.addThreat=function(){r.threats||(r.threats=[]),r.threats.push(o),r.save({threat:o}),i()},r.editThreat=function(){r.save(),i()},r.cancelEdit=function(){r.threats[h]=c,i()};var s=e.threat;if(angular.isDefined(s)){var u=-1;r.threats.forEach(function(e,t){e.id==s&&(u=t)}),u>=0?r.onEditThreat(u):(d("Invalid threat ID"),t.search("threat",null))}}function i(){o=l(),h=null,t.search("threat",null)}function l(){return{status:"Open",severity:"Medium"}}var s={link:n,templateUrl:"diagrams/ThreatSummaryPane.html",restrict:"E",scope:{threats:"=",save:"&"}},o=l(),h=null,c={},u=r.logger.getLogFn,d=u("tmtElementThreats","error");return s}var $=require("jquery");module.exports={modalClose:modalClose,elementProperties:elementProperties,elementThreats:elementThreats};
},{"jquery":85}],149:[function(require,module,exports){
"use strict";var core=angular.module("owasp-threat-dragon-core"),diagramdirectives=require("./diagramdirectives"),elementPropertyDirectives=require("./elementpropdirectives"),diagram=require("./diagram");core.directive("tmtStencil",["diagramming",diagramdirectives.stencil]),core.directive("tmtDiagram",["common","diagramming",diagramdirectives.diagram]),core.directive("tmtModalClose",[elementPropertyDirectives.modalClose]),core.directive("tmtElementProperties",[elementPropertyDirectives.elementProperties]),core.directive("tmtElementThreats",["$routeParams","$location","common","dialogs",elementPropertyDirectives.elementThreats]),core.controller("diagram",["$scope","$location","$routeParams","$timeout","dialogs","common","datacontext","threatengine","diagramming","threatmodellocator",diagram]);
},{"./diagram":146,"./diagramdirectives":147,"./elementpropdirectives":148}],150:[function(require,module,exports){
"use strict";window.jQuery=require("jquery"),require("bootstrap"),require("angular-route"),require("angular-ui-bootstrap"),require("./templates"),require("./common"),angular.module("owasp-threat-dragon-core",["common","ui.bootstrap","ngRoute","templates"]),require("./services/joint.shapes.tm"),require("./config"),require("./services"),require("./diagrams"),require("./report"),require("./layout"),require("./threatmodels");
},{"./common":143,"./config":145,"./diagrams":149,"./layout":152,"./report":154,"./services":158,"./services/joint.shapes.tm":159,"./templates":162,"./threatmodels":163,"angular-route":2,"angular-ui-bootstrap":4,"bootstrap":8,"jquery":85}],151:[function(require,module,exports){
"use strict";var pager=function(){function e(e,t,r){}return{templateUrl:"layout/pager.html",link:e,restrict:"E",scope:{canPrevious:"=",canNext:"=",page:"=",items:"=",next:"&",previous:"&",select:"&"}}};module.exports=pager;
},{}],152:[function(require,module,exports){
var core=angular.module("owasp-threat-dragon-core"),directives=require("./directives");core.directive("tmtPager",[directives]);
},{"./directives":151}],153:[function(require,module,exports){
"use strict";function ThreatReport(t,e,a,n,r,i,o,d,c,l){function s(){function t(t){_.isUndefined(t.diagramJson)||E.graph.initialise(t.diagramJson),n(function(){document.getElementById("defaultTab").click()})}function e(t){B(t)}var r=l.getModelLocation(a);o.load(r,!1).then(function(e){t(e.detail.diagrams[E.diagramId])},e)}function u(){return E.graph.getCells().filter(function(t){return!y(t)&&!t.outOfScope})}function h(t,e){var a,n,r;for(n=document.getElementsByClassName("tabcontent"),a=0;a<n.length;a++)n[a].style.display="none";for(r=document.getElementsByClassName("tablinks"),a=0;a<r.length;a++)r[a].className=r[a].className.replace(" active","");document.getElementById(e).style.display="block",t.target.className+=" active"}function g(t){e.search("threat",t.id),r.confirm("diagrams/ThreatEditPane.html",p,function(){return{heading:"Edit Threat",threat:t,editing:!0}},T)}function m(t){var e={status:"Open",severity:"Medium"};r.confirm("diagrams/ThreatEditPane.html",function(){f(t,e)},function(){return{heading:"New Threat",threat:e,editing:!0}},T)}function f(t,e){t.threats||(t.threats=[]),t.threats.push(e),p()}function p(){var t={diagramJson:{cells:E.graph.getCells()}};o.saveThreatModelDiagram(E.diagramId,t).then(v())}function v(){b("Saved Changes")}function T(){b("Cancelled")}function y(t){return"tm.Boundary"===t.attributes.type}var E=this,N="ThreatReport",C=i.logger.getLogFn,b=C(N),B=C(N,"error");E.title="Threat Model Report",E.dirty=!1,E.graph=c.newGraph(),E.currentDiagram={},E.diagramId=a.diagramId,E.activateTab=h,E.editThreat=g,E.onAddNewThreat=m,E.getScopedNonFlowOrBoundaryElements=u,function(){i.activateController([],N).then(function(){b("Activated Threat Model Report View"),s()})}()}var _=require("lodash");module.exports=ThreatReport;
},{"lodash":87}],154:[function(require,module,exports){
"use strict";var core=angular.module("owasp-threat-dragon-core");core.controller("ThreatReport",["$scope","$location","$routeParams","$timeout","dialogs","common","datacontext","threatengine","diagramming","threatmodellocator",require("./ThreatReport")]);
},{"./ThreatReport":153}],155:[function(require,module,exports){
"use strict";function diagramming(){function t(){return new joint.dia.Graph}function e(t,e,i,o,r,n){var a=new joint.dia.Paper({width:e,height:t,gridSize:i,model:o,interactive:n});return r.appendChild(a.el),a}function i(t,e,i,o){return new t({position:{x:e,y:i},attrs:{text:{text:o}}})}function o(t,e,i){var o=e?{id:e.id}:{x:110,y:100},r=t?{id:t.id}:{x:30,y:20},n=new joint.shapes.tm.Flow({target:o,source:r,vertices:[]});return n.setLabel(i),n}function r(t,e,i){var o=new joint.shapes.tm.Boundary({target:e||{x:110,y:100},source:t||{x:30,y:20},vertices:[]});return i&&o.setLabel(i),o}return joint.dia.Graph.prototype.initialise=function(t){this.fromJSON(t)},joint.dia.Graph.prototype.addProcess=function(){var t=i(joint.shapes.tm.Process,50,50,"process "+this.attributes.cells.length);return this.addCell(t),t},joint.dia.Graph.prototype.addStore=function(){var t=i(joint.shapes.tm.Store,50,50,"store "+this.attributes.cells.length);return this.addCell(t),t},joint.dia.Graph.prototype.addActor=function(){var t=i(joint.shapes.tm.Actor,50,50,"actor "+this.attributes.cells.length);return this.addCell(t),t},joint.dia.Graph.prototype.addFlow=function(t,e){var i=o(t,e,"flow "+this.attributes.cells.length);return this.addCell(i),i},joint.dia.Graph.prototype.addBoundary=function(){var t=r();return this.addCell(t),t},joint.dia.Graph.prototype.clearAll=function(){this.clear(!0)},joint.dia.Graph.prototype.cellCount=function(){return this.attributes.cells.length},joint.dia.Graph.prototype.getCellById=function(t){return this.getCell(t)},joint.dia.Paper.prototype.resize=function(t){this.setDimensions(t.width,t.height)},joint.dia.Paper.prototype.scaleContent=function(){this.scaleContentToFit()},joint.dia.Paper.prototype.zoom=function(t){var e=Math.pow(1.25,t);this.scale(e,e)},{newGraph:t,newDiagram:e,Process:joint.shapes.tm.Process,Store:joint.shapes.tm.Store,Actor:joint.shapes.tm.Actor,Flow:joint.shapes.tm.Flow,Boundary:joint.shapes.tm.Boundary}}var joint=require("jointjs");module.exports=diagramming;
},{"jointjs":82}],156:[function(require,module,exports){
"use strict";function structuredExitController(o,n,r,t,l,e){function i(){l(t),n.dismiss()}function c(){e(t),n.close(),r.path(t)}o.onCancel=i,o.onOK=c}function confirmController(o,n,r,t,l){function e(o){_.isFunction(t)&&t(o),n.dismiss()}function i(o){_.isFunction(r)&&r(o),n.close()}o.applyToAll=!1,o.onCancel=e,o.onOK=i,l&&(o.parameter=l())}var _=require("lodash"),controllers={confirmController:confirmController,structuredExitController:structuredExitController};module.exports=controllers;
},{"lodash":87}],157:[function(require,module,exports){
"use strict";function dialogs(t,r){function e(e,n,o){var u=r.open({templateUrl:"layout/structuredExit.html",controller:"structuredExitController",keyboard:!1,backdrop:"static",resolve:{destination:function(){return t.path()},cancel:function(){return n},ok:function(){return o}}});return e.preventDefault(),u.result}function n(t,e,n,o,u){var c={templateUrl:t,controller:"confirmController",keyboard:!1,backdrop:"static",resolve:{ok:function(){return e},cancel:function(){return o},parameter:function(){return n}}};return u&&(c.windowClass=u),r.open(c).result}return{confirm:n,structuredExit:e}}module.exports=dialogs;
},{}],158:[function(require,module,exports){
var core=angular.module("owasp-threat-dragon-core");require("angular-ui-bootstrap"),core.factory("routemediator",["$rootScope","$location","config","logger",require("./routemediator")]),core.factory("threatengine",[require("./threatengine")]),core.controller("structuredExitController",["$scope","$uibModalInstance","$location","destination","cancel","ok",require("./dialogControllers").structuredExitController]),core.controller("confirmController",["$scope","$uibModalInstance","ok","cancel","parameter",require("./dialogControllers").confirmController]),core.factory("dialogs",["$location","$uibModal",require("./dialogs")]),core.factory("diagramming",[require("./diagramming")]);
},{"./diagramming":155,"./dialogControllers":156,"./dialogs":157,"./routemediator":160,"./threatengine":161,"angular-ui-bootstrap":4}],159:[function(require,module,exports){
"use strict";var joint=require("jointjs"),V=joint.V;joint.shapes.tm={},joint.shapes.tm.Highlighter={highlighter:{name:"addClass",options:{className:"highlighted"}}},joint.shapes.tm.utils={shapeFromClassName:function(t){for(var e=t.split("."),s=window||this,o=0,i=e.length;o<i;o++)s=s[e[o]];if("function"!=typeof(s=require("jointjs")[s]))throw new Error("function not found");return s},editNameElement:function(t,e){t.attr("text/text",this.wordWrap(t,e))},editNameLink:function(t,e){t.label(0,{attrs:{text:{text:this.wordWrap(t,e)}}})},wordWrap:function(t,e){var s=t.isLink()?{width:140,height:80}:t.get("size");return joint.util.breakText(e,s,{})},wordUnwrap:function(t){return t.replace("\n"," ")},defineProperties:function(t,e){e.forEach(function(e){Object.defineProperty(t,e,{get:function(){return this.prop(e)},set:function(t){this.prop(e,t)}})})},defineOutOfScope:function(t,e){Object.defineProperty(t,"outOfScope",{get:function(){return this.prop("outOfScope")},set:function(t){var s="."+e+"/class",o=this.attr(s)||e+" hasNoOpenThreats isInScope";t?this.attr(s,o.replace("isInScope","isOutOfScope")):this.attr(s,o.replace("isOutOfScope","isInScope")),this.prop("outOfScope",t)}})},defineHasOpenThreats:function(t,e){Object.defineProperty(t,"hasOpenThreats",{get:function(){return this.prop("hasOpenThreats")},set:function(t){var s=this;e.forEach(function(e){var o="."+e+"/class",i=s.attr(o)||e+" hasNoOpenThreats isInScope";t?s.attr(o,i.replace("hasNoOpenThreats","hasOpenThreats")):s.attr(o,i.replace("hasOpenThreats","hasNoOpenThreats"))}),this.prop("hasOpenThreats",t)}})}},joint.shapes.tm.Flow=joint.dia.Link.extend({arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="6" />',"</g>"].join(""),setLabel:function(t){this.attributes.labels=[{position:.5,attrs:{text:{text:t,"font-weight":"400","font-size":"small"}}}]},defaults:joint.util.deepSupplement({type:"tm.Flow",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0},joint.dia.Link.prototype.defaults)}),Object.defineProperty(joint.shapes.tm.Flow.prototype,"name",{get:function(){return joint.shapes.tm.utils.wordUnwrap(this.attributes.labels[0].attrs.text.text)},set:function(t){joint.shapes.tm.utils.editNameLink(this,t)}}),joint.shapes.tm.utils.defineOutOfScope(joint.shapes.tm.Flow.prototype,"connection"),joint.shapes.tm.utils.defineHasOpenThreats(joint.shapes.tm.Flow.prototype,["connection","marker-target"]),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.Flow.prototype,["reasonOutOfScope","protocol","isEncrypted","isPublicNetwork","threats","bluetoothInterface","wifiInterface","cellularInterface"]),joint.shapes.tm.Boundary=joint.dia.Link.extend({markup:['<path class="connection" stroke="black"/>','<path class="marker-source" fill="black" stroke="black" />','<path class="marker-target" fill="black" stroke="black" />','<path class="connection-wrap"/><title class="tooltip"></title>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="6" />',"</g>"].join(""),setLabel:function(t){this.attributes.labels=[{position:.5,attrs:{text:{text:t,"font-weight":"400","font-size":"small"}}}]},defaults:joint.util.deepSupplement({type:"tm.Boundary",attrs:{".connection":{stroke:"green","stroke-width":3,"stroke-dasharray":"10,5"}},smooth:!0},joint.dia.Link.prototype.defaults)}),joint.shapes.tm.toolElement=joint.shapes.basic.Generic.extend({toolMarkup:['<g class="element-tools">','<g class="element-tool-remove"><circle fill="red" r="11"/>','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z"/>',"<title>Remove this element from the model</title>","</g>",'<g class="element-tool-link"><circle r="11" transform="translate(23,0)"/>','<path fill="none" stroke="white" stroke-width="6" transform="scale (0.7) translate(20.86, 11)" d="m6.5 -1.47 l13.5 -9.53 l-13.5 -9.53"/> ',"<title>Link from here</title>","</g>","</g>"].join(""),defaults:joint.util.deepSupplement({attrs:{text:{"font-weight":400,"font-size":"small",fill:"black","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle"}}},joint.shapes.basic.Generic.prototype.defaults)}),Object.defineProperty(joint.shapes.tm.toolElement.prototype,"name",{get:function(){return joint.shapes.tm.utils.wordUnwrap(this.attr("text/text"))},set:function(t){joint.shapes.tm.utils.editNameElement(this,t)}}),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.toolElement.prototype,["reasonOutOfScope","threats"]),joint.shapes.tm.utils.defineOutOfScope(joint.shapes.tm.toolElement.prototype,"element-shape"),joint.shapes.tm.utils.defineHasOpenThreats(joint.shapes.tm.toolElement.prototype,["element-shape","element-text"]),joint.shapes.tm.Process=joint.shapes.tm.toolElement.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="element-shape hasNoOpenThreats isInScope"/><title class="tooltip"/></g><text class="element-text hasNoOpenThreats isInScope"/></g>',defaults:joint.util.deepSupplement({type:"tm.Process",attrs:{".element-shape":{"stroke-width":1,r:30,stroke:"black",transform:"translate(30, 30)"},text:{ref:".element-shape"}},size:{width:100,height:100}},joint.shapes.tm.toolElement.prototype.defaults)}),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.Process.prototype,["privilegeLevel","isAWebApplication","isASwitchingProcess","isARoutingProcess","isAWirelessAccessProcess","isAConfigurationProcess","isAIPSecHostProcess"]),joint.shapes.tm.Store=joint.shapes.tm.toolElement.extend({markup:'<g class="rotatable"><g class="scalable"><rect/><path class="element-shape hasNoOpenThreats isInScope"/><title class="tooltip"/></g><text class="element-text hasNoOpenThreats isInScope"/></g>',defaults:joint.util.deepSupplement({type:"tm.Store",attrs:{rect:{fill:"white",stroke:"white","follow-scale":!0,width:160,height:80},".element-shape":{d:"M0 0 H160 M0 80 H160",stroke:"black",fill:"white","stroke-width":1,"follow-scale":!0},text:{ref:".element-shape"}},size:{width:160,height:80}},joint.shapes.tm.toolElement.prototype.defaults)}),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.Store.prototype,["isALog","storesCredentials","isEncrypted","isSigned","remoteMedicalRecordStorage"]),joint.shapes.tm.Actor=joint.shapes.tm.toolElement.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="element-shape hasNoOpenThreats isInScope"/><title class="tooltip"/></g><text class="element-text hasNoOpenThreats isInScope"/></g>',defaults:joint.util.deepSupplement({type:"tm.Actor",attrs:{".element-shape":{fill:"white",stroke:"black","stroke-width":1,"follow-scale":!0,width:160,height:80},text:{ref:".element-shape"}},size:{width:160,height:80}},joint.shapes.tm.toolElement.prototype.defaults)}),joint.shapes.tm.utils.defineProperties(joint.shapes.tm.Actor.prototype,["providesAuthentication","clientEHealthDevice","mobileDevice","desktopDevice","storesHealthDataLocally","forwardsHealthDataCloud"]),joint.shapes.tm.ToolElementView=joint.dia.ElementView.extend({initialize:function(){joint.dia.ElementView.prototype.initialize.apply(this,arguments)},render:function(){return joint.dia.ElementView.prototype.render.apply(this,arguments),this.renderTools(),this.update(),this},renderTools:function(){var t=this.model.toolMarkup||this.model.get("toolMarkup");if(t){var e=V(t);V(this.el).append(e)}return this},pointerclick:function(t,e,s){switch(this._dx=e,this._dy=s,this._action="",t.target.parentNode.getAttribute("class")){case"element-tool-remove":return void this.model.remove();case"element-tool-link":this._action="linkFrom";break;case"element-tool-link linking":this._action="removeLinkFrom"}joint.dia.CellView.prototype.pointerclick.apply(this,arguments)},setSelected:function(){this.highlight(null,joint.shapes.tm.Highlighter)},setUnselected:function(){this.unhighlight(null,joint.shapes.tm.Highlighter)},addLinkFrom:function(){this.linkFrom=!0,new V(this.$el.find(".element-tool-link")[0]).addClass("linking")},removeLinkFrom:function(){this.linkFrom=!1,new V(this.$el.find(".element-tool-link")[0]).removeClass("linking")}}),joint.shapes.tm.StoreView=joint.shapes.tm.ToolElementView,joint.shapes.tm.ActorView=joint.shapes.tm.ToolElementView,joint.shapes.tm.ProcessView=joint.shapes.tm.ToolElementView,joint.shapes.tm.LinkView=joint.dia.LinkView.extend({setSelected:function(){this.highlight(null,joint.shapes.tm.Highlighter)},setUnselected:function(){this.unhighlight(null,joint.shapes.tm.Highlighter)}}),joint.shapes.tm.FlowView=joint.shapes.tm.LinkView,joint.shapes.tm.BoundaryView=joint.shapes.tm.LinkView,"object"==typeof exports&&(module.exports=joint.shapes.tm);
},{"jointjs":82}],160:[function(require,module,exports){
"use strict";function routemediator(t,o,r,n){function e(){u(),i()}function i(){t.$on("$routeChangeError",function(t,r,e,i){if(!a){a=!0;var u="Error routing: "+(r&&r.name);n.logWarning(u,r,"routemediator",!0),o.path("/")}})}function u(){t.$on("$routeChangeSuccess",function(o,n,e){a=!1;var i=r.docTitle+" "+(n.title||"");t.title=i})}var a=!1;return{setRoutingHandlers:e}}module.exports=routemediator;
},{}],161:[function(require,module,exports){
"use strict";function threatengine(){function e(e){var t=a(s),i=new o,n=new r(e),l=t.getSession(i,n);return l.match().then(function(){return l.dispose(),nools.deleteFlow(s),i.collection})}function t(){return[]}function i(){return[]}function a(e){return nools.flow(e,function(e){e.rule("Empty String Password",[[r,"el",'el.element.attributes.type == "tm.Store" && isTrue(el.element.storesCredentials)'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"1.1",title:"Empty String Password",type:"Information disclosure",status:"Open",severity:"High",description:"Using an empty string as a password is insecure. It is never appropriate to use an empty string as a password.  It is too easy to guess.  An empty string password makes the authentication as weak as the user names, which are normally public or guessable.  This makes a brute-force attack against the login interface much easier. "})}),e.rule("Password in Configuration File",[[r,"el",'el.element.attributes.type == "tm.Store" && isTrue(el.element.storesCredentials)'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"1.2",title:"Password in Configuration File",type:"Information disclosure",status:"Open",severity:"Medium",description:"Storing a password in a configuration file allows anyone who can read the file access to the password-protected resource. Developers sometimes believe that they cannot defend the application from someone who has access to the configuration, but this attitude makes an attacker's job easier.",mitigation:"To mitigate this threat, 2 mitigations are required. The configuration file needs to employ a form of Access Control to ensure only those who have the privilege to access that file, are the only ones allowed to access that [2]. To control the information contained in the configuration file, the passwords should be stored in encrypted text which will combine the use of hash functions and the use of salts to take any password of any size and produce a unique hash value of the password and combine it with the original password, that way the password cannot be determined from the file [2]. "})}),e.rule("Hardcoded Password",[[r,"el",'el.element.attributes.type == "tm.Store" && isTrue(el.element.storesCredentials)'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"1.3",title:"Hardcoded Password",type:"Information disclosure",status:"Open",severity:"High",description:"Hardcoded passwords may compromise system security in a way that cannot be easily remedied.It is never a good idea to hardcode a password. Not only does hardcoding a password allow all the project's developers to view the password, it also makes fixing the problem extremely difficult. Once the code is in production, the password cannot be changed without patching the software. If the account protected by the password is compromised, the owners of the system will be forced to choose between security and availability.",mitigation:"To counter this threat of hardcoding passwords, there are several mitigations/countermeasures that can be implemented:Ask user for the password.  The program should not know the password of a user.  The user should be presented with a challenge to enter their password for the program to not be compromised easily [5]. If an existing password is stored on an Authentication distributed server such as an AFS (Andrew Filesystem [6]) or Kerberos, obtain the passwords from the server [5]. Have the password stored in a separate configuration file, where that file is strictly read access only and has a level of access control that only certain individuals and processes who have the right privilege can read the file [5]. "})}),e.rule("Password Plaintext Storage",[[r,"el",'el.element.attributes.type == "tm.Store" && isTrue(el.element.storesCredentials)'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"1.4",title:"Password Plaintext Storage",type:"Information disclosure",status:"Open",severity:"High",description:"Storing a password in plaintext may result in a system compromise.Password management issues occur when a password is stored in plaintext in an application's properties or configuration file. A programmer can attempt to remedy the password management problem by obscuring the password with an encoding function, such as base 64 encoding, but this effort does not adequately protect the password.",mitigation:"Passwords should never be stored in plain text.  Rather these passwords should be stored in encrypted text which will combine the use of hash functions and the use of salts to take any password of any size and produce a unique hash value of the password and combine it with the original password, that way the password cannot be determined from the file.  [2]"})}),e.rule("Least Privilege Violation",[[r,"el",'el.element.attributes.type == "tm.Process"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"1.5",title:"Least Privilege Violation",type:"Elevation of privilege",status:"Open",severity:"Medium",description:"The elevated privilege level required to perform operations such as chroot() should be dropped immediately after the operation is performed.When a program calls a privileged function, such as chroot(), it must first acquire root privilege. As soon as the privileged operation has completed, the program should drop root privilege and return to the privilege level of the invoking user.",mitigation:"There are several ways to mitigate the least privilege violation:Split an individual components into several components, and assign lower privilege levels to those components [8]. Identify areas in the system which have that elevated privilege and use those  components instead to accomplish the task [8]. Create a separate environment within the system/program where only within that area or environment has an elevated privilege [8]. "})}),e.rule("Code Permission",[[r,"el",'el.element.attributes.type == "tm.Actor"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"1.6",title:"Code Permission",type:"Elevation of privilege",status:"Open",severity:"High",description:"An active developer with access to unrelated module code may tamper or disclose sensitive project information (Interproject Code Access).",mitigation:"Throughout the development lifecycle, there are several mitigations that can be used:Within the Implementation phase, if a critical resource is being used, there should be a check to see if a resource has permissions/behavior which are not secure (such as a regular user being able to modify that resource).  If there are such behaviors or permissions that exist, the program should create an error or exit the program [10]. Within the Architecture and Design phase, one should split up the software components based on privilege level and if possible, control what data, functions and resources each component uses based the privilege level [10].  Another option in this phase is to create a separate environment within the system/program where only within that area or environment has an elevated privilege [8]. In the installation phase, default or most restrictive permissions should be set to avoid any code which doesn\\t have the permissions to be run.  Also, the assumption that a system administrator will change the settings based on a manual is incorrect [10]. In the System Configuration phase, The configurable, executable files and libraries should be only have read and write access by the system administrator [10]. In the Documentation phase, within any documentation, any configurations that are suggested must be secure, and do not affect the operation of the computer or program [10]. Code Quality"})}),e.rule("Double Free Error",[[r,"el",'el.element.attributes.type == "tm.Process"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.1",title:"Double Free Error",type:"Tampering",status:"Open",severity:"High",description:"Double free errors occur when free() is called more than once with the same memory address as an argument.Calling free() twice on the same value can lead to memory leak. When a program calls free() twice with the same argument, the program's memory management data structures become corrupted and could allow a malicious user to write values in arbitrary memory spaces. This corruption can cause the program to crash or, in some circumstances, alter the execution flow. By overwriting registers or memory spaces, an attacker can trick the program into executing code of his/her own choosing, often resulting in an interactive shell with elevated permissions.When a buffer is free(), a linked list of free buffers is read to rearrange and combine the chunks of free memory (to be able to allocate larger buffers in the future). These chunks are laid out in a double linked list which points to previous and next chunks. Unlinking an unused buffer (which is what happens when free() is called) could allow an attacker to write arbitrary values in memory; essentially overwriting valuable registers, calling shellcode from its own buffer.",mitigation:"To mitigate this threat, each allocation should only be freed once.  Once the memory has been allocated, the pointer should be set to NULL to ensure the pointer cannot be freed again.  In complicated error conditions, ensure that clean-up routines represent the state of allocation.  If the language is object oriented, that object destructors delete each allocation of memory one time only [11]. "})}),e.rule("Leftover Debug Code",[[r,"el",'el.element.attributes.type == "tm.Process"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.2",title:"Leftover Debug Code",type:"Tampering",status:"Open",severity:"Medium",description:'Debug code can create unintended entry points in a deployed web application.A common development practice is to add "back door" code specifically designed for debugging or testing purposes that is not intended to be shipped or deployed with the application. When this sort of debug code is accidentally left in the application, the application is open to unintended modes of interaction. These back-door entry points create security risks because they are not considered during design or testing and fall outside of the expected operating conditions of the application.',mitigation:"To mitigate this threat, all debug code should be removed prior to delivery of code [12]. "})}),e.rule("Memory Leak",[[r,"el",'el.element.attributes.type == "tm.Process"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.3",title:"Memory Leak",type:"Denial of service",status:"Open",severity:"High",description:"A memory leak is an unintentional form of memory consumption whereby the developer fails to free an allocated block of memory when no longer needed. The consequences of such an issue depend on the application itself. Consider the following general three cases:Short Lived User-land Application: Little if any noticeable effect. Modern operating system recollects lost memory after program termination.Long Lived User-land Application: Potentially dangerous. These applications continue to waste memory over time, eventually consuming all RAM resources. Leads to abnormal system behavior.Kernel-land Process: Memory leaks in the kernel level lead to serious system stability issues. Kernel memory is very limited compared to user land memory and should be handled cautiously.Memory is allocated but never freed. Memory leaks have two common and sometimes overlapping causes:Error conditions and other exceptional circumstances.Confusion over which part of the program is responsible for freeing the memory.Most memory leaks result in general software reliability problems, but if an attacker can intentionally trigger a memory leak, the attacker might be able to launch a denial of service attack (by crashing the program) or take advantage of other unexpected program behavior resulting from a low memory condition.",mitigation:"To mitigate that threat, 3rd party tools/software are required to see if this vulnerability exists in the code.  One such tool that can be used in a Unix/Linux environment is a program called Valgrind.  This program will run the desired software program to be checked to check all memory allocation and de-allocation methods are working as intended.  [13]"})}),e.rule("Null Dereference",[[r,"el",'el.element.attributes.type == "tm.Process"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.4",title:"Null Dereference",type:"Denial of service",status:"Open",severity:"Medium",description:"The program can potentially dereference a null pointer, thereby raising a NullPointerException. Null pointer errors are usually the result of one or more programmer assumptions being violated. Most null pointer issues result in general software reliability problems, but if an attacker can intentionally trigger a null pointer dereference, the attacker might be able to use the resulting exception to bypass security logic or to cause the application to reveal debugging information that will be valuable in planning subsequent attacks.A null-pointer dereference takes place when a pointer with a value of NULL is used as though it pointed to a valid memory area.Null-pointer dereferences, while common, can generally be found and corrected in a simple way. They will always result in the crash of the process, unless exception handling (on some platforms) is invoked, and even then, little can be done to salvage the process.",mitigation:"To mitigate this threat, if possible, this vulnerability would be prevented, if the programming language that was used to program the software did not use pointers.  Another mitigation suggestion is to check to see if the pointers are referenced correctly prior to their use [14]. "})}),e.rule("Logging Practices",[[r,"el",'el.element.attributes.type == "tm.Store" && isTrue(el.element.isALog)'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.5",title:"Logging Practices",type:"Repudiation",status:"Open",severity:"Low",description:"Declare Logger Object as Static and Final:It is good programming practice to share a single logger object between all of the instances of a particular class and to use the same logger for the duration of the program.Don't Use Multiple Loggers:It is a poor logging practice to use multiple loggers rather than logging levels in a single class.Good logging practice dictates the use of a single logger that supports different logging levels for each class.Don't Use System Output Stream:Using System.out or System.err rather than a dedicated logging facility makes it difficult to monitor the behavior of the program. It can also cause log messages accidentally returned to the end users, revealing internal information to attackers. While most programmers go on to learn many nuances and subtleties about Java, a surprising number hang on to this first lesson and never give up on writing messages to standard output using System.out.println().The problem is that writing directly to standard output or standard error is often used as an unstructured form of logging. Structured logging facilities provide features like logging levels, uniform formatting, a logger identifier, timestamps, and, perhaps most critically, the ability to direct the log messages to the right place. When the use of system output streams is jumbled together with the code that uses loggers properly, the result is often a well-kept log that is missing critical information. In addition, using system output streams can also cause log messages accidentally returned to end users, revealing application internal information to attackers.Developers widely accept the need for structured logging, but many continue to use system output streams in their \"pre-production\" development. If the code you are reviewing is past the initial phases of development, use of System.out or System.err may indicate an oversight in the move to a structured logging system.",mitigation:"To mitigate this threat the logging system should be centralized to the program and give different levels of detail, and log/display all security successes or failures.  [17]"})}),e.rule("Portability",[[r,"el",'el.element.attributes.type == "tm.Process"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.6",title:"Portability",type:"Tampering",status:"Open",severity:"Low",description:"Functions with inconsistent implementations across operating systems and operating system versions cause portability problems.The behavior of functions in this category varies by operating system, and at times, even by operating system version. Implementation differences can include:Slight differences in the way parameters are interpreted, leading to inconsistent results.Some implementations of the function carry significant security risks.The function might not be defined on all platforms.",mitigation:"N/A"})}),e.rule("Undefined Behavior",[[r,"el",'el.element.attributes.type == "tm.Process"|| el.element.attributes.type == "tm.Store"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.7",title:"Undefined Behavior",type:"Tampering",status:"Open",severity:"Low",description:"The behavior of this function is undefined unless its control parameter is set to a specific value. The Linux Standard Base Specification 2.0.1 for libc places constraints on the arguments to some internal functions.",mitigation:"N/A"})}),e.rule("Unreleased Resource",[[r,"el",'el.element.attributes.type == "tm.Process"|| el.element.attributes.type == "tm.Store"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.8",title:"Unreleased Resource",type:"Denial of service",status:"Open",severity:"Medium",description:"Most unreleased resource issues result in general software reliability problems, but if an attacker can intentionally trigger a resource leak, the attacker might be able to launch a denial of service attack by depleting the resource pool.Resource leaks have at least two common causes:Error conditions and other exceptional circumstances.Confusion over which part of the program is responsible for releasing the resource.",mitigation:"To mitigate this threat, the programming language used to program the desired program, should not allow this threat to occur.  Another suggestion is to free all resources that have been allocated and be consistent in terms of how memory is allocated and de-allocated.  To furthermore mitigate this threat, is to release all the member components of a given object [27]. "})}),e.rule("Use of Obsolete Methods",[[r,"el",'el.element.attributes.type == "tm.Process"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"2.9",title:"Use of Obsolete Methods",type:"Denial of service",status:"Open",severity:"Medium",description:"The use of deprecated or obsolete functions may indicate neglected code.As programming languages evolve, functions occasionally become obsolete due to:Advances in the languageImproved understanding of how operations should be performed effectively and securelyChanges in the conventions that govern certain operationsFunctions that are removed are usually replaced by newer counterparts that perform the same task in some different and hopefully improved way.Refer to the documentation for this function in order to determine why it is deprecated or obsolete and to learn about alternative ways to achieve the same functionality. The remainder of this text discusses general problems that stem from the use of deprecated or obsolete functions.",mitigation:"To mitigate this threat, the documentation for the program should be referred to, to determine the reason it is deprecated and to determine alternatives to using those methods, which may pose not only a function concern, but also a security concern.  [26]Cryptography"})}),e.rule("Sensitive Parameters in URL",[[r,"el",'el.element.attributes.type == "tm.Process"'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"3.1",title:"Sensitive Parameters in URL",type:"Information disclosure",status:"Open",severity:"Medium",description:"Information exposure through query strings in URL is when sensitive data is passed to parameters in the URL. This allows attackers to obtain sensitive data such as usernames, passwords, tokens (authX), database details, and any other potentially sensitive data. Simply using HTTPS does not resolve this vulnerability. A very common example is in GET requests.",mitigation:"To mitigate this threat, it is recommended to use a POST method, as those parameters that are passed in through the URL are not saved, and therefore cannot be exposed.  [28]"})}),e.rule("Insecure Randomness",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"3.2",title:"Insecure Randomness",type:"Information disclosure",status:"Open",severity:"Medium",description:"Standard pseudo-random number generators cannot withstand cryptographic attacks.Insecure randomness errors occur when a function that can produce predictable values is used as a source of randomness in security-sensitive context.Computers are deterministic machines, and as such are unable to produce true randomness. Pseudo-Random Number Generators (PRNGs) approximate randomness algorithmically, starting with a seed from which subsequent values are calculated.There are two types of PRNGs: statistical and cryptographic. Statistical PRNGs provide useful statistical properties, but their output is highly predictable and forms an easy to reproduce numeric stream that is unsuitable for use in cases where security depends on generated values being unpredictable. Cryptographic PRNGs address this problem by generating output that is more difficult to predict. For a value to be cryptographically secure, it must be impossible or highly improbable for an attacker to distinguish between it and a truly random value. In general, if a PRNG algorithm is not advertised as being cryptographically secure, then it is probably a statistical PRNG and should not be used in security-sensitive contexts.",mitigation:"To mitigate this threat, there are several countermeasures that can be implemented:Use an algorithm that is suggested to be strong by experts, in terms of randomness and that produces an adequate seed length.  A 256 bit seed length is a good starting point to produce a random number that is challenging to predict. Use static analysis tools to predict if such a random number or value will be produced again. Use manual testing techniques such as penetration testing and threat modelling to allow the tester to see if a random number or value is produced.  Automation tools are ineffective at determining the predictability due to the randomness of the algorithm and various business rules [29]. "})}),e.rule("Insufficient Entropy",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"3.3",title:"Insufficient Entropy",type:"Information disclosure",status:"Open",severity:"Medium",description:"When an undesirably low amount of entropy is available. Pseudo Random Number Generators are susceptible to suffering from insufficient entropy when they are initialized, because entropy data may not be available to them yet.In many cases a PRNG uses a combination of the system clock and entropy to create seed data. If insufficient entropy is available, an attacker can reduce the size magnitude of the seed value considerably. Furthermore, by guessing values of the system clock, they can create a manageable set of possible PRNG outputs.",mitigation:"To mitigate this threat, a PRNG generally stores their previous value prior to gracefully exiting or shutting down.  If that value is used when the PRNG starts back up, the risk of entropy is reduced.  [30]"})}),e.rule("Improper Certificate Validation",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"3.4",title:"Improper Certificate Validation",type:"Tampering",status:"Open",severity:"High",description:"The software does not validate, or incorrectly validates, a certificate.[35]",mitigation:"Certificates should be carefully managed and check to assure that data are encrypted with the intended owner\\s public key. If certificate pinning is being used, ensure that all relevant properties of the certificate are fully validated before the certificate is pinned, including the hostname. [35]"})}),e.rule("Insufficient TLS Protection",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isFalse(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isFalse(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"3.5",title:"Insufficient TLS Protection",type:"Information disclosure",status:"Open",severity:"High",description:"Sensitive data must be protected when it is transmitted through the network. Such data can include user credentials and credit cards. As a rule of thumb, if data must be protected when it is stored, it must be protected also during transmission.HTTP is a clear-text protocol and it is normally secured via an SSL/TLS tunnel, resulting in HTTPS traffic. The use of this protocol ensures not only confidentiality, but also authentication. Servers are authenticated using digital certificates and it is also possible to use client certificate for mutual authentication.Even if high grade ciphers are today supported and normally used, some misconfiguration in the server can be used to force the use of a weak cipher - or at worst no encryption - permitting to an attacker to gain access to the supposed secure communication channel. Other misconfiguration can be used for a Denial of Service attack.See: https://www.owasp.org/index.php/Testing_for_Weak_SSL/TLS_Ciphers,_Insufficient_Transport_Layer_Protection_(OTG-CRYPST-001)for more information",mitigation:"To mitigate this threat, web servers that provide https services should have their configuration checked.  As well, the validity of an SSL certificate should be checked from a client and server point of view.  These would be checked using a variety of tools which are found on the following website:https://www. owasp. org/index. php/Testing_for_Weak_SSL/TLS_Ciphers,_Insufficient_Transport_Layer_Protection_(OTG-CRYPST-001)  [31]"})}),e.rule("Hard-coded Cryptographic Key",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"3.6",title:"Hard-coded Cryptographic Key",type:"Information disclosure",status:"Open",severity:"High",description:"The use of a hard-coded cryptographic key tremendously increases the possibility that encrypted data may be recovered.Authentication: If hard-coded cryptographic keys are used, it is almost certain that malicious users will gain access through the account in question.",mitigation:"To mitigate against this threat, this practice of hard coding the cryptographic key should be avoided to avoid exposing the cryptographic key to a potential adversary for exploitation [32]"})}),e.rule("Faulty Cryptographic Algorithm",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"3.7",title:"Faulty Cryptographic Algorithm",type:"Information disclosure",status:"Open",severity:"High",description:"Attempting to create non-standard and non-tested algorithms, using weak algorithms, or applying algorithms incorrectly will pose a high weakness to data that is meant to be secure.",mitigation:"To mitigate this threat, a stronger cryptographic algorithm that is widely known to be secure should be used.  Currently, AES is one of the most secure encryption algorithms and is recommended to be used.   [33] [34]Environment (Platform Vulnerabilities)"})}),e.rule("Insecure Compiler Optimization",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"4.1",title:"Insecure Compiler Optimization",type:"Information disclosure",status:"Open",severity:"High",description:"Improperly scrubbing sensitive data from memory can compromise security.Compiler optimization errors occurs in the following scenarios:Secret data is stored in memory.The secret data is scrubbed from memory by overwriting its contents.The source code is compiled using an optimizing compiler, which identifies and removes the function that overwrites the contents as a dead store because the memory is not used subsequently.",mitigation:"When writing code programmers must be aware of undefined and unstable behaviour that is defined within their code.  The main reason for this is compliers often remove code that they shouldn\\t which causes a system or an application more susceptible to security flaws and vulnerabilities.  In order to prevent the problem of optimization-unstable code programmers can use static checkers for identifying unstable code.  Static checkers like STACK developed by MIT works for checking C/C++ code, the Clang Static Analyzer works for checking C/C++/Objective-C programs, and PMD Java works for checking Java Source Code.  [3]"})}),e.rule("Insecure Transport",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"4.2",title:"Insecure Transport",type:"Information disclosure",status:"Open",severity:"High",description:'The application configuration should ensure that SSL is used for all access-controlled pages.If an application uses SSL to guarantee confidential communication with client browsers, the application configuration should make it impossible to view any access-controlled page without SSL. However, it is not an uncommon problem that the configuration of the application fails to enforce the use of SSL on pages that contain sensitive data.There are three common ways for SSL to be bypassed:A user manually enters the URL and types "HTTP" rather than "HTTPS".Attackers intentionally send a user to an insecure URL.A programmer erroneously creates a relative link to a page in the application, failing to switch from HTTP to HTTPS. (This is particularly easy to do when the link moves between public and secured areas on a web site.)',
mitigation:"The first and foremost control that needs to be applied is to check for a lack of transport encryption.  This can be done by:Reviewing network traffic of the device, its mobile application and any cloud connections to determine if any information is passed in clear textReviewing the use of SSL or TLS to ensure it is up to date and properly implementedReviewing the use of any encryption protocols to ensure they are recommended and acceptedIn order to ensure enough transport encryption:Ensuring data is encrypted using protocols such as SSL and TLS while transiting networks. Ensuring other industry standard encryption techniques are utilized to protect data during transport if SSL or TLS are not available. Ensuring only accepted encryption standards are used and avoid using proprietary encryption protocols. Ensuring the message payload encryptionEnsuring the secure encryption key handshaking. Ensuring received data integrity verification. [4]"})}),e.rule("Insufficient Session-ID Length",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"4.3",title:"Insufficient Session-ID Length",type:"Elevation of privilege",status:"Open",severity:"High",description:"Session identifiers should be at least 128 bits long to prevent brute-force session guessing attacks. A shorter session identifier leaves the application open to brute-force session guessing attacks. If an attacker can guess or steal a session ID, then they may be able to take over the user's session (called session hijacking).  [7]",mitigation:"Session identifiers should be at least 128 bits long to prevent brute-force session guessing.  Assume a 128-bit session identifier that provides 64 bits of entropy.  With a very large web site, an attacker might try 10,000 guesses per second with 100,000 valid session identifiers available to be guessed.  Given these assumptions, the expected time for an attacker to successfully guess a valid session identifier is greater than 292 years. A lower bound on the number of valid session identifiers that are available to be guessed is the number of users that are active on a site at any given moment.  However, any users that abandon their sessions without logging out will increase this number.  (This is one of many good reasons to have a short inactive session timeout. )[7]"})}),e.rule("Path Traversal",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"4.5",title:"Path Traversal",type:"Tampering",status:"Open",severity:"High",description:'Allows attackers to access files that are not intended to be accessed. The software uses external input to construct a pathname that is intended to identify a file or directory that is located underneath a restricted parent directory, but the software does not properly neutralize special elements within the pathname that can cause the pathname to resolve to a location that is outside of the restricted directory. By using special elements such as ".." and "/" separators, attackers can escape outside of the restricted location to access files or directories that are elsewhere on the system. One of the most common special elements is the "../" sequence, which in most modern operating systems is interpreted as the parent directory of the current location. This is referred to as relative path traversal. Path traversal also covers the use of absolute pathnames such as "/usr/local/bin", which may also be useful in accessing unexpected files. This is referred to as absolute path traversal.[8]',mitigation:'Input Validation: Assume all input is malicious.  Use an "accept known good" input validation strategy, i. e. , use a whitelist of acceptable inputs that strictly conform to specifications.  Reject any input that does not strictly conform to specifications or transform it into something that does.  When performing input validation, consider all potentially relevant properties, including length, type of input, the full range of acceptable values, missing or extra inputs, syntax, consistency across related fields, and conformance to business rules.  As an example of business rule logic, "boat" may be syntactically valid because it only contains alphanumeric characters, but it is not valid if the input is only expected to contain colors such as "red" or "blue. " Do not rely exclusively on looking for malicious or malformed inputs (i. e. , do not rely on a blacklist).  A blacklist is likely to miss at least one undesirable input, especially if the code\\s environment changes.  This can give attackers enough room to bypass the intended validation.  However, blacklists can be useful for detecting potential attacks or determining which inputs are so malformed that they should be rejected outright. Use a vetted library or framework that does not allow this weakness to occur or provides constructs that make this weakness easier to avoid. Use an application firewall that can detect attacks against this weakness.  It can be beneficial in cases in which the code cannot be fixed (because it is controlled by a third party), as an emergency prevention measure while more comprehensive software assurance measures are applied, or to provide defense in depth. Run your code using the lowest privileges that are required to accomplish the necessary tasks.  If possible, create isolated accounts with limited privileges that are only used for a single task.  That way, a successful attack will not immediately give the attacker access to the rest of the software or its environment.  For example, database applications rarely need to run as the database administrator, especially in day-to-day operations. Run the code in a "jail" or similar sandbox environment that enforces strict boundaries between the process and the operating system.  This may effectively restrict which files can be accessed in a directory or which command can be executed by the software.  OS-level examples include the Unix chroot jail, AppArmor, and SELinux.  In general, managed code may provide some protection.  For example, java. io. FilePermission in the Java SecurityManager allows the software to specify restrictions on file operations. Attack Surface Reduction: Store library, include, and utility files outside of the web document root, if possible.  Otherwise, store them in a separate directory and use the web server\\s access control capabilities to prevent attackers from directly requesting them.  One common practice is to define a fixed constant in each calling program, then check for the existence of the constant in the library/include file; if the constant does not exist, then the file was directly requested, and it can exit immediately.  This significantly reduces the chance of an attacker being able to bypass any protection mechanisms that are in the base program but not in the include files.  It will also reduce the attack surface. Ensure that error messages only contain minimal details that are useful to the intended audience, and nobody else.  The messages need to strike the balance between being too cryptic and not being cryptic enough.  They should not necessarily reveal the methods that were used to determine the error.  Such detailed information can be used to refine the original attack to increase the chances of success.  In the context of path traversal, error messages which disclose path information can help attackers craft the appropriate attack strings to move through the file system hierarchy. [8]'})}),e.rule("Exposure of Private Information (Privacy Violation)",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"4.6",title:"Exposure of Private Information (Privacy Violation)",type:"Information disclosure",status:"Open",severity:"High",description:"The software does not properly prevent private data (such as credit card numbers) from being accessed by actors who either (1) are not explicitly authorized to access the data or (2) do not have the implicit consent of the people to which the data is related. Mishandling private information, such as customer passwords or Social Security numbers, can compromise user privacy and is often illegal. An exposure of private information does not necessarily prevent the software from working properly, and in fact it might be intended by the developer, but it can still be undesirable (or explicitly prohibited by law) for the people who are associated with this private information. Some examples of private information include: social security numbers, web surfing history, credit card numbers, bank accounts, personal health records such as medical conditions, insurance information, prescription records, medical histories, test and laboratory results.[9]",mitigation:'Separation of Privilege by compartmentalizing the system to have "safe" areas where trust boundaries can be unambiguously drawn.  Do not allow sensitive data to go outside of the trust boundary and always be careful when interfacing with a compartment outside of the safe area.  Ensure that appropriate compartmentalization is built into the system design and that the compartmentalization serves to allow for and further reinforce privilege separation functionality.  Architects and designers should rely on the principle of least privilege to decide when it is appropriate to use and to drop system privileges. Error Handling'})}),e.rule("Catch NullPointerException",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"5.1",title:"Catch NullPointerException",type:"Denial of service",status:"Open",severity:"Medium",description:"It is generally a bad practice to catch NullPointerException. Programmers typically catch NullPointerException under three circumstances:The program contains a null pointer dereference. Catching the resulting exception was easier than fixing the underlying problem.The program explicitly throws a NullPointerException to signal an error condition.The code is part of a test harness that supplies unexpected input to the classes under test. This is the only acceptable scenario.[15]",mitigation:"Do not extensively rely on catching exceptions (especially for validating user input) to handle errors.  Handling exceptions can decrease the performance of an application. [15]"})}),e.rule("Empty Catch Block",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"5.2",title:"Empty Catch Block",type:"Tampering",status:"Open",severity:"Medium",description:"The software detects a specific error but takes no actions to handle the error.[16]",mitigation:"Properly handle each exception.  This is the recommended solution.  Ensure that all exceptions are handled in such a way that you can be sure of the state of your system at any given moment. If a function returns an error, it is important to either fix the problem and try again, alert the user that an error has happened and let the program continue, or alert the user and close and cleanup the program. When testing subject, the software to extensive testing to discover some of the possible instances of where/how errors or return values are not handled.  Consider testing techniques such as ad hoc, equivalence partitioning, robustness and fault tolerance, mutation, and fuzzing. [16]"})}),e.rule("Missing Error Handling",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"5.3",title:"Missing Error Handling",type:"Spoofing",status:"Open",severity:"High",description:"A web application must define a default error page for 404 errors, 500 errors, and to catch java.lang. Throwable exceptions prevent attackers from mining information from the application container's built-in error response. When an attacker explores a web site looking for vulnerabilities, the amount of information that the site provides is crucial to the eventual success or failure of any attempted attacks. If the application shows the attacker a stack trace, it relinquishes information that makes the attacker's job significantly easier. For example, a stack trace might show the attacker a malformed SQL query string, the type of database being used, and the version of the application container. This information enables the attacker to target known vulnerabilities in these components.[18]",mitigation:"The application configuration should specify a default error page in order to guarantee that the application will never leak error messages to an attacker.  Handling standard HTTP error codes is useful and user-friendly in addition to being a good security practice, and a good configuration will also define a last-chance error handler that catches any exception that could possibly be thrown by the application. A specific policy for how to handle errors should be documented, including the types of errors to be handled and for each, what information is going to be reported back to the user, and what information is going to be logged.  All developers need to understand the policy and ensure that their code follows it. When errors occur, the site should respond with a specifically designed result that is helpful to the user without revealing unnecessary internal details.  Certain classes of errors should be logged to help detect implementation flaws in the site and/or hacking attempts.  Very few sites have any intrusion detection capabilities in their web application, but it is certainly conceivable that a web application could track repeated failed attempts and generate alerts. [19]"})}),e.rule("Return Inside Finally Block",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"5.4",title:"Return Inside Finally Block",type:"Denial of service",status:"Open",severity:"Low",description:"The code has a return statement inside a finally block, which will cause any thrown exception in the try block to be discarded.[20]",mitigation:'Do not use a return statement inside the finally block.  The finally block should have "cleanup" code. [20]'})}),e.rule("Unchecked Error Condition",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"5.5",title:"Unchecked Error Condition",type:"Tampering",status:"Open",severity:"Medium",description:"Ignoring exceptions and other error conditions may allow an attacker to induce unexpected behavior unnoticed.[21]",mitigation:"The choice between a language which has named, or unnamed exceptions needs to be done.  While unnamed exceptions exacerbate the chance of not properly dealing with an exception, named exceptions suffer from the up-call version of the weak base class problem. A language can be used which requires, at compile time, to catch all serious exceptions.  However, one must make sure to use the most current version of the API as new exceptions could be added. Catch all relevant exceptions.  This is the recommended solution.  Ensure that all exceptions are handled in such a way that you can be sure of the state of your system at any given moment. [21]Input Validation"})}),e.rule("Deserialization of Untrusted Data",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.1",title:"Deserialization of Untrusted Data",type:"Denial of service",status:"Open",severity:"Medium",description:"The application deserializes untrusted data without sufficiently verifying that the resulting data will be valid. It is often convenient to serialize objects for communication or to save them for later use. However, deserialized data or code can often be modified without using the provided accessor functions if it does not use cryptography to protect itself.[22]",mitigation:"If available, use the signing/sealing features of the programming language to assure that deserialized data has not been tainted.  For example, a hash-based message authentication code (HMAC) could be used to ensure that data has not been modified. When deserializing data, populate a new object rather than just deserializing.  The result is that the data flows through safe input validation and that the functions are safe. Explicitly define a final object() to prevent deserialization. Make fields transient to protect them from deserialization. An attempt to serialize and then deserialize a class containing transient fields will result in NULLs where the transient data should be. Avoid having unnecessary types or gadgets available that can be leveraged for malicious ends.  This limits the potential for unintended or unauthorized types and gadgets to be leveraged by the attacker.  Whitelist acceptable classes.  NOTE: This is alone is not a sufficient mitigation. [22]"})}),e.rule("Expression Language Injection",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.2",title:"Expression Language Injection",type:"Information disclosure",status:"Open",severity:"High",description:"Server-side code injection vulnerabilities arise when an application incorporates user-controllable data into a string that is dynamically evaluated by a code interpreter. If the user data is not strictly validated, an attacker can use crafted input to modify the code to be executed and inject arbitrary code that will be executed by the server. Server-side code injection vulnerabilities are usually very serious and lead to complete compromise of the application's data and functionality, and often of the server that is hosting the application. It may also be possible to use the server as a platform for further attacks against other systems.[23]",mitigation:"Whenever possible, applications should avoid incorporating user-controllable data into dynamically evaluated code.  In almost every situation, there are safer alternative methods of implementing application functions, which cannot be manipulated to inject arbitrary code into the server\\s processing. If it is considered unavoidable to incorporate user-supplied data into dynamically evaluated code, then the data should be strictly validated.  Ideally, a whitelist of specific accepted values should be used.  Otherwise, only short alphanumeric strings should be accepted.  Input containing any other data, including any conceivable code metacharacters, should be rejected. [23]"})}),e.rule("Form Action Hijacking",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.3",title:"Form Action Hijacking",type:"Information disclosure",status:"Open",severity:"Medium",description:"Form action hijacking vulnerabilities arise when an application places user-supplied input into the action URL of an HTML form. An attacker can use this vulnerability to construct a URL that, if visited by another application user, will modify the action URL of a form to point to the attacker's server. If a user submits the form then its contents, including any input from the victim user, will be delivered directly to the attacker. Even if the user doesn't enter any sensitive information, the form may still deliver a valid CSRF token to the attacker, enabling them to perform CSRF attacks. In some cases, web browsers may help exacerbate this issue by autocompleting forms with previously entered user input.[24]",mitigation:"Consider hard-coding the form action URL or implementing a whitelist of allowed values. [24]"})}),e.rule("Improper Input Validation",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.4",title:"Improper Input Validation",type:"Tampering",status:"Open",severity:"High",description:"The product does not validate or incorrectly validates input that can affect the control flow or data flow of a program. When software does not validate input properly, an attacker is able to craft the input in a form that is not expected by the rest of the application. This will lead to parts of the system receiving unintended input, which may result in altered control flow, arbitrary control of a resource, or arbitrary code execution.[25]",mitigation:'Use an input validation framework such as Struts or the OWASP ESAPI Validation API.  If you use Struts, be mindful of Struts Validation ProblemsUnderstand all the potential areas where untrusted inputs can enter your software: parameters or arguments, cookies, anything read from the network, environment variables, reverse DNS lookups, query results, request headers, URL components, e-mail, files, filenames, databases, and any external systems that provide data to the application.  Remember that such inputs may be obtained indirectly through API calls. Assume all input is malicious.  Use an "accept known good" input validation strategy, i. e. , use a whitelist of acceptable inputs that strictly conform to specifications.  Reject any input that does not strictly conform to specifications or transform it into something that does.  When performing input validation, consider all potentially relevant properties, including length, type of input, the full range of acceptable values, missing or extra inputs, syntax, consistency across related fields, and conformance to business rules.  As an example of business rule logic, "boat" may be syntactically valid because it only contains alphanumeric characters, but it is not valid if the input is only expected to contain colors such as "red" or "blue. " Do not rely exclusively on looking for malicious or malformed inputs (i. e. , do not rely on a blacklist).  A blacklist is likely to miss at least one undesirable input, especially if the code\\s environment changes.  This can give attackers enough room to bypass the intended validation.  However, blacklists can be useful for detecting potential attacks or determining which inputs are so malformed that they should be rejected outright. For any security checks that are performed on the client side, ensure that these checks are duplicated on the server side, in order to avoid client-side enforcement of server-side securityAttackers can bypass the client-side checks by modifying values after the checks have been performed, or by changing the client to remove the client-side checks entirely.  Then, these modified values would be submitted to the server. Use dynamic tools and techniques that interact with the software using large test suites with many diverse inputs, such as fuzz testing (fuzzing), robustness testing, and fault injection. Use tools and techniques that require manual (human) analysis, such as penetration testing, threat modeling, and interactive tools that allow the tester to record and modify an active session[25]'})}),e.rule("Missing XML Validation",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.5",title:"Missing XML Validation",type:"Tampering",status:"Open",severity:"High",description:"The software accepts XML from an untrusted source but does not validate the XML against the proper schema. Most successful attacks begin with a violation of the programmer's assumptions. By accepting an XML document without validating it against a DTD or XML schema, the programmer leaves a door open for attackers to provide unexpected, unreasonable, or malicious input.[36]",mitigation:"Always validate XML input against a known XML Schema or DTD. It is not possible for an XML parser to validate all aspects of a document\\s content because a parser cannot understand the complete semantics of the data.  However, a parser can do a complete and thorough job of checking the document\\s structure and therefore guarantee to the code that processes the document that the content is well-formed. [36]"})}),e.rule("Overly Permissive Regular Expression",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.6",title:"Overly Permissive Regular Expression",type:"Elevation of privilege",status:"Open",severity:"High",description:"The product uses a regular expression that does not sufficiently restrict the set of allowed values. [38]",mitigation:"To mitigate this threat, where possible, ensure that the regular expressions does a check to see where the start and end string patterns are.  As well there should be a restriction to limit the number of characters in a given string that the regular expression will check. [38] [39]"})}),e.rule("Process Control",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.7",title:"Process Control",type:"Denial of service",status:"Open",severity:"Medium",description:"Executing commands or loading libraries from an untrusted source or in an untrusted environment can cause an application to execute malicious commands (and payloads) on behalf of an attacker. Process control vulnerabilities take two forms: An attacker can change the command that the program executes by explicitly controlling what the command is. An attacker can change the environment in which the command executes by implicitly controlling what the command means. Process control vulnerabilities of the first type occur when either data enters the application from an untrusted source and the data is used as part of a string representing a command that is executed by the application. By executing the command, the application gives an attacker a privilege or capability that the attacker would not otherwise have.[37]",mitigation:"Libraries that are loaded should be well understood and come from a trusted source.  The application can execute code contained in the native libraries, which often contain calls that are susceptible to other security problems, such as buffer overflows or command injection.  All native libraries should be validated to determine if the application requires the use of the library.  It is very difficult to determine what these native libraries do, and the potential for malicious code is high.  In addition, the potential for an inadvertent mistake in these native libraries is also high, as many are written in C or C++ and may be susceptible to buffer overflow or race condition problems.  To help prevent buffer overflow attacks, validate all input to native calls for content and length.  If the native library does not come from a trusted source, review the source code of the library.  The library should be built from the reviewed source before using it. [37]"})}),e.rule("String Termination Error",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.8",title:"String Termination Error",type:"Denial of service",status:"Open",severity:"Medium",description:"Relying on proper string termination may result in a buffer overflow.String termination errors occur when:Data enters a program via a function that does not null terminate its output.The data is passed to a function that requires its input to be null terminated.[41]",mitigation:"Use a language that is not susceptible to these issues.  However, be careful of null byte interaction errors with lower-level constructs that may be written in a language that is susceptible. Ensure that all string functions used are understood fully as to how they append null characters.  Also, be wary of off-by-one errors when appending nulls to the end of strings. If performance constraints permit, special code can be added that validates null-termination of string buffers, this is a rather naive and error-prone solution. Switch to bounded string manipulation functions.  Inspect buffer lengths involved in the buffer overrun trace reported with the defect. Add code that fills buffers with nulls (however, the length of buffers still needs to be inspected, to ensure that the non-null-terminated string is not written at the physical end of the buffer). Visit the following pages for more information for mitigation strategies for strings in C and C++:http://www. informit. com/articles/article. aspx?p=2036582&seqNum=4https://www. synopsys. com/blogs/software-security/detect-prevent-and-mitigate-buffer-overflow-attacks/[41]"})}),e.rule("Unchecked Return Value",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.9",title:"Unchecked Return Value",type:"Tampering",status:"Open",severity:"Low",description:'The software does not check the return value from a method or function, which can prevent it from detecting unexpected states and conditions. Two common programmer assumptions are "this function call can never fail" and "it doesn\'t matter if this function call fails". If an attacker can force the function to fail or otherwise return a value that is not expected, then the subsequent program logic could lead to a vulnerability, because the software is not in a state that the programmer assumes. For example, if the program calls a function to drop privileges but does not check the return code to ensure that privileges were successfully dropped, then the program will continue to operate with the higher privileges. [40]',mitigation:"To mitigate this threat, three techniques must be applied to all functions in the given program that is being evaluated:Ensure all of the functions that return a value, actually return a value and confirm that the value is expected. Ensure within each function, that the possible of return values are coveredWithin each function, ensure that there is a check/default value when there is an error.  [40]"})}),e.rule("Unsafe JNI",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.10",title:"Unsafe JNI",type:"Denial of service",status:"Open",
severity:"Low",description:"When a Java application uses the Java Native Interface (JNI) to call code written in another programming language, it can expose the application to weaknesses in that code, even if those weaknesses cannot occur in Java. Many safety features that programmers may take for granted simply do not apply for native code, so you must carefully review all such code for potential problems. The languages used to implement native code may be more susceptible to buffer overflows and other attacks. Native code is unprotected by the security features enforced by the runtime environment, such as strong typing and array bounds checking [42]",mitigation:"To mitigate this threat, three techniques must be applied in the given program that is being evaluated:Implement a form of error handling within each JNI call. Avoid using any JNI calls if the native library is untrusted. Seek an alternative to a JNI call such as using a Java API. "})}),e.rule("Unsafe use of reflection",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"6.11",title:"Unsafe use of reflection",type:"Information disclosure",status:"Open",severity:"Medium",description:"This vulnerability is caused by unsafe use of the reflection mechanisms in programming languages like Java, C#, or Ruby, etc. An attacker may be able to create unexpected control flow paths through the application, potentially bypassing security checks. Exploitation of this weakness can result in a limited form of code injection. If an attacker can supply values that the application then uses to determine which class to instantiate or which method to invoke, the potential exists for the attacker to create control flow paths through the application that were not intended by the application developers. This attack vector may allow the attacker to bypass authentication or access control checks or otherwise cause the application to behave in an unexpected manner. This situation becomes a doomsday scenario if the attacker can upload files into a location that appears on the application's classpath or add new entries to the application's classpath. Under either of these conditions, the attacker can use reflection to introduce new, presumably malicious, behavior into the application.[43]",mitigation:"Refactor your code to avoid using reflection. Do not use user-controlled inputs to select and load classes or code. Apply strict input validation by using whitelists or indirect selection to ensure that the user is only selecting allowable classes or code. [43]Session Management"})}),e.rule("Session Variable Overloading",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"7.1",title:"Session Variable Overloading",type:"Spoofing",status:"Open",severity:"Low",description:"Session Variable Overloading (also known as Session Puzzling) is an application level vulnerability which can enable an attacker to perform a variety of malicious actions not limited to:Bypass efficient authentication enforcement mechanisms, and impersonate legitimate users.Elevate the privileges of a malicious user account, in an environment that would otherwise be considered foolproof.Skip over qualifying phases in multiphase processes, even if the process includes all the commonly recommended code level restrictions.Manipulate server-side values in indirect methods that cannot be predicted or detected.Execute traditional attacks in locations that were previously unreachable, or even considered secure.This vulnerability occurs when an application uses the same session variable for more than one purpose. An attacker can potentially access pages in an order unanticipated by the developers so that the session variable is set one context and then used in another [44]",mitigation:"To mitigate this threat, the use of session variables should be restricted, where they are used for one consistent purpose [44]. Mobile Risk *(separate)"})}),e.rule("Weak Server Side Controls",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.1",title:"Weak Server Side Controls",type:"Tampering",status:"Open",severity:"Medium",description:"Any entity that acts as a source of untrustworthy input to a backend API service, web service, or traditional web server application. Examples of such entities include: a user, malware, or a vulnerable app on the mobile device [45]",mitigation:"To mitigate this threat, secure coding and proper configurations must be used on the server side of the mobile application.  [45]"})}),e.rule("Insecure Data Storage",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.2",title:"Insecure Data Storage",type:"Information disclosure",status:"Open",severity:"High",description:"An adversary that has attained a lost/stolen mobile device; malware or another repackaged app acting on the adversary's behalf that executes on the mobile device. If an adversary physically attains the mobile device, the adversary hooks up the mobile device to a computer with freely available software. These tools allow the adversary to see all third party application directories that often contain stored personally identifiable information (PII), or personal health records (PHR). An adversary may construct malware or modify a legitimate app to steal such information assets.[46]",mitigation:"It is important to threat model your mobile app, OS, platforms and frameworks to understand the information assets the app processes and how the APIs handle those assets.  Determine how your application or software handles the following information:URL caching (both request and response);Keyboard press caching;Copy/Paste buffer caching;Application backgrounding;Intermediate dataLogging;HTML5 data storage;Browser cookie objects;Analytics data sent to 3rd parties. [46]"})}),e.rule("Improper Platform Usage",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.3",title:"Improper Platform Usage",type:"Tampering",status:"Open",severity:"Medium",description:"This category covers misuse of a platform feature or failure to use platform security controls. It might include Android intents, platform permissions, misuse of TouchID, the Keychain, or some other security control that is part of the mobile operating system. The defining characteristic of risks in this category is that the platform (iOS, Android, Windows Phone, etc.) provides a feature or a capability that is documented and well understood. The app fails to use that capability or uses it incorrectly. This differs from other mobile top ten risks because the design and implementation is not strictly the app developer's issue.There are several ways that mobile apps can experience this risk.Violation of published guidelines. All platforms have development guidelines for security (((Android)), ((iOS)), ((Windows Phone))). If an app contradicts the best practices recommended by the manufacturer, it will be exposed to this risk. For example, there are guidelines on how to use the iOS Keychain or how to secure exported services on Android. Apps that do not follow these guidelines will experience this risk.Violation of convention or common practice: Not all best practices are codified in manufacturer guidance. In some instances, there are de facto best practices that are common in mobile apps.Unintentional Misuse: Some apps intend to do the right thing but get some part of the implementation wrong. This could be a simple bug, like setting the wrong flag on an API call, or it could be a misunderstanding of how the protections work.  [47]",mitigation:"To mitigate this threat, secure coding and proper configurations must be used on the server side of the mobile application [47]. "})}),e.rule("Insecure Communication",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.4",title:"Insecure Communication",type:"Information disclosure",status:"Open",severity:"High",description:"When designing a mobile application, data is commonly exchanged in a client-server fashion. When the solution transmits its data, it must traverse the mobile device's carrier network and the internet. Attackers may exploit these vulnerabilities to intercept sensitive data such as: social security numbers, web surfing history, credit card numbers, bank accounts, personal health records such as medical conditions, insurance information, prescription records, medical histories, test and laboratory result while travelling across the wire.[48]",mitigation:"Assume that the network layer is not secure and is susceptible to eavesdropping. Apply SSL/TLS to transport channels that the mobile app will use to transmit sensitive information, session tokens, or other sensitive data to a backend API or web service. Account for outside entities like third-party analytics companies, social networks, etc.  by using their SSL versions when an application runs a routine via the browser/webkit.  Avoid mixed SSL sessions as they may expose the user\\s session ID. Use strong, industry standard cipher suites with appropriate key lengths. Use certificates signed by a trusted CA provider. Never allow self-signed certificates and consider certificate pinning for security conscious applications. Always require SSL chain verification. Only establish a secure connection after verifying the identity of the endpoint server using trusted certificates in the key chain. Alert users through the UI if the mobile app detects an invalid certificate. Do not send sensitive data over alternate channels (e. g.  SMS, MMS, or notifications). If possible, apply a separate layer of encryption to any sensitive data before it is given to the SSL channel.  If future vulnerabilities are discovered in the SSL implementation, the encrypted data will provide a secondary defense against confidentiality violation. [48]"})}),e.rule("Insecure Authentication",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.5",title:"Insecure Authentication",type:"Tampering",status:"Open",severity:"High",description:"Authentication vulnerabilities are exploited through automated attacks that use available or custom-built tools. Once the adversary understands how the authentication scheme is vulnerable, they fake or bypass authentication by submitting service requests to the mobile app's backend server and bypass any direct interaction with the mobile app. This submission process is typically done via mobile malware within the device or botnets owned by the attacker.[49]",mitigation:"Avoid weak authentication patterns:If you are porting a web application to its mobile equivalent, authentication requirements of mobile applications should match that of the web application component.  Therefore, it should not be possible to authenticate with less authentication factors than the web browser;Authenticating a user locally can lead to client-side bypass vulnerabilities.  If the application stores data locally, the authentication routine can be bypassed on jailbroken devices through run-time manipulation or modification of the binary.  If there is a compelling business requirement for offline authentication, see M10 for additional guidance on preventing binary attacks against the mobile app;Where possible, ensure that all authentication requests are performed server-side.  Upon successful authentication, application data will be loaded onto the mobile device.  This will ensure that application data will only be available after successful authentication;If client-side storage of data is required, the data will need to be encrypted using an encryption key that is securely derived from the user\\s login credentials.  This will ensure that the stored application data will only be accessible upon successfully entering the correct credentials.  There are additional risks that the data will be decrypted via binary attacks.  See M9 for additional guidance on preventing binary attacks that lead to local data theft;Persistent authentication (Remember Me) functionality implemented within mobile applications should never store a user\\s password on the device;Ideally, mobile applications should utilize a device-specific authentication token that can be revoked within the mobile application by the user.  This will ensure that the app can mitigate unauthorized access from a stolen/lost device;Do not use any spoof-able values for authenticating a user.  This includes device identifiers or geo-location;Persistent authentication within mobile applications should be implemented as opt-in and not be enabled by default;If possible, do not allow users to provide 4-digit PIN numbers for authentication passwords. Reinforce Authentication:Developers should assume all client-side authorization and authentication controls can be bypassed by malicious users.  Authorization and authentication controls must be re-enforced on the server-side whenever possible. Due to offline usage requirements, mobile apps may be required to perform local authentication or authorization checks within the mobile app\\s code.  If this is the case, developers should instrument local integrity checks within their code to detect any unauthorized code changes.  See M9 for more information about detecting and reacting to binary attacks. [49]"})}),e.rule("Insecure Authorization",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.6",title:"Insecure Authorization",type:"Elevation of privilege",status:"Open",severity:"High",description:"Authorization vulnerabilities are exploited through automated attacks that use available or custom-built tools. Once the adversary understands how the authorization scheme is vulnerable, they login to the application as a legitimate user. They successfully pass the authentication control. Once past authentication, they typically force-browse to a vulnerable endpoint to execute administrative functionality. This submission process is typically done via mobile malware within the device or botnets owned by the attacker. [50]",mitigation:"To mitigate this threat, two methods are suggested.  Firstly, ensure the roles and permissions of the authenticated can be confirmed using the information from a backend system.  Lastly, the code from the back end should be able to identify a request from a user and match it to a user\\s profile that is stored in the backend [50]"})}),e.rule("Insufficient Transport Layer Protection",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.7",title:"Insufficient Transport Layer Protection",type:"Information disclosure",status:"Open",severity:"Medium",description:"When designing a mobile application, data is commonly exchanged in a client-server fashion. When the solution transmits its data, it must traverse the mobile device's carrier network and the internet. Threat agents might exploit vulnerabilities to intercept sensitive data while it's traveling across the wire. The following ways are possible threat agents that exist:An adversary that shares your local network (compromised or monitored Wi-Fi);Carrier or network devices (routers, cell towers, proxy's, etc.); orMalware on your mobile device.[51]",mitigation:"General Best Practices:Assume that the network layer is not secure and is susceptible to eavesdropping. Apply SSL/TLS to transport channels that the mobile app will use to transmit sensitive information, session tokens, or other sensitive data to a backend API or web service. Account for outside entities like third-party analytics companies, social networks, etc.  by using their SSL versions when an application runs a routine via the browser\\s webkit.  Avoid mixed SSL sessions as they may expose the user\\s session ID. Use strong, industry standard cipher suites with appropriate key lengths. Use certificates signed by a trusted CA provider. Never allow self-signed certificates and consider certificate pinning for security conscious applications. Always require SSL chain verification. Only establish a secure connection after verifying the identity of the endpoint server using trusted certificates in the key chain. Alert users through the UI if the mobile app detects an invalid certificate. Do not send sensitive data over alternate channels (e. g, SMS, MMS, or notifications). If possible, apply a separate layer of encryption to any sensitive data before it is given to the SSL channel.  In the event that future vulnerabilities are discovered in the SSL implementation, the encrypted data will provide a secondary defense against confidentiality violation. iOS Specific Best Practices:Default classes in the latest version of iOS handle SSL cipher strength negotiation very well.  Trouble comes when developers temporarily add code to bypass these defaults to accommodate development hurdles.  In addition to the above general practices:Ensure that certificates are valid and fail closed. When using CFNetwork, consider using the Secure Transport API to designate trusted client certificates.  In almost all situations, NSStreamSocketSecurityLevelTLSv1 should be used for higher standard cipher strength. After development, ensure all NSURL calls (or wrappers of NSURL) do not allow self-signed or invalid certificates such as the NSURL class method setAllowsAnyHTTPSCertificate. Consider using certificate pinning by doing the following: export your certificate, include it in your app bundle, and anchor it to your trust object.  Using the NSURL method connection:willSendRequestForAuthenticationChallenge: will now accept your cert. Android Specific Best Practices:Remove all code after the development cycle that may allow the application to accept all certificates such as org. apache. http. conn. ssl. AllowAllHostnameVerifier or SSLSocketFactory. ALLOW_ALL_HOSTNAME_VERIFIER.  These are equivalent to trusting all certificates. If using a class which extends SSLSocketFactory, make sure checkServerTrusted method is properly implemented so that server certificate is correctly checked. [51]"})}),e.rule("Unintended Data Leakage",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.8",title:"Unintended Data Leakage",type:"Information disclosure",status:"Open",severity:"High",description:"Unintended data leakage occurs when a developer inadvertently places sensitive information or data in a location on the mobile device that is easily accessible by other apps on the device. This vulnerability is exploited by mobile malware, modified versions of legitimate apps, or an adversary that has physical access to the victim's mobile device. In case the attacker has physical access to the device, then the attacker can use freely available forensic tools to conduct an attack. Another possible attack vector would be if an attacker has access to the device via malicious code, so they will use fully permissible and documented API calls to conduct an attack. [51]",mitigation:"Threat model your OS, platforms, and frameworks to determine how they handle the following features:URL Caching (Both request and response)Keyboard Press CachingCopy/Paste buffer CachingApplication backgroundingLoggingHTML5 data storageBrowser cookie objectsAnalytics data sent to 3rd partiesAlso identify what a given OS or framework does by default, by doing this and applying mitigating controls, unintended data leakage can be avoided.  [51]"})}),e.rule("Broken/Insecure Cryptography",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.9",title:"Broken/Insecure Cryptography",type:"Information disclosure",status:"Open",severity:"High",description:"This threat is cause when an adversary has physical access to data that has been encrypted improperly, or mobile malware acting on an adversary's behalf. This can be done in several ways such as decryption access to the device or network traffic capture, or malicious apps on the device with access to the encrypted data Hello.",mitigation:"To mitigate this threat, avoid using algorithms or protocols that are unsecure such as RC2, MD4, MD5 and SHA1.  A stronger cryptographic algorithm that is widely known to be secure should be used.  Currently, AES is one of the most secure encryption algorithms and is recommended to be used.   [33] [34] [52]"})}),e.rule("Client-Side Injection",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.10",title:"Client-Side Injection",type:"Information disclosure",status:"Open",severity:"Medium",description:"Client-side injection results in the execution of malicious code on the mobile device via the mobile app. Consider anyone who can send untrusted data to the mobile app, including external users, internal users, the application itself or other malicious apps on the mobile device. A possible attack vector could be an adversary loads simple text-based attacks that exploit the syntax of the targeted interpreter within the mobile app. It is important to understand that almost any source of data can be an injection vector, including resource files or the application itself. [53]",mitigation:"IOS Specific Best Practices:SQLite Injection: When designing queries for SQLite be sure that user supplied data is being passed to a parameterized query.  This can be spotted by looking for the format specifier used.  In general, dangerous user supplied data will be inserted by a %@ instead of a proper parameterized query specifier of?. JavaScript Injection (XSS, etc): Ensure that all UIWebView calls do not execute without proper input validation.  Apply filters for dangerous JavaScript characters if possible, using a whitelist over blacklist character policy before rendering.  If possible, call mobile Safari instead of rending inside of UIWebkit which has access to your application. Local File Inclusion: Use input validation for NSFileManager calls. XML Injection: use libXML2 over NSXMLParserFormat String Injection: Several Objective C methods are vulnerable to format string attacks:NSLog, [NSString stringWithFormat:], [NSString initWithFormat:], [NSMutableString appendFormat:], [NSAlert informativeTextWithFormat:], [NSPredicate predicateWithFormat:], [NSException format:], NSRunAlertPanel. Do not let sources outside of your control, such as user data and messages from other applications or web services, control any part of your format strings. Classic C Attacks: Objective C is a superset of C, avoid using old C functions vulnerable to injection such as: strcat, strcpy, strncat, strncpy, sprint, vsprintf, gets, etc. Android Specific Best Practices:SQL Injection: When dealing with dynamic queries or Content-Providers ensure you are using parameterized queries. JavaScript Injection (XSS): Verify that JavaScript and Plugin support is disabled for any WebViews (usually the default). Local File Inclusion: Verify that File System Access is disabled for any WebViews (webview. getSettings(). setAllowFileAccess(false);). Intent Injection/Fuzzing: Verify actions and data are validated via an Intent Filter for all Activities. Binary Injection/Modification Prevention for Android and iOS:Follow security coding techniques for jailbreak detection, checksum, certificate pinning, and debugger detection controlsThe organization building the app must adequately prevent an adversary from analyzing and reverse engineering the app using static or dynamic analysis techniques. The mobile app must be able to detect at runtime that code has been added or changed from what it knows about its integrity at compile time.  The app must be able to react appropriately at runtime to a code integrity violation. [53]"})}),e.rule("Poor Client Code Quality",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.11",title:"Poor Client Code Quality",type:"Spoofing",status:"Open",severity:"Medium",description:"This threat involves entities that can pass untrusted inputs to method calls made within mobile code. These types of issues are not necessarily security issues in and of themselves but lead to security vulnerabilities. For example, buffer overflows within older versions of Safari (a poor code quality vulnerability) led to high risk drive-by Jailbreak attacks. Poor code-quality issues are typically exploited via malware or phishing scams. An attacker will typically exploit vulnerabilities in this category by supplying carefully crafted inputs to the victim. These inputs are passed onto code that resides within the mobile device where exploitation takes place. Typical types of attacks will exploit memory leaks and buffer overflows.[54]",mitigation:"To mitigate this threat, the following countermeasures should be considered:Consistent coding patterns, standards in an organizationWrite code that is legible and documentedAny code that requires a buffer, the length of the input should be checked, and the length should be restricted. Use third party tools to find buffer overflows and memory leaks. Prioritize to fix any buffer overflows and memory leaks that are present in the code before moving on to other issues. "})}),e.rule("Code Tampering",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.12",title:"Code Tampering",type:"Information disclosure",status:"Open",severity:"High",description:"Typically, an attacker will exploit code modification via malicious forms of the apps hosted in third-party app stores. The attacker may also trick the user into installing the app via phishing attacks. Possible attack vectors include:Make direct binary changes to the application package's core binaryMake direct binary changes to the resources within the application's packageRedirect or replace system APIs to intercept and execute foreign code that is malicious[55]",mitigation:"The mobile app must be able to detect at runtime that code has been added or changed from what it knows about its integrity at compile time.  The app must be able to react appropriately at runtime to a code integrity violation. Android Root Detection:Typically, an app that has been modified will execute within a Jailbroken or rooted environment.  As such, it is reasonable to try and detect these types of compromised environments at runtime and react accordingly (report to the server or shutdown).  There are a few common ways to detect a rooted Android device:Check for test-keys to see if build. prop includes the line ro. build. tags=test-keys indicating a developer build or unofficial ROMCheck for OTA certificates to see if the file /etc/security/otacerts. zip existsCheck for several known rooted apk\\s such as: com. noshufou. android. su,  com. thirdparty. superuser, eu. chainfire. supersu, com. koushikdutta. superuserCheck for SU binaries in: /system/bin/su, /system/xbin/su, /sbin/su, /system/su, /system/bin/. ext/. suAttempt SU command directly by running the command su and check the id of the current user, if it returns 0 then the su command has been successfulIOS Jailbreak Detection:Visit the following page for more information:[55]"})}),e.rule("Reverse Engineering",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.13",title:"Reverse Engineering",type:"Information disclosure",status:"Open",severity:"Medium",description:"This threat involves attackers who will download the targeted app from an app store and analyze it within their own local environment using a suite of different tools. An attacker must perform an analysis of the final core binary to determine its original string table, source code, libraries, algorithms, and resources embedded within the app. Attackers will use relatively affordable and well-understood tools like IDA Pro, Hopper, otool, strings, and other binary inspection tools from within the attacker's environment.  [56]",mitigation:"To mitigate this threat, an obfuscation tool must be used.  This tool will have the following features:Narrow down what methods / code segments to obfuscate;Tune the degree of obfuscation to balance performance impact;Withstand de-obfuscation from tools like IDA Pro and Hopper;Obfuscate string tables as well as methodsA few suggested tools to use are IDA Pro and Hopper [56]. "})}),e.rule("Extraneous Functionality",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.14",title:"Extraneous Functionality",type:"Repudiation",status:"Open",severity:"High",description:"Typically, an attacker seeks to understand extraneous functionality within a mobile app in order to discover hidden functionality in in backend systems. The attacker will typically exploit extraneous functionality directly from their own systems without any involvement by end-users. An attacker will download and examine the mobile app within their own local environment. They will examine log files, configuration files, and perhaps the binary itself to discover any hidden switches or test code that was left behind by the developers. [57]",mitigation:"Best way to prevent this vulnerability is to perform manual secure code review using security champs or subject matter experts most knowledgeable with this code.   This should be done by:Examine the app\\s configuration settings to discover any hidden switches;Verify that all test code is not included in the final production build of the app;Examine all API endpoints accessed by the mobile app to verify that these endpoints are well documented and publicly available;Examine all log statements to ensure nothing overly descriptive about the backend is being written to the logs[57]"})}),
e.rule("Security Decisions Via Untrusted Inputs",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.15",title:"Security Decisions Via Untrusted Inputs",type:"Tampering",status:"Open",severity:"High",description:"This threat involves entities that can pass untrusted inputs to the sensitive method calls. Examples of such entities include, but are not limited to, users, malware and vulnerable apps  An attacker with access to app can intercept intermediate calls and manipulate results via parameter tampering. [58]",mitigation:"To mitigate this threat, avoid using depreciated/unsupported methods for each platform that the application is being used.  As an example, for iOS, avoid using the handleOpenURL method to process URL scheme calls.  Find an alternative method that is supported by the platform [58]. "})}),e.rule("Improper Session Handling",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.16",title:"Improper Session Handling",type:"Spoofing",status:"Open",severity:"High",description:"Anyone or any mobile app with access to HTTP/S traffic, cookie data, etc.  Possible attack vectors include physical access to the device, and network traffic capture, or malware on the mobile device. Essentially an adversary that has access to the session tokens can impersonate the user by submitting the token to the backend server for any sensitive transactions such as credit card payments or health information like EKG results sent to a doctor. [59]",mitigation:"Validate sessions on the backend by ensuring all session invalidation events are executed on the server side and not just on the mobile app. Add adequate timeout protection to prevent the malicious potential for an unauthorized user to gain access to an existing session and assume the role of that user.  Timeout periods vary accordingly based on the application, but some good guidelines are: 15 minutes for high security apps, 30 minutes for medium security apps, and 1 hour for low security apps. Properly reset cookies during authentication state changes, by destroying sessions on the server side and making sure that the cookies presented as a part of the previous sessions are no longer acceptedIn addition to properly invalidating tokens on the server side during key application events, make sure tokens are generated properly by using well-established and industry standard methods of creating tokens.  Visit the following websites for more details: https://www. pcisecuritystandards. org/documents/Tokenization_Product_Security_Guidelines. pdf and https://tools. ietf. org/html/rfc7519 for JSON Web Token (JWT) and https://www. ietf. org/rfc/rfc6750. txt for Bearer Token Usage[59]"})}),e.rule("Lack of Binary Protections",[[r,"el",'(el.element.attributes.type == "tm.Flow" && isTrue(el.element.isEncrypted)) || (el.element.attributes.type == "tm.Store" && isTrue(el.element.isEncrypted))'],[o,"threats"]],function(e){e.threats.collection.push({ruleId:"8.17",title:"Lack of Binary Protections",type:"Information Disclosure",status:"Open",severity:"High",description:"This threat involves an adversary who will analyze and reverse engineer a mobile app's code, then modify it to perform some hidden functionality. The majority of mobile apps do not prevent an adversary from successfully analyzing, reverse engineering or modifying the app's binary code. [60]",mitigation:"To mitigate this threat from an adversary from analysis and reversing engineering the code, or unauthorized code modification, an application must follow very secure guidelines to activate the following mechanisms in a platform:  \n\nJailbreak Detection Controls; \n\nChecksum Controls; \n\nCertificate Pinning Controls; \n\nDebugger Detection Controls \n\nThese controls also require that the application have two more additional requirements. Firstly, the organization that is making the app must attempt to deny the adversary to analyze and reverse engineer the app using analysis techniques that can be static or dynamic. Lastly, the app must be able to determine at runtime if it's application code has been modified or added and react accordingly. [60]"})})})}var s="threat generation",n={generateForElement:e,generateForElementInContext:t,generateForGraph:i},o=function(){this.collection=[]},r=function(e){this.element=e};return n}var nools=require("nools");module.exports=threatengine;
},{"nools":88}],162:[function(require,module,exports){
angular.module("templates",[]).run(["$templateCache",function(e){e.put("diagrams/confirmReloadOnDirty.html",'\ufeff<div>\n    <div class="modal-header">\n        <h3>Are you sure?</h3>\n    </div>\n    <div class="modal-body">\n        Your diagram has unsaved changes and if you reload they will be lost!\n        Press Cancel to keep the unsaved changes, or press OK to reload the diagram and lose the unsaved changes.\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="onOK()">OK</button>\n        <button class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),e.put("diagrams/diagrameditor.html",'\ufeff<div data-ng-controller="diagram as vm" class="container-fluid diagram-container">\n    <div ng-show="!vm.errored">\n        <div class="col-lg-2">\n            \x3c!--Diagram stencil--\x3e\n            <uib-accordion close-others="true">\n                <div uib-accordion-group is-open="vm.viewStencil">\n                    <uib-accordion-heading>\n                        Edit diagram <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': vm.viewStencil, \'glyphicon-chevron-right\': !vm.viewStencil}"></i>\n                    </uib-accordion-heading>\n                    <div ng-repeat="stencil in vm.stencils">\n                        <div height="120">\n                            <tmt-stencil class="stencil" shape="stencil.shape" padding="5" scale="0.9" action="stencil.action()" />\n                        </div>\n                    </div>\n                </div>\n                \x3c!--Threat pane--\x3e\n                <div uib-accordion-group is-open="vm.viewThreats">\n                    <uib-accordion-heading>\n                        Edit threats <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-down\': vm.viewThreats, \'glyphicon-chevron-right\': !vm.viewThreats}"></i>\n                    </uib-accordion-heading>\n                    <div ng-if="vm.selected">\n                        <div ng-if="!vm.selected.outOfScope">\n                            <tmt-element-threats threats="vm.selected.threats" save="vm.edit()" />\n                        </div>\n                        <div ng-if="vm.selected.outOfScope">\n                            <em>The selected element is out of scope</em>\n                        </div>                       \n                    </div>\n                    <div ng-if="!vm.selected">\n                        <em>Select an element in the diagram to see or edit its threats</em>\n                    </div>\n                </div>\n                <a class="btn btn-primary center-block" ng-click="vm.generateThreatsForEmptyNodesAndViewReport()" role="button">View Threat Report</a>\n            </uib-accordion>\n        </div>\n        \x3c!--Diagram area--\x3e\n        <div class="col-lg-8">\n            <div class="panel panel-default">\n                <div ng-if="!vm.diagram.title" class="panel-heading panel-title">\n                    <span>Loading...</span>\n                </div>\n                <div ng-if="vm.diagram.title" class="panel-heading panel-title">\n                    <span editable-text="vm.diagram.title" onaftersave="vm.save()" e-form="diagramTitleInput" e-required e-placeholder="Diagram title">{{ vm.diagram.title }}</span>\n                    <span class="pull-right glyphicon glyphicon-edit" ng-click="diagramTitleInput.$show()" ng-hide="diagramTitleInput.$visible"></span>\n                </div>\n                <div class="panel-body">\n                    <form name="diagramEditToolBar">\n                        <div class="col-md-12">\n                            <div class="btn-group pull-left" role="group">\n                                <a class="btn btn-default" href="#/threatmodel/{{vm.getThreatModelPath()}}" role="button" data-toggle="tooltip" data-placement="top" title="Cancel Edit">\n                                    <span class="glyphicon glyphicon-remove"></span>\n                                </a>\n                                <button class="btn btn-default" type="button" ng-disabled="vm.currentZoomLevel == vm.maxZoom"  data-toggle="tooltip" ng-click="vm.zoomIn()" data-placement="top" title="Zoom in">\n                                    <span class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" type="button" ng-disabled="vm.currentZoomLevel == -vm.maxZoom" data-toggle="tooltip" ng-click="vm.zoomOut()" data-placement="top" title="Zoom out">\n                                    <span class="glyphicon glyphicon-zoom-out" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" type="button" data-toggle="tooltip" ng-click="vm.clear()" data-placement="top" title="Delete All Elements From This Diagram">\n                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" ng-disabled="!vm.dirty" type="button" data-toggle="tooltip" ng-click="vm.reload()" data-placement="top" title="Discard Changes And Reopen Diagram">\n                                    <span class="fa fa-undo" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" ng-disabled="vm.selected == null || vm.selected.outOfScope" type="button" data-toggle="tooltip" ng-click="vm.generateThreats()" data-placement="top" title="Suggest threats for the selected element">\n                                    <span class="glyphicon glyphicon-flash" aria-hidden="true"></span>\n                                </button>\n                                <button class="btn btn-default" ng-disabled="!vm.dirty" type="button" data-toggle="tooltip" ng-click="vm.save()" data-placement="top" title="Save This Diagram">\n                                    <span class="glyphicon glyphicon-save" aria-hidden="true"></span>\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                    <div class="tmt-diagram-container">\n                        <tmt-diagram graph="vm.graph" select="vm.select(element)" new-flow="vm.newFlow(source, target)" initialise-graph="vm.initialise(diagram)" height="600" width="800" grid-size="1" interactive="true"></tmt-diagram>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!--Element properties--\x3e\n        <div class="col-lg-2">\n            <div class="panel panel-default">\n                <div class="panel-heading panel-title">Properties</div>\n                <div class="panel-body">\n                    <div ng-if="vm.selected && vm.selected.attributes.type != \'tm.Boundary\' ">\n                        <tmt-element-properties edit=" vm.edit()" selected="vm.selected" element-type="{{vm.selected.attributes.type}}"> </tmt-element-properties>\n                    </div>\n                    <div ng-if="!vm.selected || vm.selected.attributes.type === \'tm.Boundary\'">\n                        <em>Select an element in the diagram to see or edit its properties</em>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \x3c!--Error content--\x3e\n    <div ng-show="vm.errored">\n        <div class="jumbotron">\n            <h1>oooops!</h1>\n            <p>\n                It looks like you tried to edit a threat model diagram that doesn\'t exist. Maybe you typed the\n                address wrong? Or if you clicked a link to get here, the diagram might have been\n                deleted since you made the link <span class="fa fa-frown-o"></span>\n            </p>\n            <p>\n                <a href="#">Take me home</a>\n            </p>\n        </div>\n    </div>\n</div>\n'),e.put("diagrams/ElementPropertiesPane.html",'\ufeff<form name="elementPropertiesEditForm">\n    <div>\n        <div class="form-group">\n            <label>Name</label>\n            <input name="nameInput" class="form-control" type="text" ng-model="selected.name" ng-change="edit()" placeholder="Element name" />\n        </div>\n    </div>\n    <div class="checkbox">\n        <label>\n            <input name="checkboxOutOfScope" type="checkbox" ng-model="selected.outOfScope" ng-change="edit()" /> Out of scope\n        </label>\n    </div>\n    <div class="form-group">\n        <label>Reason for out of scope</label>\n        <textarea name="textareaReasonOutOfScope" ng-disabled="!selected.outOfScope" rows="4" class="form-control" type="text" ng-model="selected.reasonOutOfScope" ng-change="edit()" placeholder="Reason for out of scope"></textarea>\n    </div>\n    <div ng-show="elementType === \'tm.Process\'">\n        <div class="form-group">\n            <label>Privilege level</label>\n            <input name="privilegeLevelInput" ng-disabled="selected.outOfScope" class="form-control" type="text" ng-model="selected.privilegeLevel" ng-change="edit()" placeholder="Privilege level" />\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsWebApplication" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isAWebApplication" ng-change="edit()" /> Web Application\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsSwitchingProcess" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isASwitchingProcess" ng-change="edit()" /> Network Switch\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsRoutingProcess" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isARoutingProcess" ng-change="edit()" /> Network Router or Gateway\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsWirelessAccessProcess" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isAWirelessAccessProcess" ng-change="edit()" /> Wireless Access Point\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsConfigurationProcess" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isAConfigurationProcess" ng-change="edit()" /> Configuration Server (Free-Radius, DHCP, Cert Management, etc.)\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsIPSecHostProcess" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isAIPSecHostProcess" ng-change="edit()" /> IPSec Host \n            </label>\n        </div>\n    </div>\n    <div ng-show="elementType === \'tm.Actor\'">\n        <div class="checkbox">\n            <label>\n                <input name="checkboxProvidesAuthentication" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.providesAuthentication" ng-change="edit()" /> Provides Authentication\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsClientEHealthDevice" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.clientEHealthDevice" ng-change="edit()" /> Client eHealth Device\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsMobileDevice" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.mobileDevice" ng-change="edit()" /> Mobile Device\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsDesktopDevice" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.desktopDevice" ng-change="edit()" /> Desktop Device\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxStoresHealthDataLocally" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.storesHealthDataLocally" ng-change="edit()" /> Stores Health Data Locally\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxForwardsHealthDataCloud" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.forwardsHealthDataCloud" ng-change="edit()" /> Forwards Health Data to Cloud\n            </label>\n        </div>\n    </div>\n    <div ng-show="elementType === \'tm.Store\'">\n        <div class="checkbox">\n            <label>\n                <input name="checkboxRemoteMedicalRecordStorage" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.remoteMedicalRecordStorage" ng-change="edit()" /> Remote Storage of Medical Records\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsALog" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isALog" ng-change="edit()" />Stores Event Logs\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxStoresCredentials" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.storesCredentials" ng-change="edit()" /> Stores Credentials\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsEncryptedStore" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isEncrypted" ng-change="edit()" /> Is Encrypted\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsSigned" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isSigned" ng-change="edit()" /> Is Signed\n            </label>\n        </div>\n        \n    </div>\n    <div ng-show="elementType === \'tm.Flow\'">\n        <div class="form-group">\n            <label>Protocol</label>\n            <input name="inputProtocol" ng-disabled="selected.outOfScope" class="form-control" type="text" ng-model="selected.protocol" ng-change="edit()" placeholder="Protocol" />\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsEncryptedFlow" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isEncrypted" ng-change="edit()" /> Is Encrypted\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxIsPublicNetwork" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.isPublicNetwork" ng-change="edit()" /> Link Over Public Network\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxBluetoothInterface" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.bluetoothInterface" ng-change="edit()" /> Bluetooth Interface Link\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxWiFiInterface" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.wifiInterface" ng-change="edit()" /> Wi-Fi Interface Link\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input name="checkboxCellularInterface" ng-disabled="selected.outOfScope" type="checkbox" ng-model="selected.cellularInterface" ng-change="edit()" /> Cellular Interface Link\n            </label>\n        </div>\n    </div>\n</form>\n'),e.put("diagrams/modalAccept.html",'\ufeff<button class="btn btn-primary" ng-disabled="parameter.editing && (!threatEditForm.$dirty || !threatEditForm.$valid)" ng-click="onAction()">\n    Accept\n</button>'),e.put("diagrams/modalIgnore.html",'\ufeff<button class="btn btn-default" ng-click="onAction()">\n    Ignore\n</button>'),e.put("diagrams/ThreatEditPane.html",'\ufeff<div>\n    <div class="modal-header">\n        <h3>{{parameter.heading}}<span class="pull-right" ng-if="parameter.threatTotal"> ({{parameter.threatIndex}} of {{parameter.threatTotal}})</span></h3>\n    </div>\n    <div class="modal-body">\n        <form name="threatEditForm">\n            <div class="form-group">\n                <label>Title</label>\n                <input name="titleInput" class="form-control" ng-required="true" type="text" ng-model="parameter.threat.title" placeholder="A short title for the threat" />\n                <div ng-show="!threatEditForm.titleInput.$valid && threatEditForm.titleInput.$dirty">\n                    <p>\n                        <div class="alert alert-danger" role="alert">\n                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\n                            <span class="sr-only">Error:</span>\n                            The threat title cannot be empty.\n                        </div>\n                    </p>\n                </div>\n            </div>\n            <div class="form-group">\n                <label>STRIDE threat type</label>\n                <select name="typeInput" class="form-control" ng-required="true" ng-model="parameter.threat.type">\n                    <option selected>Spoofing</option>\n                    <option>Tampering</option>\n                    <option>Repudiation</option>\n                    <option>Information disclosure</option>\n                    <option>Denial of service</option>\n                    <option>Elevation of privilege</option>\n                </select>\n                <div ng-show="!threatEditForm.typeInput.$valid && threatEditForm.typeInput.$dirty">\n                    <p>\n                        <div class="alert alert-danger" role="alert">\n                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\n                            <span class="sr-only">Error:</span>\n                            The threat type cannot be empty.\n                        </div>\n                    </p>\n                </div>\n            </div>\n            <div class="form-group pull-left">\n                <label>Threat status</label>\n                <div>\n                    <div class="btn-group" name="statusInput">\n                        <label class="btn btn-primary" name="statusInputOpen" ng-model="parameter.threat.status" uib-btn-radio="\'Open\'">Open</label>\n                        <label class="btn btn-primary" name="statusInputMitigated" ng-model="parameter.threat.status" uib-btn-radio="\'Mitigated\'">Mitigated</label>\n                    </div>\n                </div>\n            </div>\n            <div class="form-group pull-right">\n                <label>Severity</label>\n                <div>\n                    <div class="btn-group" required>\n                        <label class="btn btn-default" ng-model="parameter.threat.severity" uib-btn-radio="\'High\'">High</label>\n                        <label class="btn btn-default" ng-model="parameter.threat.severity" uib-btn-radio="\'Medium\'">Medium</label>\n                        <label class="btn btn-default" ng-model="parameter.threat.severity" uib-btn-radio="\'Low\'">Low</label>\n                    </div>\n                </div>\n            </div>\n            <div class="clearfix"></div>\n            <div class="form-group">\n                <label>Description</label>\n                <textarea name="descriptionInput" ng-model="parameter.threat.description" class="form-control" rows="5" placeholder="Detailed description of the threat"></textarea>\n            </div>\n            <div class="form-group">\n                <label>Mitigations</label>\n                <textarea name="mitigationInput" ng-model="parameter.threat.mitigation" class="form-control" rows="5" placeholder="Mitigations for the threat"></textarea>\n            </div>\n        </form>\n    </div>\n    <div ng-if="parameter.editing" class="modal-footer">\n        <button class="btn btn-primary" ng-disabled="!threatEditForm.$dirty || !threatEditForm.$valid" ng-click="onOK()">Save</button>\n        <button class="btn btn-default" ng-click="onCancel()">Cancel</button>\n    </div>\n    <div ng-if="!parameter.editing" class="modal-footer">\n        <span class="pull-left">\n            <input type="checkbox" ng-model="applyToAll">\n            Do this for all remaining threats \n        </span>\n        <tmt-modal-close action="onOK(applyToAll)" new-class="fade-left" template-url="diagrams/modalAccept.html"></tmt-modal-close>\n        <tmt-modal-close action="onCancel(applyToAll)" new-class="fade-down" template-url="diagrams/modalIgnore.html"></tmt-modal-close>\n    </div>\n</div>\n'),e.put("diagrams/ThreatSummaryPane.html",'\ufeff<ul id="threatSummaryPane" class="list-group">\n    <li class="list-group-item" ng-repeat="threat in threats">\n        <a id="editThreat{{$index}}" href="" ng-click="onEditThreat($index)" data-toggle="tooltip" data-placement="top" title="Edit {{threat.title}}">\n            <div class="text-overflow"><small>{{threat.title}}</small></div>\n        </a>\n        <div>\n            <small>{{threat.type}}</small>\n        </div>\n        <div>\n            <span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[threat.status]" data-toggle="tooltip" data-placement="top" title="{{threat.status}}"></span>\n            <span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[threat.severity]" data-toggle="tooltip" data-placement="top" title="{{threat.severity}}"></span>\n            <span id="remove{{$index}}" class="pull-right glyphicon glyphicon-remove severity-high" ng-click="removeThreat($index)" data-toggle="tooltip" data-placement="top" title="Remove this threat"></span>\n        </div>\n    </li>\n</ul> \n<button id="buttonNewThreat" class="btn btn-link" ng-click="onNewThreat()">\n    <span class="glyphicon glyphicon-plus"></span> Add a new threat...\n</button>\n'),e.put("layout/pager.html",'<div class="clearfix" ng-if="canPrevious || canNext">\n    <button ng-disabled="!canPrevious" class="pull-left btn btn-link" ng-click="previous()">Previous page</button>\n    <button ng-disabled="!canNext" class="pull-right  btn btn-link" href="" ng-click="next()">Next page</button>\n</div>\n<div class="list-group">\n    <a ng-repeat="item in items" ng-click="select({item: item})" class="list-group-item h4">{{item}}</a>\n</div>\n<div ng-if="(canPrevious || canNext) && items.length >= 10">\n    <button ng-disabled="!canPrevious" class="pull-left btn btn-link" ng-click="previous()">Previous page</button>\n    <button ng-disabled="!canNext" class="pull-right  btn btn-link" href="" ng-click="next()">Next page</button>\n</div>\n'),e.put("layout/structuredExit.html",'\ufeff<div id="structuredExitModal">\n    <div class="modal-header">\n        <h3>Are you sure you want to leave this page?</h3>\n    </div>\n    <div class="modal-body">\n        You have unsaved changes and if you leave this page they will be lost!\n        Press Cancel to stay where you are and keep the unsaved changes,\n        or press OK to leave and lose the unsaved changes.\n    </div>\n    <div class="modal-footer">\n        <button id="buttonOK" class="btn btn-default" ng-click="onOK()">OK</button>\n        <button id="buttonCancel" class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),e.put("report/confirmThreatAutoGeneration.html",'<div>\n    <div class="modal-header">\n        <h3>Are you sure?</h3>\n    </div>\n    <div class="modal-body">\n        Some nodes in your diagram do not have threats defined. Would you like to automatically generate for these nodes?\n    </div>\n    <div class="modal-body">\n        Press Cancel to view the threat report without generating additional threats, or press OK to automatically generate threats for empty nodes.\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="onOK()">OK</button>\n        <button class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),
e.put("report/ThreatReport.html",'<div data-ng-controller="ThreatReport as vm" class="container-fluid diagram-container">\n    <div class="tab">\n        <button class="tablinks" id="defaultTab" ng-click="vm.activateTab($event, \'Threats\')">Threats</button>\n        <button class="tablinks" ng-click="vm.activateTab($event, \'Countermeasures\')">Countermeasures</button>\n    </div>\n    <div id="Threats" class="tabcontent">\n        <table class="tg" style="width:100%">\n            <thead>\n                <tr>\n                    <th>No.</th>\n                    <th>COMPONENT</th>\n                    <th>THREAT TYPE</th>\n                    <th>DESCRIPTION</th>\n                    <th>STATUS</th>\n                    <th>SEVERITY</th>\n                </tr>\n            </thead>\n            <tbody ng-repeat="element in vm.getScopedNonFlowOrBoundaryElements()">\n                <tr ng-if="$odd" class="odd" ng-click="vm.editThreat(element.threats[0])">\n                    <td class="noHover" rowspan="{{element.threats.length > 0 ? element.threats.length : 1}}" ng-click="$event.stopPropagation()"><span>{{ $index }}</span></td>\n                    <td class="noHover bottom-right-container" rowspan="{{element.threats.length > 0 ? element.threats.length : 1}}" ng-click="$event.stopPropagation()">\n                        <div style="margin-right: 36px;">\n                            <span>{{ element.name }}</span>\n                        </div>\n                        <div class="bottom-right">\n                            <button class="btn btn-link" ng-click="vm.onAddNewThreat(element)" data-toggle="tooltip" data-placement="top" title="Add a new threat to this node">\n                                <span class="glyphicon glyphicon-plus"></span>\n                            </button>\n                        </div>\n                    </td>\n                    <td><span>{{element.threats[0].type}}</span></td>\n                    <td><span>{{element.threats[0].description}}</span></td>\n                    <td><span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[element.threats[0].status]">{{element.threats[0].status}}</span></td>\n                    <td><span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[element.threats[0].severity]">{{element.threats[0].severity}}</span></td>\n                </tr>\n                <tr ng-if="$even" class="even" ng-click="vm.editThreat(element.threats[0])">\n                    <td class="noHover" rowspan="{{element.threats.length > 0 ? element.threats.length : 1}}" ng-click="$event.stopPropagation()"><span>{{ $index }}</span></td>\n                    <td class="noHover bottom-right-container" rowspan="{{element.threats.length > 0 ? element.threats.length : 1}}" ng-click="$event.stopPropagation()">\n                        <div style="margin-right: 36px;">\n                            <span>{{ element.name }}</span>\n                        </div>\n                        <div class="bottom-right">\n                            <button class="btn btn-link" ng-click="vm.onAddNewThreat(element)" data-toggle="tooltip" data-placement="top" title="Add a new threat to this node">\n                                <span class="glyphicon glyphicon-plus"></span>\n                            </button>\n                        </div>\n                    </td>\n                    <td><span>{{element.threats[0].type}}</span></td>\n                    <td><span>{{element.threats[0].description}}</span></td>\n                    <td><span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[element.threats[0].status]">{{element.threats[0].status}}</span></td>\n                    <td><span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[element.threats[0].severity]">{{element.threats[0].severity}}</span></td>\n                </tr>\n                <tr ng-repeat="threat in element.threats" ng-if="$index > 0 && $parent.$odd" class="odd" ng-click="vm.editThreat(element.threats[$index])">\n                    <td><span>{{threat.type}}</span></td>\n                    <td><span>{{threat.description}}</span></td>\n                    <td><span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[threat.status]">{{threat.status}}</span></td>\n                    <td><span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[threat.severity]">{{threat.severity}}</span></td>\n                </tr>\n                <tr ng-repeat="threat in element.threats" ng-if="$index > 0 && $parent.$even" class="even" ng-click="vm.editThreat(element.threats[$index])">\n                    <td><span>{{threat.type}}</span></td>\n                    <td><span>{{threat.description}}</span></td>\n                    <td><span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[threat.status]">{{threat.status}}</span></td>\n                    <td><span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[threat.severity]">{{threat.severity}}</span></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div id="Countermeasures" class="tabcontent">\n        <table class="tg" style="width:100%">\n            <thead>\n            <tr>\n                <th>No.</th>\n                <th>COMPONENT</th>\n                <th>THREAT TYPE</th>\n                <th>COUNTERMEASURE</th>\n                <th>STATUS</th>\n                <th>SEVERITY</th>\n            </tr>\n            </thead>\n            <tbody ng-repeat="element in vm.getScopedNonFlowOrBoundaryElements()">\n                <tr ng-if="$odd" class="odd" ng-click="vm.editThreat(element.threats[0])">\n                    <td class="noHover" rowspan="{{element.threats.length > 0 ? element.threats.length : 1}}" ng-click="$event.stopPropagation()"><span>{{ $index }}</span></td>\n                    <td class="noHover bottom-right-container" rowspan="{{element.threats.length > 0 ? element.threats.length : 1}}" ng-click="$event.stopPropagation()">\n                        <div style="margin-right: 36px;">\n                            <span>{{ element.name }}</span>\n                        </div>\n                        <div class="bottom-right">\n                            <button class="btn btn-link" ng-click="vm.onAddNewThreat(element)" data-toggle="tooltip" data-placement="top" title="Add a new threat to this node">\n                                <span class="glyphicon glyphicon-plus"></span>\n                            </button>\n                        </div>\n                    </td>\n                    <td><span>{{element.threats[0].type}}</span></td>\n                    <td><span>{{element.threats[0].mitigation}}</span></td>\n                    <td><span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[element.threats[0].status]">{{element.threats[0].status}}</span></td>\n                    <td><span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[element.threats[0].severity]">{{element.threats[0].severity}}</span></td>\n                </tr>\n                <tr ng-if="$even" class="even" ng-click="vm.editThreat(element.threats[0])">\n                    <td class="noHover" rowspan="{{element.threats.length > 0 ? element.threats.length : 1}}" ng-click="$event.stopPropagation()"><span>{{ $index }}</span></td>\n                    <td class="noHover bottom-right-container" rowspan="{{element.threats.length > 0 ? element.threats.length : 1}}" ng-click="$event.stopPropagation()">\n                        <div style="margin-right: 36px;">\n                            <span>{{ element.name }}</span>\n                        </div>\n                        <div class="bottom-right">\n                            <button class="btn btn-link" ng-click="vm.onAddNewThreat(element)" data-toggle="tooltip" data-placement="top" title="Add a new threat to this node">\n                                <span class="glyphicon glyphicon-plus"></span>\n                            </button>\n                        </div>\n                    </td>\n                    <td><span>{{element.threats[0].type}}</span></td>\n                    <td><span>{{element.threats[0].mitigation}}</span></td>\n                    <td><span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[element.threats[0].status]">{{element.threats[0].status}}</span></td>\n                    <td><span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[element.threats[0].severity]">{{element.threats[0].severity}}</span></td>\n                </tr>\n                <tr ng-repeat="threat in element.threats" ng-if="$index > 0 && $parent.$odd" class="odd" ng-click="vm.editThreat(element.threats[$index])">\n                    <td><span>{{threat.type}}</span></td>\n                    <td><span>{{threat.mitigation}}</span></td>\n                    <td><span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[threat.status]">{{threat.status}}</span></td>\n                    <td><span ng-class="{Low:\'fa fa-circle severity-low\', Medium:\'fa fa-circle severity-medium\', High:\'fa fa-circle severity-high\'}[threat.severity]">{{threat.severity}}</span></td>\n                </tr>\n                <tr ng-repeat="threat in element.threats" ng-if="$index > 0 && $parent.$even" class="even" ng-click="vm.editThreat(element.threats[$index])">\n                    <td><span>{{threat.type}}</span></td>\n                    <td><span>{{threat.mitigation}}</span></td>\n                    <td><span ng-class="{Open:\'severity-high fa fa-exclamation-triangle\', Mitigated:\'severity-low fa fa-check\'}[threat.status]">{{threat.status}}</span></td>\n'+"                    <td><span ng-class=\"{Low:'fa fa-circle severity-low', Medium:'fa fa-circle severity-medium', High:'fa fa-circle severity-high'}[threat.severity]\">{{threat.severity}}</span></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n"),e.put("threatmodels/confirmDelete.html",'<div>\n    <div class="modal-header">\n        <h3>Are you sure?</h3>\n    </div>\n    <div class="modal-body">\n        You are about to delete this threat model. It cannot be undone!\n        Press Cancel to keep the threat model, or press OK to delete the threat model.\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="onOK()">OK</button>\n        <button class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),e.put("threatmodels/confirmReloadOnDirty.html",'\ufeff<div>\n    <div class="modal-header">\n        <h3>Are you sure?</h3>\n    </div>\n    <div class="modal-body">\n        Your threat model has unsaved changes and if you reload they will be lost!\n        Press Cancel to keep the unsaved changes, or press OK to reload the threat model and lose the unsaved changes.\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="onOK()">OK</button>\n        <button class="btn btn-primary" ng-click="onCancel()">Cancel</button>\n    </div>\n</div>\n'),e.put("threatmodels/threatmodeldetail.html",'\ufeff<div data-ng-controller="threatmodel as vm" class="container-fluid">\n    <div ng-if="!vm.threatModel.summary && !vm.errored">\n        <p class="h3 text-center">Your threat model is loading...</p>\n        <div class="spinner"></div>\n    </div>\n    <div ng-if="!vm.errored && vm.threatModel.summary">\n        <div class="panel panel-default">\n            <div class="panel-heading panel-title">\n                <a href="#/threatmodel/edit/{{vm.threatModelPath()}}"><h4>{{vm.threatModel.summary.title}}</h4></a>\n            </div>\n            <div class="panel-body">\n                <div class="col-md-2">\n                    <div><strong>Owner: </strong></div>\n                    <div>{{vm.threatModel.summary.owner}}</div>\n                </div>\n                <div class="col-md-2">\n                    <div><strong>Reviewer: </strong></div>\n                    <div>{{vm.threatModel.detail.reviewer}}</div>\n                </div>\n                <div class="col-md-8">\n                    <div><strong>Contributors: </strong></div>\n                    <div>\n                        <span ng-repeat="contributor in vm.threatModel.detail.contributors"> {{contributor.name}}<span ng-show=" ! $last ">;</span></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="panel panel-default">\n            <div class="panel-heading panel-title">\n                <h4>High level system description</h4>\n            </div>\n            <div class="panel-body">\n                <div class="col-md-12">{{vm.threatModel.summary.description}}</div>\n            </div>\n        </div>\n        <div class="panel-body">\n            <div ng-repeat-start="diagram in vm.threatModel.detail.diagrams">\n                <div class="col-md-3">\n                    <div class="panel panel-default">\n                        <div class="panel-heading panel-title">\n                            <a href="#/threatmodel/{{vm.threatModelPath()}}/diagram/{{diagram.id}}"><h6>{{diagram.title}}</h6></a>\n                        </div>\n                        <div class="panel-body">\n                            <a href="#/threatmodel/{{vm.threatModelPath()}}/diagram/{{diagram.id}}">\n                                <img ng-src="{{diagram.thumbnail}}" class="img-thumbnail center-block" alt="Thumbnail of {{diagram.title}}" />\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="(($index+1) % 4) == 0" class="clearfix visible-lg-block"></div>\n            <div ng-repeat-end ng-hide></div>\n        </div>\n        <div class="row">\n            <div class="col-md-12">\n                <div class="btn-group pull-right" role="group">\n                    <a class="btn btn-primary" href="#/threatmodel/edit/{{vm.threatModelPath()}}" \n                    role="button" data-toggle="tooltip" data-placement="top" title="Edit This Threat Model">\n                        <span class="glyphicon glyphicon-edit"></span> Edit\n                    </a>\n                    <button class="btn btn-default" role="button" ng-click="vm.deleteModel()" data-toggle="tooltip" data-placement="top" title="Delete This Threat Model">\n                        <span class="glyphicon glyphicon-remove"></span>  Delete\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="vm.errored">\n        <div class="jumbotron">\n            <h1>oooops!</h1>\n            <p>\n                It looks like you tried to view an invalid threat model. Maybe you typed the\n                address wrong? Or if you clicked a link to get here, the threat model might have been\n                deleted since you made the link <span class="fa fa-frown-o"></span>\n            </p>\n            <p>\n                <a href="#">Take me home</a>\n            </p>\n        </div>\n    </div>\n</div>'),e.put("threatmodels/threatmodeledit.html",'\ufeff<div data-ng-controller="threatmodel as vm" class="container-fluid">\n    <div ng-if="!vm.threatModel.summary && !vm.errored && !vm.isNewModel">\n        <p class="h3 text-center">Your threat model is loading...</p>\n        <div class="spinner"></div>\n    </div>\n    <div class="panel panel-default" ng-if="vm.threatModel.summary">\n        \x3c!--heading--\x3e\n        <div class="panel panel-heading">\n            <h4>Editing: {{vm.threatModel.summary.title}}</h4>\n        </div>\n        <div class="panel panel-body">\n            <form name="vm.threatModelEditForm">\n                \x3c!--title--\x3e\n                <div class="form-group col-md-12">\n                    <label>Title</label>\n                    <input name="threatModelTitle" class="form-control" type="text" ng-model="vm.threatModel.summary.title" ng-required="true"\n                        placeholder="Threat model title" />\n                    <div ng-show="vm.threatModelEditForm.threatModelTitle.$dirty && !vm.threatModelEditForm.threatModelTitle.$valid">\n                        <p>\n                            <div class="alert alert-danger" role="alert">\n                                <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>\n                                <span class="sr-only">Error:</span> The threat model title cannot be empty.\n                            </div>\n                        </p>\n                    </div>\n                    <div ng-show="vm.willMoveThreatModel({model: vm.threatModelEditForm.threatModelTitle.$viewValue}) && !vm.isNewModel()">                      \n                        <p>\n                            <div class="alert alert-info" role="alert">\n                                <span class="fa fa-info-circle" aria-hidden="true"></span>\n                                <span class="sr-only">Warning:</span> Changing the model title will delete the old model\n                                and create a new one to replace it.\n                            </div>\n                        </p>\n                    </div>\n                </div>\n                \x3c!--Owner--\x3e\n                <div class="form-group col-md-6">\n                    <label>Owner</label>\n                    <input class="form-control" type="text" ng-model="vm.threatModel.summary.owner" placeholder="The owner of the threat model"\n                    />\n                </div>\n                \x3c!--reviewer--\x3e\n                <div class="form-group col-md-6">\n                    <label>Reviewer</label>\n                    <input class="form-control" type="text" ng-model="vm.threatModel.detail.reviewer" placeholder="The reviewer of the threat model"\n                    />\n                </div>\n                \x3c!--description--\x3e\n                <div class="form-group col-md-12">\n                    <label>High level system description</label>\n                    <textarea rows="5" class="form-control" ng-model="vm.threatModel.summary.description" placeholder="A high level description of the system"></textarea>\n                </div>\n                \x3c!--contributors--\x3e\n                <div class="form-group col-md-12">\n                    <label>Contributors</label>\n                    <div ng-repeat="contributor in vm.threatModel.detail.contributors" ng-form="contributorSubForm">\n                        <div class="col-md-6">\n                            <p>\n                                <div class="input-group">\n                                    <input name="contributorName" class="form-control" type="text" ng-model="contributor.name" required placeholder="The name of a contributor to the threat model"\n                                    />\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-default" data-toggle="tooltip" ng-click="vm.removeContributor($index)" data-placement="top" title="Remove This Contributor" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-remove"></span>                                    Remove\n                                    </button>\n                                    </span>\n                                </div>\n                            </p>\n                            <div ng-show="contributorSubForm.contributorName.$dirty && !contributorSubForm.contributorName.$valid">\n                                <p>\n                                    <div class="alert alert-danger" role="alert">\n                                        <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>\n                                        <span class="sr-only">Error:</span> The contributor name cannot be empty.\n                                    </div>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-repeat-end>\n                        <div class="col-md-6">\n                            <p>\n                                <div class="input-group" ng-show="vm.addingContributor">\n                                    <input class="form-control" name="newContributorNameInput" type="text" ng-model="vm.newContributor" placeholder="The name of a contributor"\n                                    />\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-default" ng-disabled="vm.newContributor.length == 0" data-toggle="tooltip" ng-click="vm.addContributor()" data-placement="top" title="Add this contributor" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-plus"></span>                                    Add\n                                    </button>\n                                    </span>\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-link" data-toggle="tooltip" ng-click="vm.cancelAddingContributor()" data-placement="top" title="Cancel adding this contributor" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-remove"></span>                                    Cancel\n                                    </button>\n                                    </span>\n                                </div>\n                                <div ng-hide="vm.addingContributor">\n                                    <button class="btn btn-link" ng-click="vm.startAddingContributor()">\n                                        <span class="glyphicon glyphicon-plus"></span> Add a new contributor...\n                                    </button>\n                                </div>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                \x3c!--diagrams--\x3e\n                <div class="form-group col-md-12">\n                    <label>Diagrams</label>\n                    <div ng-repeat="diagram in vm.threatModel.detail.diagrams" ng-form="diagramSubForm">\n                        <div class="col-md-6">\n                            <p>\n                                <div class="input-group">\n                                    <input name="diagramTitle" class="form-control" type="text" ng-model="diagram.title" required placeholder="Diagram title"\n                                    />\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-default" data-toggle="tooltip" ng-click="vm.removeDiagram($index)" data-placement="top" title="Remove This Diagram" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-remove"></span>                                    Remove\n                                    </button>\n                                    </span>\n                                </div>\n                            </p>\n                            <div ng-show="diagramSubForm.diagramTitle.$dirty && !diagramSubForm.diagramTitle.$valid">\n                                <p>\n                                    <div class="alert alert-danger" role="alert">\n                                        <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>\n                                        <span class="sr-only">Error:</span> The diagram title cannot be empty.\n                                    </div>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-repeat-end>\n                        <div class="col-md-6">\n                            <p>\n                                <div class="input-group" ng-show="vm.addingDiagram">\n                                    <input class="form-control" type="text" ng-model="vm.newDiagram.title" placeholder="Diagram title" />\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-default" ng-disabled="vm.newDiagram.title.length == 0" data-toggle="tooltip" ng-click="vm.addDiagram()" data-placement="top" title="Add this diagram" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-plus"></span>                                    Add\n                                    </button>\n                                    </span>\n                                    <span class="input-group-btn">\n                                        <button class="btn btn-link" data-toggle="tooltip" ng-click="vm.cancelAddingDiagram()" data-placement="top" title="Cancel adding this diagram" aria-hidden="true" type="button">\n                                            <span class="glyphicon glyphicon-remove"></span>                                    Cancel\n                                    </button>\n                                    </span>\n                                </div>\n                                <div ng-hide="vm.addingDiagram">\n                                    <button class="btn btn-link" ng-click="vm.startAddingDiagram()">\n                                        <span class="glyphicon glyphicon-plus"></span> Add a new diagram...\n                                    </button>\n                                </div>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                \x3c!--buttons--\x3e\n                <div class="col-md-3 col-md-offset-9">\n                    <div class="btn-group pull-right" role="group">\n                        <button class="btn btn-default" ng-click="vm.cancel()" data-toggle="tooltip" data-placement="top" title="Cancel Editing"\n                            type="button">\n                            <span class="glyphicon glyphicon-remove"></span> Cancel\n                        </button>\n                        <button class="btn btn-default" ng-disabled="!vm.dirty" ng-click="vm.reload()" data-toggle="tooltip" data-placement="top"\n                            title="Reset Form" type="button">\n                            <span class="fa fa-undo"></span> Reload\n                        </button>\n                        <button class="btn btn-primary" ng-disabled="!vm.dirty || !vm.threatModelEditForm.$valid" ng-click="vm.isNewModel() ? vm.create() : vm.save()"\n                            data-toggle="tooltip" data-placement="top" title="Save Changes" type="button">\n                            <span class="glyphicon glyphicon-save"></span> Save\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    \x3c!--oops--\x3e\n    <div ng-if="vm.errored">\n        <div class="jumbotron">\n            <h1>oooops!</h1>\n            <p>\n                It looks like you tried to edit an invalid threat model. Maybe you typed the address wrong? Or if you clicked a link to get\n                here, the threat model might have been deleted since you made the link <span class="fa fa-frown-o"></span>\n            </p>\n            <p>\n                <a href="#/">Take me home</a>\n            </p>\n        </div>\n    </div>\n</div>')}]);
},{}],163:[function(require,module,exports){
"use strict";var core=angular.module("owasp-threat-dragon-core"),threatmodel=require("./threatmodel");core.controller("threatmodel",["$scope","$location","$routeParams","dialogs","common","datacontext","threatmodellocator",threatmodel]);
},{"./threatmodel":164}],164:[function(require,module,exports){
"use strict";function threatModel(t,e,n,r,o,i,a){function d(t){function e(t){return L.threatModelEditForm?L.threatModelEditForm.$setPristine():L.dirty=!1,L.threatModel=t,L.threatModel}if(A())return L.threatModel={summary:{},detail:{contributors:[],diagrams:[]}},i.threatModel=L.threatModel,L.threatModel;var r=a.getModelLocation(n);return i.load(r,t).then(e,E)}function l(){function t(t){L.dirty=!1,e.path("/threatmodel/"+a.getModelPath(t.location))}i.update().then(t,E)}function u(){function t(t){L.dirty=!1,e.path("/threatmodel/"+a.getModelPath(t.location))}i.create(n,L.threatModel).then(t,E)}function c(){L.dirty?r.confirm("threatmodels/confirmReloadOnDirty.html",function(){d(!0)},function(){return null},function(){}):d(!0)}function h(){return a.getModelPathFromRouteParams(n)}function f(){return a.getModelLocation(n)}function m(t){return a.willMoveModel(n,t)}function g(){r.confirm("threatmodels/confirmDelete.html",function(){i.deleteModel().then(M,x)},function(){return null},function(){})}function M(){L.dirty=!1,e.path("/")}function s(){_.isUndefined(L.threatModel.summary.title)?e.path("/"):e.path("/threatmodel/"+L.threatModelPath())}function b(t){L.threatModel.detail.contributors.splice(t,1),L.dirty=!0}function D(t){L.threatModel.detail.diagrams.splice(t,1),L.dirty=!0}function y(){L.threatModel.detail.contributors.push({name:L.newContributor}),L.newContributor="",L.addingContributor=!1,L.dirty=!0}function w(){L.addingContributor=!1,L.newContributor=""}function p(){L.addingContributor=!0}function C(){L.newDiagram.id=L.threatModel.detail.diagrams.length,L.threatModel.detail.diagrams.push(L.newDiagram),L.newDiagram=F(),L.addingDiagram=!1,L.dirty=!0}function v(){L.addingDiagram=!1,L.newDiagram=F()}function P(){L.addingDiagram=!0}function F(){return{title:"",thumbnail:"./public/content/images/thumbnail.jpg"}}function A(){return e.path().substr(0,16)===a.newModelLocation}function E(t){L.errored=!0,x(t.data.message)}var L=this,$="threatmodel",T=o.logger.getLogFn,U=T($),x=T($,"error");L.errored=!1,L.title="Threat Model Details",L.threatModel={},L.removeContributor=b,L.addContributor=y,L.removeDiagram=D,L.addDiagram=C,L.save=l,L.create=u,L.reload=c,L.threatModelPath=h,L.threatModelLocation=f,L.willMoveThreatModel=m,L.deleteModel=g,L.cancel=s,L.newContributor="",L.addingContributor=!1,L.cancelAddingContributor=w,L.startAddingContributor=p,L.newDiagram=F(),L.addingDiagram=!1,L.cancelAddingDiagram=v,L.startAddingDiagram=P,L.isNewModel=A,t.$watch(function(){if(!_.isUndefined(L.threatModelEditForm))return L.threatModelEditForm.$dirty},function(t){_.isUndefined(t)||(L.dirty=t)}),t.$on("$locationChangeStart",function(t,e,n){L.dirty&&r.structuredExit(t,function(){},function(){L.dirty=!1})}),function(){o.activateController([d()],$).then(function(){U("Activated Threat Model Detail View")})}()}var _=require("lodash");module.exports=threatModel;
},{"lodash":87}],165:[function(require,module,exports){
!function(n,t){"use strict";function e(n,t,e){if(!n)throw ln("areq","Argument '{0}' is {1}",t||"?",e||"required");return n}function a(n,t){return n||t?n?t?(V(n)&&(n=n.join(" ")),V(t)&&(t=t.join(" ")),n+" "+t):n:t:""}function r(n){var t={};return n&&(n.to||n.from)&&(t.to=n.to,t.from=n.from),t}function i(n,t,e){var a="";return n=V(n)?n:n&&Y(n)&&n.length?n.split(/\s+/):[],U(n,function(n,r){n&&n.length>0&&(a+=r>0?" ":"",a+=e?t+n:n+t)}),a}function o(n,t){var e=n.indexOf(t);t>=0&&n.splice(e,1)}function s(n){if(n instanceof _)switch(n.length){case 0:return n;case 1:if(n[0].nodeType===R)return n;break;default:return _(u(n))}if(n.nodeType===R)return _(n)}function u(n){if(!n[0])return n;for(var t=0;t<n.length;t++){var e=n[t];if(e.nodeType===R)return e}}function l(n,t,e){U(t,function(t){n.addClass(t,e)})}function c(n,t,e){U(t,function(t){n.removeClass(t,e)})}function f(n){return function(t,e){e.addClass&&(l(n,t,e.addClass),e.addClass=null),e.removeClass&&(c(n,t,e.removeClass),e.removeClass=null)}}function m(n){if(n=n||{},!n.$$prepared){var t=n.domOperation||nn;n.domOperation=function(){n.$$domOperationFired=!0,t(),t=nn},n.$$prepared=!0}return n}function d(n,t){v(n,t),p(n,t)}function v(n,t){t.from&&(n.css(t.from),t.from=null)}function p(n,t){t.to&&(n.css(t.to),t.to=null)}function h(n,t,e){var a=t.options||{},r=e.options||{},i=(a.addClass||"")+" "+(r.addClass||""),o=(a.removeClass||"")+" "+(r.removeClass||""),s=g(n.attr("class"),i,o);r.preparationClasses&&(a.preparationClasses=k(r.preparationClasses,a.preparationClasses),delete r.preparationClasses);var u=a.domOperation!==nn?a.domOperation:null;return Q(a,r),u&&(a.domOperation=u),s.addClass?a.addClass=s.addClass:a.addClass=null,s.removeClass?a.removeClass=s.removeClass:a.removeClass=null,t.addClass=a.addClass,t.removeClass=a.removeClass,a}function g(n,t,e){function a(n){Y(n)&&(n=n.split(" "));var t={};return U(n,function(n){n.length&&(t[n]=!0)}),t}var r={};n=a(n),t=a(t),U(t,function(n,t){r[t]=1}),e=a(e),U(e,function(n,t){r[t]=1===r[t]?null:-1});var i={addClass:"",removeClass:""};return U(r,function(t,e){var a,r;1===t?(a="addClass",r=!n[e]||n[e+L]):-1===t&&(a="removeClass",r=n[e]||n[e+q]),r&&(i[a].length&&(i[a]+=" "),i[a]+=e)}),i}function $(n){return n instanceof _?n[0]:n}function C(n,t,e){var a="";t&&(a=i(t,H,!0)),e.addClass&&(a=k(a,i(e.addClass,q))),e.removeClass&&(a=k(a,i(e.removeClass,L))),a.length&&(e.preparationClasses=a,n.addClass(a))}function y(n,t){t.preparationClasses&&(n.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(n.removeClass(t.activeClasses),t.activeClasses=null)}function D(n,t){var e=t?"-"+t+"s":"";return A(n,[sn,e]),[sn,e]}function b(n,t){var e=t?"paused":"",a=E+an;return A(n,[a,e]),[a,e]}function A(n,t){var e=t[0],a=t[1];n.style[e]=a}function k(n,t){return n?t?n+" "+t:n:t}function w(n){return[on,n+"s"]}function T(n,t){return[t?rn:sn,n+"s"]}function S(n,t,e){var a=Object.create(null),r=n.getComputedStyle(t)||{};return U(e,function(n,t){var e=r[n];if(e){var i=e.charAt(0);("-"===i||"+"===i||i>=0)&&(e=j(e)),0===e&&(e=null),a[t]=e}}),a}function j(n){var t=0,e=n.split(/\s*,\s*/);return U(e,function(n){"s"===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n=parseFloat(n)||0,t=t?Math.max(n,t):n}),t}function x(n){return 0===n||null!=n}function O(n,t){var e=F,a=n+"s";return t?e+=tn:a+=" linear all",[e,a]}function P(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){var e=n[t];return e?e.total:0},get:function(t){var e=n[t];return e&&e.value},put:function(t,e){n[t]?n[t].total++:n[t]={total:1,value:e}}}}function N(n,t,e){U(e,function(e){n[e]=W(n[e])?n[e]:t.style.getPropertyValue(e)})}var F,M,E,I,R=1,q="-add",L="-remove",H="ng-",B="ng-animate",J="$$ngAnimateChildren";void 0===n.ontransitionend&&void 0!==n.onwebkittransitionend?("-webkit-",F="WebkitTransition",M="webkitTransitionEnd transitionend"):(F="transition",M="transitionend"),void 0===n.onanimationend&&void 0!==n.onwebkitanimationend?("-webkit-",E="WebkitAnimation",I="webkitAnimationEnd animationend"):(E="animation",I="animationend");var K,Q,U,V,W,z,G,X,Y,Z,_,nn,tn="Duration",en="TimingFunction",an="PlayState",rn=E+"Delay",on=E+tn,sn=F+"Delay",un=F+tn,ln=t.$$minErr("ng"),cn=["$$rAF",function(n){function t(n){a=a.concat(n),e()}function e(){if(a.length){for(var t=a.shift(),i=0;i<t.length;i++)t[i]();r||n(function(){r||e()})}}var a,r;return a=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=n(function(){r=null,t(),e()})},t}],fn=["$interpolate",function(n){return{link:function(t,e,a){function r(n){n="on"===n||"true"===n,e.data(J,n)}var i=a.ngAnimateChildren;Y(i)&&0===i.length?e.data(J,!0):(r(n(i)(t)),a.$observe("ngAnimateChildren",r))}}}],mn="$$animateCss",dn=1e3,vn=3,pn=1.5,hn={transitionDuration:un,transitionDelay:sn,transitionProperty:F+"Property",animationDuration:on,animationDelay:rn,animationIterationCount:E+"IterationCount"},gn={transitionDuration:un,transitionDelay:sn,animationDuration:on,animationDelay:rn},$n=["$animateProvider",function(n){var t=P(),e=P();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(n,a,s,u,l,c,h,g){function C(n,t){var e="$$ngAnimateParentKey",a=n.parentNode;return(a[e]||(a[e]=++B))+"-"+n.getAttribute("class")+"-"+t}function y(e,a,r,i){var o=t.get(r);return o||(o=S(n,e,i),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1)),t.put(r,o),o}function k(r,o,s,u){var l;if(t.count(s)>0&&!(l=e.get(s))){var c=i(o,"-stagger");a.addClass(r,c),l=S(n,r,u),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),a.removeClass(r,c),e.put(s,l)}return l||{}}function j(n){J.push(n),h.waitUntilQuiet(function(){t.flush(),e.flush();for(var n=l(),a=0;a<J.length;a++)J[a](n);J.length=0})}function P(n,t,e){var a=y(n,t,e,hn),r=a.animationDelay,i=a.transitionDelay;return a.maxDelay=r&&i?Math.max(r,i):r||i,a.maxDuration=Math.max(a.animationDuration*a.animationIterationCount,a.transitionDuration),a}var R=f(a),B=0,J=[];return function(n,e){function l(){h()}function f(){h(!0)}function h(t){if(!(G||Y&&X)){G=!0,X=!1,Q.$$skipPreparationClasses||a.removeClass(n,Dn),a.removeClass(n,An),b(z,!1),D(z,!1),U(un,function(n){z.style[n[0]]=""}),R(n,Q),d(n,Q),Object.keys(W).length&&U(W,function(n,t){n?z.style.setProperty(t,n):z.style.removeProperty(t)}),Q.onDone&&Q.onDone(),fn&&fn.length&&n.off(fn.join(" "),B);var e=n.data(mn);e&&(u.cancel(e[0].timer),n.removeData(mn)),Z&&Z.complete(!t)}}function y(n){In.blockTransition&&D(z,n),In.blockKeyframeAnimation&&b(z,!!n)}function S(){return Z=new s({end:l,cancel:f}),j(nn),h(),{$$willAnimate:!1,start:function(){return Z},end:l}}function B(n){n.stopPropagation();var t=n.originalEvent||n;if(t.target===z){var e=t.$manualTimeStamp||Date.now(),a=parseFloat(t.elapsedTime.toFixed(vn));Math.max(e-sn,0)>=an&&a>=rn&&(Y=!0,h())}}function J(){function t(){if(!G){if(y(!1),U(un,function(n){var t=n[0],e=n[1];z.style[t]=e}),R(n,Q),a.addClass(n,An),In.recalculateTimingStyles){if(bn=z.getAttribute("class")+" "+Dn,wn=C(z,bn),Mn=P(z,bn,wn),En=Mn.maxDelay,tn=Math.max(En,0),0===(rn=Mn.maxDuration))return void h();In.hasTransitions=Mn.transitionDuration>0,In.hasAnimations=Mn.animationDuration>0}if(In.applyAnimationDelay&&(En="boolean"!=typeof Q.delay&&x(Q.delay)?parseFloat(Q.delay):En,tn=Math.max(En,0),Mn.animationDelay=En,Rn=T(En,!0),un.push(Rn),z.style[Rn[0]]=Rn[1]),an=tn*dn,on=rn*dn,Q.easing){var t,r=Q.easing;In.hasTransitions&&(t=F+en,un.push([t,r]),z.style[t]=r),In.hasAnimations&&(t=E+en,un.push([t,r]),z.style[t]=r)}Mn.transitionDuration&&fn.push(M),Mn.animationDuration&&fn.push(I),sn=Date.now();var i=an+pn*on,o=sn+i,s=n.data(mn)||[],l=!0;if(s.length){var c=s[0];l=o>c.expectedEndTime,l?u.cancel(c.timer):s.push(h)}if(l){var f=u(e,i,!1);s[0]={timer:f,expectedEndTime:o},s.push(h),n.data(mn,s)}fn.length&&n.on(fn.join(" "),B),Q.to&&(Q.cleanupStyles&&N(W,z,Object.keys(Q.to)),p(n,Q))}}function e(){var t=n.data(mn);if(t){for(var e=1;e<t.length;e++)t[e]();n.removeData(mn)}}if(!G){if(!z.parentNode)return void h();var r=function(n){if(Y)X&&n&&(X=!1,h());else if(X=!n,Mn.animationDuration){var t=b(z,X);X?un.push(t):o(un,t)}},i=Nn>0&&(Mn.transitionDuration&&0===Tn.transitionDuration||Mn.animationDuration&&0===Tn.animationDuration)&&Math.max(Tn.animationDelay,Tn.transitionDelay);i?u(t,Math.floor(i*Nn*dn),!1):t(),_.resume=function(){r(!0)},_.pause=function(){r(!1)}}}var Q=e||{};Q.$$prepared||(Q=m(K(Q)));var W={},z=$(n);if(!z||!z.parentNode||!g.enabled())return S();var G,X,Y,Z,_,tn,an,rn,on,sn,un=[],ln=n.attr("class"),cn=r(Q),fn=[];if(0===Q.duration||!c.animations&&!c.transitions)return S();var hn=Q.event&&V(Q.event)?Q.event.join(" "):Q.event,$n=hn&&Q.structural,Cn="",yn="";$n?Cn=i(hn,H,!0):hn&&(Cn=hn),Q.addClass&&(yn+=i(Q.addClass,q)),Q.removeClass&&(yn.length&&(yn+=" "),yn+=i(Q.removeClass,L)),Q.applyClassesEarly&&yn.length&&R(n,Q);var Dn=[Cn,yn].join(" ").trim(),bn=ln+" "+Dn,An=i(Dn,"-active"),kn=cn.to&&Object.keys(cn.to).length>0;if(!((Q.keyframeStyle||"").length>0||kn||Dn))return S();var wn,Tn;if(Q.stagger>0){var Sn=parseFloat(Q.stagger);Tn={transitionDelay:Sn,animationDelay:Sn,transitionDuration:0,animationDuration:0}}else wn=C(z,bn),Tn=k(z,Dn,wn,gn);Q.$$skipPreparationClasses||a.addClass(n,Dn);var jn;if(Q.transitionStyle){var xn=[F,Q.transitionStyle];A(z,xn),un.push(xn)}if(Q.duration>=0){jn=z.style[F].length>0;var On=O(Q.duration,jn);A(z,On),un.push(On)}if(Q.keyframeStyle){var Pn=[E,Q.keyframeStyle];A(z,Pn),un.push(Pn)}var Nn=Tn?Q.staggerIndex>=0?Q.staggerIndex:t.count(wn):0,Fn=0===Nn;Fn&&!Q.skipBlocking&&D(z,9999);var Mn=P(z,bn,wn),En=Mn.maxDelay;tn=Math.max(En,0),rn=Mn.maxDuration;var In={};if(In.hasTransitions=Mn.transitionDuration>0,In.hasAnimations=Mn.animationDuration>0,In.hasTransitionAll=In.hasTransitions&&"all"===Mn.transitionProperty,In.applyTransitionDuration=kn&&(In.hasTransitions&&!In.hasTransitionAll||In.hasAnimations&&!In.hasTransitions),In.applyAnimationDuration=Q.duration&&In.hasAnimations,In.applyTransitionDelay=x(Q.delay)&&(In.applyTransitionDuration||In.hasTransitions),In.applyAnimationDelay=x(Q.delay)&&In.hasAnimations,In.recalculateTimingStyles=yn.length>0,(In.applyTransitionDuration||In.applyAnimationDuration)&&(rn=Q.duration?parseFloat(Q.duration):rn,In.applyTransitionDuration&&(In.hasTransitions=!0,Mn.transitionDuration=rn,jn=z.style[F+"Property"].length>0,un.push(O(rn,jn))),In.applyAnimationDuration&&(In.hasAnimations=!0,Mn.animationDuration=rn,un.push(w(rn)))),0===rn&&!In.recalculateTimingStyles)return S();if(null!=Q.delay){var Rn;"boolean"!=typeof Q.delay&&(Rn=parseFloat(Q.delay),tn=Math.max(Rn,0)),In.applyTransitionDelay&&un.push(T(Rn)),In.applyAnimationDelay&&un.push(T(Rn,!0))}return null==Q.duration&&Mn.transitionDuration>0&&(In.recalculateTimingStyles=In.recalculateTimingStyles||Fn),an=tn*dn,on=rn*dn,Q.skipBlocking||(In.blockTransition=Mn.transitionDuration>0,In.blockKeyframeAnimation=Mn.animationDuration>0&&Tn.animationDelay>0&&0===Tn.animationDuration),Q.from&&(Q.cleanupStyles&&N(W,z,Object.keys(Q.from)),v(n,Q)),In.blockTransition||In.blockKeyframeAnimation?y(rn):Q.skipBlocking||D(z,!1),{$$willAnimate:!0,end:l,start:function(){if(!G)return _={end:l,cancel:f,resume:null,pause:null},Z=new s(_),j(J),Z}}}}]}],Cn=["$$animationProvider",function(n){function t(n){return n.parentNode&&11===n.parentNode.nodeType}n.drivers.push("$$animateCssDriver");var e="ng-animate-shim",a="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(n,r,i,o,s,u,l){function c(n){return n.replace(/\bng-\S+\b/g,"")}function f(n,t){return Y(n)&&(n=n.split(" ")),Y(t)&&(t=t.split(" ")),n.filter(function(n){return-1===t.indexOf(n)}).join(" ")}function m(t,r,o){function s(n){var t={},e=$(n).getBoundingClientRect();return U(["width","height","top","left"],function(n){var a=e[n];switch(n){case"top":a+=p.scrollTop;break;case"left":a+=p.scrollLeft}t[n]=Math.floor(a)+"px"}),t}function u(n){return n.attr("class")||""}function l(){var t=c(u(o)),e=f(t,v),r=f(v,t),i=n(d,{to:s(o),addClass:"ng-anchor-in "+e,removeClass:a+" "+r,delay:!0});return i.$$willAnimate?i:null}function m(){d.remove(),r.removeClass(e),o.removeClass(e)}var d=_($(r).cloneNode(!0)),v=c(u(d));r.addClass(e),o.addClass(e),d.addClass("ng-anchor"),g.append(d);var h,C=function(){var t=n(d,{addClass:a,delay:!0,from:s(r)});return t.$$willAnimate?t:null}();if(!C&&!(h=l()))return m();var y=C||h;return{start:function(){function n(){e&&e.end()}var t,e=y.start();return e.done(function(){if(e=null,!h&&(h=l()))return e=h.start(),e.done(function(){e=null,m(),t.complete()}),e;m(),t.complete()}),t=new i({end:n,cancel:n})}}}function d(n,t,e,a){var r=v(n),o=v(t),s=[];if(U(a,function(n){var t=n.out,a=n.in,r=m(e,t,a);r&&s.push(r)}),r||o||0!==s.length)return{start:function(){function n(){U(t,function(n){n.end()})}var t=[];r&&t.push(r.start()),o&&t.push(o.start()),U(s,function(n){t.push(n.start())});var e=new i({end:n,cancel:n});return i.all(t,function(n){e.complete(n)}),e}}}function v(t){var e=t.element,a=t.options||{};t.structural&&(a.event=t.event,a.structural=!0,a.applyClassesEarly=!0,"leave"===t.event&&(a.onDone=a.domOperation)),a.preparationClasses&&(a.event=k(a.event,a.preparationClasses));var r=n(e,a);return r.$$willAnimate?r:null}if(!s.animations&&!s.transitions)return nn;var p=l[0].body,h=$(o),g=_(t(h)||p.contains(h)?h:p);return function(n){return n.from&&n.to?d(n.from,n.to,n.classes,n.anchors):v(n)}}]}],yn=["$animateProvider",function(n){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,e,a){function r(e){e=V(e)?e:e.split(" ");for(var a=[],r={},i=0;i<e.length;i++){var o=e[i],s=n.$$registeredAnimations[o];s&&!r[o]&&(a.push(t.get(s)),r[o]=!0)}return a}var i=f(a);return function(n,t,a,o){function s(){o.domOperation(),i(n,o)}function u(){v=!0,s(),d(n,o)}function l(n,t,a,r,i){var o;switch(a){case"animate":o=[t,r.from,r.to,i];break;case"setClass":o=[t,g,$,i];break;case"addClass":o=[t,g,i];break;case"removeClass":o=[t,$,i];break;default:o=[t,i]}o.push(r);var s=n.apply(n,o);if(s)if(G(s.start)&&(s=s.start()),s instanceof e)s.done(i);else if(G(s))return s;return nn}function c(n,t,a,r,i){var o=[];return U(r,function(r){var s=r[i];s&&o.push(function(){var r,i,o=!1,u=function(n){o||(o=!0,(i||nn)(n),r.complete(!n))};return r=new e({end:function(){u()},cancel:function(){u(!0)}}),i=l(s,n,t,a,function(n){u(!1===n)}),r})}),o}function f(n,t,a,r,i){var o=c(n,t,a,r,i);if(0===o.length){var s,u;"beforeSetClass"===i?(s=c(n,"removeClass",a,r,"beforeRemoveClass"),u=c(n,"addClass",a,r,"beforeAddClass")):"setClass"===i&&(s=c(n,"removeClass",a,r,"removeClass"),u=c(n,"addClass",a,r,"addClass")),s&&(o=o.concat(s)),u&&(o=o.concat(u))}if(0!==o.length)return function(n){var t=[];return o.length&&U(o,function(n){t.push(n())}),t.length?e.all(t,n):n(),function(n){U(t,function(t){n?t.cancel():t.end()})}}}var v=!1;3===arguments.length&&X(a)&&(o=a,a=null),o=m(o),a||(a=n.attr("class")||"",o.addClass&&(a+=" "+o.addClass),o.removeClass&&(a+=" "+o.removeClass));var p,h,g=o.addClass,$=o.removeClass,C=r(a);if(C.length){var y,D;"leave"===t?(D="leave",y="afterLeave"):(D="before"+t.charAt(0).toUpperCase()+t.substr(1),y=t),"enter"!==t&&"move"!==t&&(p=f(n,t,o,C,D)),h=f(n,t,o,C,y)}if(p||h){var b;return{$$willAnimate:!0,end:function(){return b?b.end():(u(),b=new e,b.complete(!0)),b},start:function(){function n(n){u(n),b.complete(n)}function t(t){v||((a||nn)(t),n(t))}if(b)return b;b=new e;var a,r=[];return p&&r.push(function(n){a=p(n)}),r.length?r.push(function(n){s(),n(!0)}):s(),h&&r.push(function(n){a=h(n)}),b.setHost({end:function(){t()},cancel:function(){t(!0)}}),e.chain(r,n),b}}}}}]}],Dn=["$$animationProvider",function(n){n.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(n,t){function e(t){var e=t.element,a=t.event,r=t.options,i=t.classes;return n(e,a,i,r)}return function(n){if(n.from&&n.to){var a=e(n.from),r=e(n.to);if(!a&&!r)return;return{start:function(){function n(){return function(){U(i,function(n){n.end()})}}function e(n){o.complete(n)}var i=[];a&&i.push(a.start()),r&&i.push(r.start()),t.all(i,e);var o=new t({end:n(),cancel:n()});return o}}}return e(n)}}]}],bn="data-ng-animate",An="$ngAnimatePin",kn=["$animateProvider",function(t){function a(n){if(!n)return null;var t=n.split(v),e=Object.create(null);return U(t,function(n){e[n]=!0}),e}function r(n,t){if(n&&t){var e=a(t);return n.split(v).some(function(n){return e[n]})}}function i(n,t,e){return p[n].some(function(n){return n(t,e)})}function o(n,t){var e=(n.addClass||"").length>0,a=(n.removeClass||"").length>0;return t?e&&a:e||a}var l=1,c=2,v=" ",p=this.rules={skip:[],cancel:[],join:[]};p.join.push(function(n,t){return!n.structural&&o(n)}),p.skip.push(function(n,t){return!n.structural&&!o(n)}),p.skip.push(function(n,t){return"leave"===t.event&&n.structural}),p.skip.push(function(n,t){return t.structural&&t.state===c&&!n.structural}),p.cancel.push(function(n,t){return t.structural&&n.structural}),p.cancel.push(function(n,t){return t.state===c&&n.structural}),p.cancel.push(function(n,t){if(t.structural)return!1;var e=n.addClass,a=n.removeClass,i=t.addClass,o=t.removeClass;return!(Z(e)&&Z(a)||Z(i)&&Z(o))&&(r(e,o)||r(a,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(a,r,v,p,g,D,b,A,k,w,T){function S(){var n=!1;return function(t){n?t():r.$$postDigest(function(){n=!0,t()})}}function j(n,t){return h(n,t,{})}function x(n,t,e){var a=[],r=G[e];return r&&U(r,function(r){sn.call(r.node,t)?a.push(r.callback):"leave"===e&&sn.call(r.node,n)&&a.push(r.callback)}),a}function O(n,t,e){var a=u(t);return n.filter(function(n){return!(n.node===a&&(!e||n.callback===e))})}function P(n,t){"close"!==n||t.parentNode||un.off(t)}function N(n,t,e){function u(n,t,e,r){w(function(){var n=x(A,g,t);n.length?a(function(){U(n,function(n){n(p,e,r)}),P(e,g)}):P(e,g)}),n.progress(t,e,r)}function f(n){y(p,v),on(p,v),d(p,v),v.domOperation(),k.complete(!n)}var v=K(e),p=s(n),g=$(p),A=g&&g.parentNode;v=m(v);var k=new b,w=S();if(V(v.addClass)&&(v.addClass=v.addClass.join(" ")),v.addClass&&!Y(v.addClass)&&(v.addClass=null),V(v.removeClass)&&(v.removeClass=v.removeClass.join(" ")),v.removeClass&&!Y(v.removeClass)&&(v.removeClass=null),v.from&&!X(v.from)&&(v.from=null),v.to&&!X(v.to)&&(v.to=null),!(H&&g&&an(g,t,e)&&rn(g,v)))return f(),k;var O=["enter","move","leave"].indexOf(t)>=0,N=T(),R=N||L.get(g),B=!R&&q.get(g)||{},J=!!B.state;if(R||J&&B.state===l||(R=!E(g,A,t)),R)return N&&u(k,t,"start"),f(),N&&u(k,t,"close"),k;O&&F(g);var Q={structural:O,element:p,event:t,addClass:v.addClass,removeClass:v.removeClass,close:f,options:v,runner:k};if(J){if(i("skip",Q,B))return B.state===c?(f(),k):(h(p,B,Q),B.runner);if(i("cancel",Q,B))if(B.state===c)B.runner.end();else{if(!B.structural)return h(p,B,Q),B.runner;B.close()}else{if(i("join",Q,B)){if(B.state!==c)return C(p,O?t:null,v),t=Q.event=B.event,v=h(p,B,Q),B.runner;j(p,Q)}}}else j(p,Q);var W=Q.structural;if(W||(W="animate"===Q.event&&Object.keys(Q.options.to||{}).length>0||o(Q)),!W)return f(),M(g),k;var z=(B.counter||0)+1;return Q.counter=z,I(g,l,Q),r.$$postDigest(function(){p=s(n);var e=q.get(g),a=!e;e=e||{};var r=p.parent()||[],i=r.length>0&&("animate"===e.event||e.structural||o(e));if(a||e.counter!==z||!i)return a&&(on(p,v),d(p,v)),(a||O&&e.event!==t)&&(v.domOperation(),k.end()),void(i||M(g));t=!e.structural&&o(e,!0)?"setClass":e.event,I(g,c);var l=D(p,t,e.options);k.setHost(l),u(k,t,"start",{}),l.done(function(n){f(!n);var e=q.get(g);e&&e.counter===z&&M(g),u(k,t,"close",{})})}),k}function F(n){var t=n.querySelectorAll("["+bn+"]");U(t,function(n){var t=parseInt(n.getAttribute(bn),10),e=q.get(n);if(e)switch(t){case c:e.runner.end();case l:q.delete(n)}})}function M(n){n.removeAttribute(bn),q.delete(n)}function E(n,t,e){var a,r=p[0].body,i=$(v),o=n===r||"HTML"===n.nodeName,s=n===i,u=!1,l=L.get(n),c=_.data(n,An);for(c&&(t=$(c));t&&(s||(s=t===i),t.nodeType===R);){var f=q.get(t)||{};if(!u){var m=L.get(t);if(!0===m&&!1!==l){l=!0;break}!1===m&&(l=!1),u=f.structural}if(Z(a)||!0===a){var d=_.data(t,J);W(d)&&(a=d)}if(u&&!1===a)break;if(o||(o=t===r),o&&s)break;t=s||!(c=_.data(t,An))?t.parentNode:$(c)}return(!u||a)&&!0!==l&&s&&o}function I(n,t,e){e=e||{},e.state=t,n.setAttribute(bn,t);var a=q.get(n),r=a?Q(a,e):e;q.set(n,r)}var q=new g,L=new g,H=null,B=r.$watch(function(){return 0===A.totalPendingRequests},function(n){n&&(B(),r.$$postDigest(function(){r.$$postDigest(function(){null===H&&(H=!0)})}))}),G=Object.create(null),nn=t.customFilter(),tn=t.classNameFilter(),en=function(){return!0},an=nn||en,rn=tn?function(n,t){var e=[n.getAttribute("class"),t.addClass,t.removeClass].join(" ");return tn.test(e)}:en,on=f(k),sn=n.Node.prototype.contains||function(n){return this===n||!!(16&this.compareDocumentPosition(n))},un={on:function(n,t,e){var a=u(t);G[n]=G[n]||[],G[n].push({node:a,callback:e}),_(t).on("$destroy",function(){q.get(a)||un.off(n,t,e)})},off:function(n,t,e){if(1!==arguments.length||Y(arguments[0])){var a=G[n];a&&(G[n]=1===arguments.length?null:O(a,t,e))}else{t=arguments[0];for(var r in G)G[r]=O(G[r],t)}},pin:function(n,t){e(z(n),"element","not an element"),e(z(t),"parentElement","not an element"),n.data(An,t)},push:function(n,t,e,a){return e=e||{},e.domOperation=a,N(n,t,e)},enabled:function(n,t){var e=arguments.length;if(0===e)t=!!H;else{if(z(n)){var a=$(n);1===e?t=!L.get(a):L.set(a,!t)}else t=H=!!n}return t}};return un}]}],wn=["$animateProvider",function(n){function t(n,t){n.data(s,t)}function e(n){n.removeData(s)}function r(n){return n.data(s)}var i="ng-animate-ref",o=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(n,s,u,l,c,v){function p(n){function t(n){if(n.processed)return n;n.processed=!0;var e=n.domNode,i=e.parentNode;r.set(e,n);for(var o;i;){if(o=r.get(i)){o.processed||(o=t(o));break}i=i.parentNode}return(o||a).children.push(n),n}var e,a={children:[]},r=new c;for(e=0;e<n.length;e++){var i=n[e];r.set(i.domNode,n[e]={domNode:i.domNode,fn:i.fn,children:[]})}for(e=0;e<n.length;e++)t(n[e]);return function(n){var t,e=[],a=[];for(t=0;t<n.children.length;t++)a.push(n.children[t]);var r=a.length,i=0,o=[];for(t=0;t<a.length;t++){var s=a[t];r<=0&&(r=i,i=0,e.push(o),o=[]),o.push(s.fn),s.children.forEach(function(n){i++,a.push(n)}),r--}return o.length&&e.push(o),e}(a)}var h=[],g=f(n);return function(c,f,C){function y(n){var t="["+i+"]",e=n.hasAttribute(i)?[n]:n.querySelectorAll(t),a=[];return U(e,function(n){var t=n.getAttribute(i);t&&t.length&&a.push(n)}),a}function D(n){var t=[],e={};U(n,function(n,a){var r=n.element,o=$(r),s=n.event,u=["enter","move"].indexOf(s)>=0,l=n.structural?y(o):[];if(l.length){var c=u?"to":"from";U(l,function(n){var t=n.getAttribute(i);e[t]=e[t]||{},e[t][c]={animationID:a,element:_(n)}})}else t.push(n)});var a={},r={};return U(e,function(e,i){var o=e.from,s=e.to;if(!o||!s){var u=o?o.animationID:s.animationID,l=u.toString();return void(a[l]||(a[l]=!0,t.push(n[u])))}var c=n[o.animationID],f=n[s.animationID],m=o.animationID.toString();if(!r[m]){var d=r[m]={structural:!0,beforeStart:function(){c.beforeStart(),f.beforeStart()},close:function(){c.close(),f.close()},classes:b(c.classes,f.classes),from:c,to:f,anchors:[]};d.classes.length?t.push(d):(t.push(c),t.push(f))}r[m].anchors.push({out:o.element,in:s.element})}),t}function b(n,t){n=n.split(" "),t=t.split(" ");for(var e=[],a=0;a<n.length;a++){var r=n[a];if("ng-"!==r.substring(0,3))for(var i=0;i<t.length;i++)if(r===t[i]){e.push(r);break}}return e.join(" ")}function A(n){for(var t=o.length-1;t>=0;t--){var e=o[t],a=u.get(e),r=a(n);if(r)return r}}function k(){c.addClass(B),P&&n.addClass(c,P),N&&(n.removeClass(c,N),N=null)}function w(n,t){function e(n){var e=r(n);e&&e.setHost(t)}n.from&&n.to?(e(n.from.element),e(n.to.element)):e(n.element)}function T(){var n=r(c);!n||"leave"===f&&C.$$domOperationFired||n.end()}function S(t){c.off("$destroy",T),e(c),g(c,C),d(c,C),C.domOperation(),P&&n.removeClass(c,P),c.removeClass(B),x.complete(!t)}C=m(C);var j=["enter","move","leave"].indexOf(f)>=0,x=new l({end:function(){S()},cancel:function(){S(!0)}});if(!o.length)return S(),x;t(c,x);var O=a(c.attr("class"),a(C.addClass,C.removeClass)),P=C.tempClasses;P&&(O+=" "+P,C.tempClasses=null);var N;return j&&(N="ng-"+f+"-prepare",n.addClass(c,N)),h.push({element:c,classes:O,event:f,structural:j,options:C,beforeStart:k,close:S}),c.on("$destroy",T),h.length>1?x:(s.$$postDigest(function(){var n=[];U(h,function(t){r(t.element)?n.push(t):t.close()}),h.length=0;var t=D(n),e=[];U(t,function(n){e.push({domNode:$(n.from?n.from.element:n.element),fn:function(){n.beforeStart();var t,e=n.close;if(r(n.anchors?n.from.element||n.to.element:n.element)){var a=A(n);a&&(t=a.start)}if(t){var i=t();i.done(function(n){e(!n)}),w(n,i)}else e()}})}),v(p(e))}),x)}}]}],Tn=["$animate","$rootScope",function(n,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,e,a,r,i){var o,s;t.$watchCollection(a.ngAnimateSwap||a.for,function(a){o&&n.leave(o),s&&(s.$destroy(),s=null),(a||0===a)&&(s=t.$new(),i(s,function(t){o=t,n.enter(t,null,e)}))})}}}];t.module("ngAnimate",[],function(){nn=t.noop,K=t.copy,Q=t.extend,_=t.element,U=t.forEach,V=t.isArray,Y=t.isString,X=t.isObject,Z=t.isUndefined,W=t.isDefined,G=t.isFunction,z=t.isElement}).info({angularVersion:"1.6.8"}).directive("ngAnimateSwap",Tn).directive("ngAnimateChildren",fn).factory("$$rAFScheduler",cn).provider("$$animateQueue",kn).provider("$$animation",wn).provider("$animateCss",$n).provider("$$animateCssDriver",Cn).provider("$$animateJs",yn).provider("$$animateJsDriver",Dn)}(window,window.angular);
},{}],166:[function(require,module,exports){
require("./angular-animate"),module.exports="ngAnimate";
},{"./angular-animate":165}],167:[function(require,module,exports){
!function(e,r){"use strict";function t(e,r){if(u(e)){r=r||[];for(var t=0,n=e.length;t<n;t++)r[t]=e[t]}else if(s(e)){r=r||{};for(var a in e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(r[a]=e[a])}return r||e}function n(){function e(e,t){return r.extend(Object.create(e),t)}function n(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,r,t,n){var i="?"===n||"*?"===n?"?":null,o="*"===n||"*?"===n?"*":null;return a.push({name:t,optional:!!i}),r=r||"",(i?"":r)+"(?:"+(i?r:"")+(o&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([\/$*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",t?"i":""),n}u=r.isArray,s=r.isObject,l=r.isDefined,f=r.noop;var a={};this.when=function(e,i){var o=t(i);if(r.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),r.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),a[e]=r.extend(o,e&&n(e,o)),e){var c="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";a[c]=r.extend({redirectTo:e},n(c,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},h=!0,this.eagerInstantiationEnabled=function(e){return l(e)?(h=e,this):h},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(t,n,i,o,c,u,s,l){function h(e,r){var t=r.keys,n={};if(!r.regexp)return null;var a=r.regexp.exec(e);if(!a)return null;for(var i=1,o=a.length;i<o;++i){var c=t[i-1],u=a[i];c&&u&&(n[c.name]=u)}return n}function d(e){var n=y.current;R=C(),(x=R&&n&&R.$$route===n.$$route&&r.equals(R.pathParams,n.pathParams)&&!R.reloadOnSearch&&!S)||!n&&!R||t.$broadcast("$routeChangeStart",R,n).defaultPrevented&&e&&e.preventDefault()}function p(){var e=y.current,n=R;if(x)e.params=n.params,r.copy(e.params,i),t.$broadcast("$routeUpdate",e);else if(n||e){S=!1,y.current=n;var a=o.resolve(n);l.$$incOutstandingRequestCount(),a.then(v).then(g).then(function(o){return o&&a.then(m).then(function(a){n===y.current&&(n&&(n.locals=a,r.copy(n.params,i)),t.$broadcast("$routeChangeSuccess",n,e))})}).catch(function(r){n===y.current&&t.$broadcast("$routeChangeError",n,e,r)}).finally(function(){l.$$completeOutstandingRequest(f)})}}function v(e){var t={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(r.isString(e.redirectTo))t.path=P(e.redirectTo,e.params),t.search=e.params,t.hasRedirection=!0;else{var a=n.path(),i=n.search(),u=e.redirectTo(e.pathParams,a,i);r.isDefined(u)&&(t.url=u,t.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(c.invoke(e.resolveRedirectTo)).then(function(e){return r.isDefined(e)&&(t.url=e,t.hasRedirection=!0),t});return t}function g(e){var r=!0;if(e.route!==y.current)r=!1;else if(e.hasRedirection){var t=n.url(),a=e.url;a?n.url(a).replace():a=n.path(e.path).search(e.search).replace().url(),a!==t&&(r=!1)}return r}function m(e){if(e){var t=r.extend({},e.resolve);r.forEach(t,function(e,n){t[n]=r.isString(e)?c.get(e):c.invoke(e,null,null,n)});var n=w(e);return r.isDefined(n)&&(t.$template=n),o.all(t)}}function w(e){var t,n;return r.isDefined(t=e.template)?r.isFunction(t)&&(t=t(e.params)):r.isDefined(n=e.templateUrl)&&(r.isFunction(n)&&(n=n(e.params)),r.isDefined(n)&&(e.loadedTemplateUrl=s.valueOf(n),t=u(n))),t}function C(){var t,i;return r.forEach(a,function(a,o){!i&&(t=h(n.path(),a))&&(i=e(a,{params:r.extend({},n.search(),t),pathParams:t}),i.$$route=a)}),i||a[null]&&e(a[null],{params:{},pathParams:{}})}function P(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),i=a[1];n.push(t[i]),n.push(a[2]||""),delete t[i]}}),n.join("")}var R,x,S=!1,y={routes:a,reload:function(){S=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,S=!1}};t.$evalAsync(function(){d(e),e.defaultPrevented||p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw $("norout","Tried updating route when with no current route");e=r.extend({},this.current.params,e),n.path(P(this.current.$$route.originalPath,e)),n.search(e)}};return t.$on("$locationChangeStart",d),t.$on("$locationChangeSuccess",p),y}]}function a(e){h&&e.get("$route")}function i(){this.$get=function(){return{}}}function o(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,i,o,c,u){function s(){d&&(n.cancel(d),d=null),f&&(f.$destroy(),f=null),h&&(d=n.leave(h),d.done(function(e){!1!==e&&(d=null)}),h=null)}function l(){var o=e.current&&e.current.locals,c=o&&o.$template;if(r.isDefined(c)){var l=a.$new(),d=e.current,v=u(l,function(e){n.enter(e,null,h||i).done(function(e){!1===e||!r.isDefined($)||$&&!a.$eval($)||t()}),s()});h=v,f=d.scope=l,f.$emit("$viewContentLoaded"),f.$eval(p)}else s()}var f,h,d,$=o.autoscroll,p=o.onload||"";a.$on("$routeChangeSuccess",l),l()}}}function c(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var i=t.current,o=i.locals;a.html(o.$template);var c=e(a.contents());if(i.controller){o.$scope=n;var u=r(i.controller,o);i.controllerAs&&(n[i.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}n[i.resolveAs||"$resolve"]=o,c(n)}}}var u,s,l,f,h,d=r.module("ngRoute",[]).info({angularVersion:"1.6.8"}).provider("$route",n).run(a),$=r.$$minErr("ngRoute");a.$inject=["$injector"],d.provider("$routeParams",i),d.directive("ngView",o),d.directive("ngView",c),o.$inject=["$route","$anchorScroll","$animate"],c.$inject=["$compile","$controller","$route"]}(window,window.angular);
},{}],168:[function(require,module,exports){
arguments[4][2][0].apply(exports,arguments)
},{"./angular-route":167,"dup":2}],169:[function(require,module,exports){
arguments[4][3][0].apply(exports,arguments)
},{"dup":3}],170:[function(require,module,exports){
arguments[4][4][0].apply(exports,arguments)
},{"./dist/ui-bootstrap-tpls":169,"dup":4}],171:[function(require,module,exports){
angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click",submitButtonTitle:"Submit",submitButtonAriaLabel:"Submit",cancelButtonTitle:"Cancel",cancelButtonAriaLabel:"Cancel",clearButtonTitle:"Clear",clearButtonAriaLabel:"Clear",displayClearButton:!1}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory","$injector","$parse",function(e,t,a){uibDatepickerConfig=t.get("uibDatepickerConfig"),uibDatepickerPopupConfig=t.get("uibDatepickerPopupConfig");var i=[["eIsOpen","is-open"],["eDateDisabled","date-disabled"],["eDatepickerPopup","uib-datepicker-popup"],["eShowButtonBar","show-button-bar"],["eCurrentText","current-text"],["eClearText","clear-text"],["eCloseText","close-text"],["eCloseOnDateSelection","close-on-date-selection"],["eDatepickerAppendToBody","datepicker-append-to-body"],["eOnOpenFocus","on-open-focus"],["eName","name"],["eDateDisabled","date-disabled"],["eAltInputFormats","alt-input-formats"]],n=[["eFormatDay","formatDay"],["eFormatMonth","formatMonth"],["eFormatYear","formatYear"],["eFormatDayHeader","formatDayHeader"],["eFormatDayTitle","formatDayTitle"],["eFormatMonthTitle","formatMonthTitle"],["eMaxMode","maxMode"],["eMinMode","minMode"],["eDatepickerMode","datepickerMode"]];return e({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var e=this.attrs,t=this.scope,r=angular.element('<input type="text" class="form-control" ng-model="$parent.$data"/>');r.attr("uib-datepicker-popup",e.eDatepickerPopupXEditable||uibDatepickerPopupConfig.datepickerPopup),r.attr("year-range",e.eYearRange||20),r.attr("ng-readonly",e.eReadonly||!1);for(var o=i.length-1;o>=0;o--){var l=e[i[o][0]];void 0!==l&&r.attr(i[o][1],l)}e.eNgChange&&(r.attr("ng-change",e.eNgChange),this.inputEl.removeAttr("ng-change")),e.eStyle&&(r.attr("style",e.eStyle),this.inputEl.removeAttr("style"));var s={maxDate:t.$eval(e.eMaxDate)||uibDatepickerConfig.maxDate,minDate:t.$eval(e.eMinDate)||uibDatepickerConfig.minDate,showWeeks:e.eShowWeeks?"true"===e.eShowWeeks.toLowerCase():uibDatepickerConfig.showWeeks,startingDay:e.eStartingDay||0,initDate:t.$eval(e.eInitDate)||new Date};if(e.eDatepickerOptions){var u=a(e.eDatepickerOptions)(t);angular.extend(s,u)}for(var c=n.length-1;c>=0;c--){var d=e[n[c][0]];void 0!==d&&(s[n[c][1]]=d)}if(t.dateOptions=s,"true"===(angular.isDefined(e.eShowCalendarButton)?e.eShowCalendarButton:"true")){var p=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),h=angular.element('<span class="input-group-btn"></span>');p.attr("ng-click",e.eNgClick),h.append(p),this.inputEl.append(h)}else r.attr("ng-click",e.eNgClick);r.attr("datepicker-options","dateOptions"),this.inputEl.prepend(r),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)}),e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<div uib-timepicker></div>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.inputEl.wrap("<label></label>"),this.attrs.eTitle&&this.inputEl.parent().append("<span>"+this.attrs.eTitle+"</span>")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),a="",i="";this.attrs.eNgChange&&(a=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eChecklistComparator&&(i=' checklist-comparator="'+this.attrs.eChecklistComparator+'"');var n='<label ng-repeat="'+e.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+e.locals.valueFn+'"'+a+i+'><span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.removeAttr("checklist-comparator"),this.inputEl.html(n)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(e,t){return e({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var e={value:new Date(this.scope.$data)},a=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(t){var i="e"+t.charAt(0).toUpperCase()+t.slice(1);i in a.attrs&&(e[t]="minYear"==t||"maxYear"==t||"minuteStep"==t||"secondStep"==t?parseInt(a.attrs[i],10):a.attrs[i])});var i=t.getInstance(this.inputEl,e);i.$widget.find("select").bind("change",function(e){a.scope.$data=i.getValue()?new Date(i.getValue().replace(/-/g,"/")).toISOString():null})}})}]),function(){var e=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(t,function(t){var a=e("editable-"+t);angular.module("xeditable").directive(a,["editableDirectiveFactory",function(e){return e({directiveName:a,inputTpl:'<input type="'+t+'">',render:function(){if(this.parent.render.call(this),this.attrs.eInputgroupleft||this.attrs.eInputgroupright){if(this.inputEl.wrap('<div class="input-group"></div>'),this.attrs.eInputgroupleft){var e=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupleft+"</span>");this.inputEl.parent().prepend(e)}if(this.attrs.eInputgroupright){var t=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupright+"</span>");this.inputEl.parent().append(t)}}if(this.attrs.eLabel){var a=angular.element("<label>"+this.attrs.eLabel+"</label>");this.attrs.eInputgroupleft||this.attrs.eInputgroupright?this.inputEl.parent().parent().prepend(a):this.inputEl.parent().prepend(a)}this.attrs.eFormclass&&this.editorEl.addClass(this.attrs.eFormclass)},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory","$interpolate",function(e,t){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>"+t.startSymbol()+"$data"+t.endSymbol()+"</output>")}})}])}(),angular.module("xeditable").directive("editableTagsInput",["editableDirectiveFactory","editableUtils",function(e,t){var a=e({directiveName:"editableTagsInput",inputTpl:"<tags-input></tags-input>",useCopy:!0,render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("auto-complete",this.attrs.$autoCompleteElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),i=a.link;return a.link=function(e,t,a,n){var r=t.find("editable-tags-input-auto-complete");return a.$autoCompleteElement=r.clone(),r.remove(),i(e,t,a,n)},a}]),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser","$interpolate",function(e,t,a){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),i="",n="";this.attrs.eNgChange&&(i=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eName&&(n=' name="'+this.attrs.eName+'"');var r='<label data-ng-repeat="'+e.ngRepeat+'"><input type="radio" data-ng-disabled="::'+this.attrs.eNgDisabled+'" data-ng-model="$parent.$parent.$data" data-ng-value="'+a.startSymbol()+"::"+e.locals.valueFn+a.endSymbol()+'"'+i+n+'><span data-ng-bind="::'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.html(r)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",render:function(){if(this.parent.render.call(this),this.attrs.ePlaceholder){var e=angular.element('<option value="">'+this.attrs.ePlaceholder+"</option>");this.inputEl.append(e)}},autosubmit:function(){var e=this;e.attrs.hasOwnProperty("eMultiple")||e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var e=this;e.parent.addListeners.call(e),e.single&&"no"!==e.buttons&&e.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){e.attrs.submitOnEnter?13!==t.keyCode||t.shiftKey||e.scope.$apply(function(){e.scope.$form.$submit()}):((t.ctrlKey||t.metaKey)&&13===t.keyCode||9===t.keyCode&&"submit"===e.editorEl.attr("blur"))&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUidate",["editableDirectiveFactory",function(e){return e({directiveName:"editableUidate",inputTpl:'<input class="form-control" />',render:function(){this.parent.render.call(this),this.inputEl.attr("ui-date",this.attrs.eUiDate),this.inputEl.attr("placeholder",this.attrs.ePlaceholder)}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory","editableUtils",function(e,t){var a=e({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("ui-select-match",this.attrs.$matchElement)),this.inputEl.append(t.rename("ui-select-choices",this.attrs.$choicesElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$parent.$data")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)}),e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}}),i=a.link;return a.link=function(e,t,a,n){var r=t.find("editable-ui-select-match"),o=t.find("editable-ui-select-choices");return a.$matchElement=r.clone(),a.$choicesElement=o.clone(),r.remove(),o.remove(),i(e,t,a,n)},a}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,t){function a(e,a,i,n,r,o,l,s,u,c,d,p){var h,m,b=this;b.scope=e,b.elem=i,b.attrs=a,b.inputEl=null,b.editorEl=null,b.single=!0,b.error="",b.theme=r[a.editableTheme]||r[l.theme]||r.default,b.parent={};var f=a.editableTheme||l.theme||"default",g=a.editableIconSet||l.icon_set;b.icon_set="default"===g?o.default[f]:o.external[g],b.inputTpl="",b.directiveName="",b.useCopy=!1,b.single=null,b.buttons="right",b.popover=!1,b.init=function(t){if(b.single=t,b.name=a.eName||a[b.directiveName],!a[b.directiveName])throw"You should provide value for `"+b.directiveName+"` in editable element!";h=n(a[b.directiveName]),b.single?b.buttons=b.attrs.buttons||l.buttons:b.buttons="no",a.eName&&b.scope.$watch("$data",function(e){b.scope.$form.$data[a.eName]=e}),a.onshow&&(b.onshow=function(){return b.catchError(n(a.onshow)(e))}),a.onhide&&(b.onhide=function(){return n(a.onhide)(e)}),a.oncancel&&(b.oncancel=function(){return n(a.oncancel)(e)}),a.onbeforesave&&(b.onbeforesave=function(){return b.catchError(n(a.onbeforesave)(e))}),a.onaftersave&&(b.onaftersave=function(){return b.catchError(n(a.onaftersave)(e))}),a.popover&&(b.popover=b.attrs.popover),e.$parent.$watch(a[b.directiveName],function(e,t){b.setLocalValue(),b.handleEmpty()})},b.render=function(){var e=b.theme;b.inputEl=angular.element(b.inputTpl),b.controlsEl=angular.element(e.controlsTpl),b.controlsEl.append(b.inputEl),"no"!==b.buttons&&(b.buttonsEl=angular.element(e.buttonsTpl),b.submitEl=angular.element(e.submitTpl),b.resetEl=angular.element(e.resetTpl),b.cancelEl=angular.element(e.cancelTpl),b.submitEl.attr("title",l.submitButtonTitle),b.submitEl.attr("aria-label",l.submitButtonAriaLabel),b.cancelEl.attr("title",l.cancelButtonTitle),b.cancelEl.attr("aria-label",l.cancelButtonAriaLabel),b.resetEl.attr("title",l.clearButtonTitle),b.resetEl.attr("aria-label",l.clearButtonAriaLabel),b.icon_set&&(b.submitEl.find("span").addClass(b.icon_set.ok),b.cancelEl.find("span").addClass(b.icon_set.cancel),b.resetEl.find("span").addClass(b.icon_set.clear)),b.buttonsEl.append(b.submitEl).append(b.cancelEl),l.displayClearButton&&b.buttonsEl.append(b.resetEl),b.controlsEl.append(b.buttonsEl),b.inputEl.addClass("editable-has-buttons")),b.errorEl=angular.element(e.errorTpl),b.controlsEl.append(b.errorEl),b.editorEl=angular.element(b.single?e.formTpl:e.noformTpl),b.editorEl.append(b.controlsEl);for(var i in a.$attr)if(!(i.length<=1)){var n=!1,r=i.substring(1,2);if("e"===i.substring(0,1)&&r===r.toUpperCase()&&"Form"!==(n=i.substring(1))&&"NgSubmit"!==n){var o=n.substring(0,1),s=n.substring(1,2);n=s===s.toUpperCase()&&o===o.toUpperCase()?o.toLowerCase()+"-"+t.camelToDash(n.substring(1)):o.toLowerCase()+t.camelToDash(n.substring(1));var u="value"!==n&&""===a[i]?n:a[i];b.inputEl.attr(n,u)}}if(b.inputEl.addClass("editable-input"),b.inputEl.attr("ng-model","$parent.$data"),b.editorEl.addClass(t.camelToDash(b.directiveName)),b.single&&(b.editorEl.attr("editable-form","$form"),b.editorEl.attr("blur",b.attrs.blur||l.blurElem)),b.popover){var c=angular.element("<div></div>");c.append(b.editorEl),b.editorEl=c,p.put("popover.html",b.editorEl[0].outerHTML)}angular.isFunction(e.postrender)&&e.postrender.call(b)},b.setLocalValue=function(){b.scope.$data=b.useCopy?angular.copy(h(e.$parent)):h(e.$parent)};var v=null;b.show=function(){return b.setLocalValue(),b.render(),i.after(b.editorEl),v=e.$new(),u(b.editorEl)(v),b.addListeners(),i.addClass("editable-hide"),b.onshow()},b.hide=function(){return v.$destroy(),b.controlsEl.remove(),b.editorEl.remove(),i.removeClass("editable-hide"),b.popover&&p.remove("popover.html"),b.onhide()},b.cancel=function(){b.oncancel()},b.addListeners=function(){b.inputEl.bind("keyup",function(e){if(b.single)switch(e.keyCode){case 27:b.scope.$apply(function(){b.scope.$form.$cancel()})}}),b.single&&"no"===b.buttons&&b.autosubmit(),b.editorEl.bind("click",function(e){e.which&&1!==e.which||b.scope.$form.$visible&&(b.scope.$form._clicked=!0)})},b.setWaiting=function(e){e?(m=!b.inputEl.attr("disabled")&&!b.inputEl.attr("ng-disabled")&&!b.inputEl.attr("ng-enabled"))&&(b.inputEl.attr("disabled","disabled"),b.buttonsEl&&b.buttonsEl.find("button").attr("disabled","disabled")):m&&(b.inputEl.removeAttr("disabled"),b.buttonsEl&&b.buttonsEl.find("button").removeAttr("disabled"))},b.activate=function(e,t){setTimeout(function(){var a=b.inputEl[0];"focus"===l.activate&&a.focus?(void 0!==e&&""!==e&&a.setSelectionRange&&(t=t||e,a.onfocus=function(){setTimeout(function(){try{this.setSelectionRange(e,t)}catch(e){}}.bind(this))}),"editableRadiolist"==b.directiveName||"editableChecklist"==b.directiveName||"editableBsdate"==b.directiveName||"editableTagsInput"==b.directiveName?a.querySelector(".ng-pristine").focus():a.focus()):"select"===l.activate&&(a.select?a.select():a.focus&&a.focus())},0)},b.setError=function(t){angular.isObject(t)||(e.$error=d.trustAsHtml(t),b.error=t)},b.catchError=function(e,t){return angular.isObject(e)&&!0!==t?c.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},b.save=function(){h.assign(e.$parent,b.useCopy?angular.copy(b.scope.$data):b.scope.$data)},b.handleEmpty=function(){var t=h(e.$parent),a=null===t||void 0===t||""===t||angular.isArray(t)&&0===t.length;i.toggleClass("editable-empty",a)},b.autosubmit=angular.noop,b.onshow=angular.noop,b.onhide=angular.noop,b.oncancel=angular.noop,b.onbeforesave=angular.noop,b.onaftersave=angular.noop}return a.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q","$sce","$templateCache"],a}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(e,t,a,i,n,r,o,l){return function(t){return{restrict:"A",scope:!0,require:[t.directiveName,"?^form"],controller:r,link:function(a,r,s,u){var c,d=u[0],p=!1;if(u[1])c=u[1],p=void 0===s.eSingle;else if(s.eForm){var h=e(s.eForm)(a);if(h)c=h,p=!0;else if(r&&"function"==typeof r.parents&&r.parents().last().find("form[name="+s.eForm+"]").length)c=null,p=!0;else for(var m=0;m<n[0].forms.length;m++)if(n[0].forms[m].name===s.eForm){c=null,p=!0;break}}angular.forEach(t,function(e,t){void 0!==d[t]&&(d.parent[t]=d[t])}),angular.extend(d,t);var b=function(){return angular.isDefined(s.editDisabled)?a.$eval(s.editDisabled):l.isDisabled};if(d.init(!p),a.$editable=d,r.addClass("editable"),p)if(c){if(a.$form=c,!a.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";a.$form.$addEditable(d)}else i.$$editableBuffer=i.$$editableBuffer||{},i.$$editableBuffer[s.eForm]=i.$$editableBuffer[s.eForm]||[],i.$$editableBuffer[s.eForm].push(d),a.$form=null;else a.$form=o(),a.$form.$addEditable(d),s.eForm&&(e(s.eForm).assign||angular.noop)(a.$parent,a.$form),s.eForm&&!s.eClickable||(r.addClass("editable-click"),r.bind(l.activationEvent,function(e){e.preventDefault(),e.editable=d,b()||a.$apply(function(){a.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(e,t,a,i,n){var r=[],o=function(e,t){if(t==e)return!0;for(var a=t.parentNode;null!==a;){if(a==e)return!0;a=a.parentNode}return!1},l=function(e,t){var a=!0,i=e.$editables;return angular.forEach(i,function(e){var i=e.editorEl[0];o(i,t.target)&&(a=!1)}),a};t.bind("click",function(e){if(!e.which||1===e.which){for(var t=[],i=[],n=0;n<r.length;n++)r[n]._clicked?r[n]._clicked=!1:r[n].$waiting||("cancel"===r[n]._blur&&l(r[n],e)&&t.push(r[n]),"submit"===r[n]._blur&&l(r[n],e)&&i.push(r[n]));(t.length||i.length)&&a.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(i,function(e){e.$submit()})})}}),a.$on("closeEdit",function(){for(var e=0;e<r.length;e++)r[e].$hide()});var s={$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show()),e.catchError(e.setWaiting(this.$waiting))},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return void this.$editables.splice(t,1)},$show:function(){if(!this.$visible){this.$visible=!0;var e=i();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===n.indexOf(r,this)&&r.push(this)}),0)}},$activate:function(e){var t,a,i;if(this.$editables.length){if(angular.isString(e))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===e)return void this.$editables[t].activate();for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return void this.$editables[t].activate();a=this.$editables[0].elem[0].selectionStart?this.$editables[0].elem[0].selectionStart:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0,i=this.$editables[0].elem[0].selectionEnd?this.$editables[0].elem[0].selectionEnd:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0,this.$editables[0].activate(a,i)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),n.arrayRemove(r,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,t){angular.forEach(this.$editables,function(a){e&&a.name!==e||a.setError(t)})},$submit:function(){function e(e){var t=i();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var t=i();angular.forEach(this.$editables,function(e){t.when(e.onbeforesave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,e,!0),onFalse:angular.bind(this,e,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var e=i();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},s)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(e,t,a,i){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,i,n,r){var o,l=r[0];n.editableForm?t[n.editableForm]&&t[n.editableForm].$show?(o=t[n.editableForm],angular.extend(l,o)):(o=a(),t[n.editableForm]=o,angular.extend(o,l)):(o=a(),angular.extend(l,o));var s=e.$$editableBuffer,u=l.$name;u&&s&&s[u]&&(angular.forEach(s[u],function(e){o.$addEditable(e)}),delete s[u])},post:function(e,a,n,r){var o;o=n.editableForm&&e[n.editableForm]&&e[n.editableForm].$show?e[n.editableForm]:r[0],n.onshow&&(o.$onshow=angular.bind(o,t(n.onshow),e)),n.onhide&&(o.$onhide=angular.bind(o,t(n.onhide),e)),n.oncancel&&(o.$oncancel=angular.bind(o,t(n.oncancel),e)),n.shown&&t(n.shown)(e)&&o.$show(),o._blur=n.blur||i.blurForm,n.ngSubmit||n.submit||(n.onbeforesave&&(o.$onbeforesave=function(){return t(n.onbeforesave)(e,{$data:o.$data})}),n.onaftersave&&(o.$onaftersave=function(){return t(n.onaftersave)(e,{$data:o.$data})}),a.bind("submit",function(t){t.preventDefault(),e.$apply(function(){o.$submit()})})),a.bind("click",function(e){e.which&&1!==e.which||o.$visible&&(o._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(e){function t(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,a){if(!1===t)this.hasFalse=!0;else if(!a&&angular.isObject(t))this.promises.push(e.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){function a(){l.hasString||l.hasFalse?!l.hasString&&l.hasFalse?n():r():i()}t=t||{};var i=t.onTrue||angular.noop,n=t.onFalse||angular.noop,r=t.onString||angular.noop,o=t.onWait||angular.noop,l=this;this.promises.length?(o(!0),e.all(this.promises).then(function(e){o(!1),angular.forEach(e,function(e){l.when(e,!0)}),a()},function(e){o(!1),r()})):a()}}}return t}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var a=0;a<e.length;a++)if(t===e[a])return a;return-1},arrayRemove:function(e,t){var a=this.indexOf(e,t);return a>=0&&e.splice(a,1),t},camelToDash:function(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){var t=/([\:\-\_]+(.))/g,a=/^moz([A-Z])/;return e.replace(t,function(e,t,a,i){return i?a.toUpperCase():a}).replace(a,"Moz$1")},rename:function(e,t){if(t[0]&&t[0].attributes){var a=angular.element("<"+e+"/>");a.html(t.html());for(var i=t[0].attributes,n=0;n<i.length;++n)a.attr(i.item(n).nodeName,i.item(n).value);return a}}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function e(e){var a;if(!(a=e.match(t)))throw"ng-options parse error";var i,n=a[2]||a[1],r=a[4]||a[6],o=a[5],l=(a[3],a[2]?a[1]:r),s=a[7],u=a[8],c=u?a[8]:null;return void 0===o?(i=r+" in "+s,void 0!==u&&(i+=" track by "+c)):i="("+o+", "+r+") in "+s,{ngRepeat:i,locals:{valueName:r,keyName:o,valueFn:l,displayFn:n}}}var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return e}]),angular.module("xeditable").factory("editableCombodate",[function(){function e(e,t){if(this.$element=angular.element(e),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var a=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:a,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,t),this.init()}return e.prototype={constructor:e,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var e=this;this.$widget.find("select").bind("change",function(t){(angular.element(t.target).hasClass("month")||angular.element(t.target).hasClass("year"))&&e.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template,t=this.options.customClass;return angular.forEach(this.map,function(t,a){t=t[0];var i=new RegExp(t+"+"),n=t.length>1?t.substring(1,2):t;e=e.replace(i,"{"+n+"}")}),e=e.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(a,i){a=a[0];var n=a.length>1?a.substring(1,2):a;e=e.replace("{"+n+"}",'<select class="'+i+" "+t+'"></select>')}),e},initCombos:function(){for(var e in this.map){var t=this.$widget[0].querySelectorAll("."+e);this["$"+e]=t.length?angular.element(t):null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var a="fill"+e.charAt(0).toUpperCase()+e.slice(1),i=this[a](),n=t.val();t.html("");for(var r=0;r<i.length;r++)t.append('<option value="'+i[r][0]+'">'+i[r][1]+"</option>");t.val(n)}},fillCommon:function(e){var t,a=[];if("name"===this.options.firstItem){t=moment.relativeTime||moment.langData()._relativeTime;var i="function"==typeof t[e]?t[e](1,!0,e,!1):t[e];i=i.split(" ").reverse()[0],a.push(["",i])}else"empty"===this.options.firstItem&&a.push(["",""]);return a},fillDay:function(){var e,t,a=this.fillCommon("d"),i=-1!==this.options.template.indexOf("DD"),n=31;if(this.options.smartDays&&this.$month&&this.$year){var r=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(r)||isNaN(o)||(n=moment([o,r]).daysInMonth())}for(t=1;t<=n;t++)e=i?this.leadZero(t):t,a.push([t,e]);return a},fillMonth:function(){var e,t,a=this.fillCommon("M"),i=-1!==this.options.template.indexOf("MMMM"),n=-1!==this.options.template.indexOf("MMM"),r=-1!==this.options.template.indexOf("MM");for(t=0;t<=11;t++)e=i?moment().date(1).month(t).format("MMMM"):n?moment().date(1).month(t).format("MMM"):r?this.leadZero(t+1):t+1,a.push([t,e]);return a},fillYear:function(){var e,t,a=[],i=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=i?t:(t+"").substring(2),a[this.options.yearDescending?"push":"unshift"]([t,e]);return a=this.fillCommon("y").concat(a)},fillHour:function(){var e,t,a=this.fillCommon("h"),i=-1!==this.options.template.indexOf("h"),n=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),r=i?1:0,o=i?12:23;for(t=r;t<=o;t++)e=n?this.leadZero(t):t,a.push([t,e]);return a},fillMinute:function(){var e,t,a=this.fillCommon("m"),i=-1!==this.options.template.indexOf("mm");for(t=0;t<=59;t+=this.options.minuteStep)e=i?this.leadZero(t):t,a.push([t,e]);return a},fillSecond:function(){var e,t,a=this.fillCommon("s"),i=-1!==this.options.template.indexOf("ss");for(t=0;t<=59;t+=this.options.secondStep)e=i?this.leadZero(t):t,a.push([t,e]);return a},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(e){var t,a={},i=this,n=!1;return angular.forEach(this.map,function(e,t){if("ampm"!==t){var r="day"===t?1:0;return a[t]=i["$"+t]?parseInt(i["$"+t].val(),10):r,isNaN(a[t])?(n=!0,!1):void 0}}),n?"":(this.$ampm&&(12===a.hour?a.hour="am"===this.$ampm.val()?0:12:a.hour="am"===this.$ampm.val()?a.hour:a.hour+12),t=moment([a.year,a.month,a.day,a.hour,a.minute,a.second]),this.highlight(t),e=void 0===e?this.options.format:e,null===e?t.isValid()?t:null:t.isValid()?t.format(e):"")},setValue:function(e){function t(e,t){var a={};return angular.forEach(e.children("option"),function(e,i){var n=angular.element(e).attr("value");if(""!==n){var r=Math.abs(n-t);(void 0===a.distance||r<a.distance)&&(a={value:n,distance:r})}}),a.value}if(e){var a="string"==typeof e?moment(e,this.options.format,!0):moment(e),i=this,n={};a.isValid()&&(angular.forEach(this.map,function(e,t){"ampm"!==t&&(n[t]=a[e[1]]())}),this.$ampm&&(n.hour>=12?(n.ampm="pm",n.hour>12&&(n.hour-=12)):(n.ampm="am",0===n.hour&&(n.hour=12))),angular.forEach(n,function(e,a){i["$"+a]&&("minute"===a&&i.options.minuteStep>1&&i.options.roundTime&&(e=t(i["$"+a],e)),"second"===a&&i.options.secondStep>1&&i.options.roundTime&&(e=t(i["$"+a],e)),i["$"+a].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(a.format(this.options.format)).triggerHandler("change"))}},highlight:function(e){
e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(t,a){return new e(t,a)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove",clear:"icon-trash"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove",clear:"glyphicon glyphicon-trash"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}}});
},{}],172:[function(require,module,exports){
!function(t){"use strict";function e(t){if(!w(t))return Zr;b(t.objectMaxDepth)&&(Zr.objectMaxDepth=n(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function n(t){return E(t)&&t>0}function r(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o=arguments[1],a="["+(t?t+":":"")+i+"] ",s=G(arguments,2).map(function(t){return Ct(t,Zr.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<s.length?s[e]:t}),a+="\nhttp://errors.angularjs.org/1.6.8/"+(t?t+"/":"")+i,r=0,n="?";r<s.length;r++,n="&")a+=n+"p"+r+"="+encodeURIComponent(s[r]);return new e(a)}}function i(t){if(null==t||M(t))return!1;if(mi(t)||C(t)||oi&&t instanceof oi)return!0;var e="length"in Object(t)&&t.length;return E(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var r,a;if(t)if(A(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if(mi(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;r<a;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(x(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)Xr.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function u(){return++$i}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(w(a)||A(a))for(var s=Object.keys(a),u=0,f=s.length;u<f;u++){var h=s[u],p=a[h];n&&w(p)?S(p)?t[h]=new Date(p.valueOf()):O(p)?t[h]=new RegExp(p):p.nodeName?t[h]=p.cloneNode(!0):R(p)?t[h]=p.clone():(w(t[h])||(t[h]=mi(p)?[]:{}),l(t[h],[p],!0)):t[h]=p}}return c(t,r),t}function f(t){return l(t,ui.call(arguments,1),!1)}function h(t){return l(t,ui.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function d(t,e){return f(Object.create(t),e)}function $(){}function v(t){return t}function m(t){return function(){return t}}function g(t){return A(t.toString)&&t.toString!==fi}function y(t){return void 0===t}function b(t){return void 0!==t}function w(t){return null!==t&&"object"==typeof t}function x(t){return null!==t&&"object"==typeof t&&!hi(t)}function C(t){return"string"==typeof t}function E(t){return"number"==typeof t}function S(t){return"[object Date]"===fi.call(t)}function k(t){switch(fi.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function A(t){return"function"==typeof t}function O(t){return"[object RegExp]"===fi.call(t)}function M(t){return t&&t.window===t}function V(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"[object File]"===fi.call(t)}function N(t){return"[object FormData]"===fi.call(t)}function I(t){return"[object Blob]"===fi.call(t)}function j(t){return"boolean"==typeof t}function D(t){return t&&A(t.then)}function P(t){return t&&E(t.length)&&gi.test(fi.call(t))}function _(t){return"[object ArrayBuffer]"===fi.call(t)}function R(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function U(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function L(t){return ti(t.nodeName||t[0]&&t[0].nodeName)}function q(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function F(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function H(t,e,r){function i(t,e,n){if(--n<0)return"...";var r,i=e.$$hashKey;if(mi(t))for(var o=0,s=t.length;o<s;o++)e.push(a(t[o],n));else if(x(t))for(r in t)e[r]=a(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=a(t[r],n));else for(r in t)Xr.call(t,r)&&(e[r]=a(t[r],n));return c(e,i),e}function a(t,e){if(!w(t))return t;var n=u.indexOf(t);if(-1!==n)return l[n];if(M(t)||V(t))throw pi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(t);return void 0===o&&(o=mi(t)?[]:Object.create(hi(t)),r=!0),u.push(t),l.push(o),r?i(t,o,e):o}function s(t){switch(fi.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(A(t.cloneNode))return t.cloneNode(!0)}var u=[],l=[];if(r=n(r)?r:NaN,e){if(P(e)||_(e))throw pi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw pi("cpi","Can't copy! Source and destination are identical.");return mi(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),u.push(t),l.push(e),i(t,e,r)}return a(t,r)}function B(t,e){return t===e||t!==t&&e!==e}function z(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!mi(t)){if(S(t))return!!S(e)&&B(t.getTime(),e.getTime());if(O(t))return!!O(e)&&t.toString()===e.toString();if(V(t)||V(e)||M(t)||M(e)||mi(e)||S(e)||O(e))return!1;i=gt();for(r in t)if("$"!==r.charAt(0)&&!A(t[r])){if(!z(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&b(e[r])&&!A(e[r]))return!1;return!0}if(!mi(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!z(t[r],e[r]))return!1;return!0}}return!1}function W(t,e,n){return t.concat(ui.call(e,n))}function G(t,e){return ui.call(t,e||0)}function K(t,e){var n=arguments.length>2?G(arguments,2):[];return!A(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,W(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function J(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:M(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":V(n)&&(r="$SCOPE"),r}function Z(t,e){if(!y(t))return E(e)||(e=e?2:null),JSON.stringify(t,J,e)}function Y(t){return C(t)?JSON.parse(t):t}function Q(t,e){t=t.replace(Ci,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return vi(n)?e:n}function X(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function tt(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return X(t,n*(Q(e,r)-r))}function et(t){t=oi(t).clone().empty();var e=oi("<div>").append(t).html();try{return t[0].nodeType===Mi?ti(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+ti(e)})}catch(t){return ti(e)}}function nt(t){try{return decodeURIComponent(t)}catch(t){}}function rt(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(r=t.substring(0,n),i=t.substring(n+1)),r=nt(r),b(r)&&(i=!b(i)||nt(i),Xr.call(e,r)?mi(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function it(t){var e=[];return o(t,function(t,n){mi(t)?o(t,function(t){e.push(at(n,!0)+(!0===t?"":"="+at(t,!0)))}):e.push(at(n,!0)+(!0===t?"":"="+at(t,!0)))}),e.length?e.join("&"):""}function ot(t){return at(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function at(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function st(t,e){var n,r,i=Ei.length;for(r=0;r<i;++r)if(n=Ei[r]+e,C(n=t.getAttribute(n)))return n;return null}function ut(e,n){var r,i,a={};if(o(Ei,function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,i=e.getAttribute(n))}),o(Ei,function(t){var n,o=t+"app";!r&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!Si)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==st(r,"strict-di"),n(r,i?[i]:[],a)}}function ct(e,n,r){w(r)||(r={}),r=f({strictDi:!1},r);var i=function(){if(e=oi(e),e.injector()){var i=e[0]===t.document?"document":et(e);throw pi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=ce(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!s.test(t.name))return i();t.name=t.name.replace(s,""),di.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),i()},A(di.resumeDeferredBootstrap)&&di.resumeDeferredBootstrap()}function lt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ft(t){var e=di.element(t).injector();if(!e)throw pi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ht(t,e){return e=e||"_",t.replace(ki,function(t,n){return(n?e:"")+t.toLowerCase()})}function pt(t,e,n){if(!t)throw pi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function dt(t,e,n){return n&&mi(t)&&(t=t[t.length-1]),pt(A(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function $t(t,e){if("hasOwnProperty"===t)throw pi("badname","hasOwnProperty is not a valid {0} name",e)}function vt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&A(t)?K(o,t):t}function mt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=oi(ui.call(t,0,i))),e.push(n));return e||t}function gt(){return Object.create(null)}function yt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!g(t)||mi(t)||S(t)?Z(t):t.toString()}return t}function bt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)}(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=u),function(){return r[n||"push"]([t,e,arguments]),h}}function e(t,e,n){return n||(n=u),function(i,o){return o&&A(o)&&(o.$$moduleName=r),n.push([t,e,arguments]),h}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var u=[],c=[],l=[],f=t("$injector","invoke","push",c),h={_invokeQueue:u,_configBlocks:c,_runBlocks:l,info:function(t){if(b(t)){if(!w(t))throw i("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator",c),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),component:e("$compileProvider","component"),config:f,run:function(t){return l.push(t),this}};return a&&f(a),h})}})}function wt(t,e){if(mi(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function xt(t,e){var r=[];return n(e)&&(t=di.copy(t,null,e)),JSON.stringify(t,function(t,e){if(e=J(t,e),w(e)){if(r.indexOf(e)>=0)return"...";r.push(e)}return e})}function Ct(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?xt(t,e):t}function Et(){return++Di}function St(t){return At(t.replace(_i,"ms-"))}function kt(t,e){return e.toUpperCase()}function At(t){return t.replace(Pi,kt)}function Ot(t){return!qi.test(t)}function Mt(t){var e=t.nodeType;return e===Oi||!e||e===Ti}function Vt(t){for(var e in ji[t.ng339])return!0;return!1}function Tt(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(Ot(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(Fi.exec(t)||["",""])[1].toLowerCase(),i=Bi[r]||Bi._default,n.innerHTML=i[1]+t.replace(Hi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=W(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function Nt(e,n){n=n||t.document;var r;return(r=Li.exec(e))?[n.createElement(r[1])]:(r=Tt(e,n))?r.childNodes:[]}function It(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function jt(t){if(t instanceof jt)return t;var e;if(C(t)&&(t=yi(t),e=!0),!(this instanceof jt)){if(e&&"<"!==t.charAt(0))throw Ui("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new jt(t)}e?Bt(this,Nt(t)):A(t)?Zt(t):Bt(this,t)}function Dt(t){return t.cloneNode(!0)}function Pt(t,e){!e&&Mt(t)&&oi.cleanData([t]),t.querySelectorAll&&oi.cleanData(t.querySelectorAll("*"))}function _t(t,e,n,r){if(b(r))throw Ui("offargs","jqLite#off() does not support the `selector` argument");var i=Ut(t),a=i&&i.events,s=i&&i.handle;if(s)if(e){var u=function(e){var r=a[e];b(n)&&F(r||[],n),b(n)&&r&&r.length>0||(t.removeEventListener(e,s),delete a[e])};o(e.split(" "),function(t){u(t),Ri[t]&&u(Ri[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function Rt(t,e){var n=t.ng339,r=n&&ji[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),_t(t)),delete ji[n],t.ng339=void 0}}function Ut(t,e){var n=t.ng339,r=n&&ji[n];return e&&!r&&(t.ng339=n=Et(),r=ji[n]={events:{},data:{},handle:void 0}),r}function Lt(t,e,n){if(Mt(t)){var r,i=b(n),o=!i&&e&&!w(e),a=!e,s=Ut(t,!o),u=s&&s.data;if(i)u[At(e)]=n;else{if(a)return u;if(o)return u&&u[At(e)];for(r in e)u[At(r)]=e[r]}}}function qt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Ft(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;o(e.split(" "),function(t){t=yi(t),r=r.replace(" "+t+" "," ")}),r!==n&&t.setAttribute("class",yi(r))}}function Ht(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;o(e.split(" "),function(t){t=yi(t),-1===r.indexOf(" "+t+" ")&&(r+=t+" ")}),r!==n&&t.setAttribute("class",yi(r))}}function Bt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function zt(t,e){return Wt(t,"$"+(e||"ngController")+"Controller")}function Wt(t,e,n){t.nodeType===Ti&&(t=t.documentElement);for(var r=mi(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(b(n=oi.data(t,r[i])))return n;t=t.parentNode||t.nodeType===Ni&&t.host}}function Gt(t){for(Pt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Kt(t,e){e||Pt(t);var n=t.parentNode;n&&n.removeChild(t)}function Jt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):oi(n).on("load",e)}function Zt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Yt(t,e){var n=Gi[e.toLowerCase()];return n&&Ki[L(t)]&&n}function Qt(t){return Ji[t]}function Xt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||te;o>1&&(i=wt(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,i[u])}};return n.elem=t,n}function te(t,e,n){n.call(t,e)}function ee(t,e,n){var r=e.relatedTarget;r&&(r===t||zi.call(t,r))||n.call(t,e)}function ne(){this.$get=function(){return f(jt,{hasClass:function(t,e){return t.attr&&(t=t[0]),qt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ht(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ft(t,e)}})}}function re(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||u)():r+":"+t}function ie(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function oe(t){return Function.prototype.toString.call(t)}function ae(t){var e=oe(t).replace(ro,"");return e.match(Xi)||e.match(to)}function se(t){var e=ae(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ue(t,e,n){var r,i,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw C(n)&&n||(n=t.name||se(t)),io("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=ae(t),o(i[1].split(eo),function(t){t.replace(no,function(t,e,n){r.push(n)})})}t.$inject=r}}else mi(t)?(a=t.length-1,dt(t[a],"fn"),r=t.slice(0,a)):dt(t,"fn",!0);return r}function ce(t,e){function n(t){return function(e,n){if(!w(e))return t(e,n);o(e,s(t))}}function r(t,e){if($t(t,"service"),(A(e)||mi(e))&&(e=x.instantiate(e)),!e.$get)throw io("pget","Provider '{0}' must define $get factory method.",t);return b[t+$]=e}function i(t,e){return function(){var n=k.invoke(e,this);if(y(n))throw io("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:!1!==n?i(t,e):e})}function u(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return a(t,m(e),!1)}function l(t,e){$t(t,"constant"),b[t]=e,E[t]=e}function f(t,e){var n=x.get(t+$),r=n.$get;n.$get=function(){var t=k.invoke(r,n);return k.invoke(e,null,{$delegate:t})}}function h(t){pt(y(t)||mi(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=x.get(r[0]);i[r[1]].apply(i,r[2])}}if(!g.get(t)){g.set(t,!0);try{C(t)?(e=si(t),k.modules[t]=e,n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):A(t)?n.push(x.invoke(t)):mi(t)?n.push(x.invoke(t)):dt(t,"module")}catch(e){throw mi(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),io("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===d)throw io("cdep","Circular dependency found: {0}",e+" <- "+v.join(" <- "));return t[e]}try{return v.unshift(e),t[e]=d,t[e]=n(e,r),t[e]}catch(n){throw t[e]===d&&delete t[e],n}finally{v.shift()}}function i(t,n,i){for(var o=[],a=ce.$$annotate(t,e,i),s=0,u=a.length;s<u;s++){var c=a[s];if("string"!=typeof c)throw io("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return o}function o(t){if(ii||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return j(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(oe(t))),e}function a(t,e,n,r){"string"==typeof n&&(r=n,n=null);var a=i(t,n,r);return mi(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var r=mi(t)?t[t.length-1]:t,o=i(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:ce.$$annotate,has:function(e){return b.hasOwnProperty(e+$)||t.hasOwnProperty(e)}}}e=!0===e;var d={},$="Provider",v=[],g=new Yi,b={$provide:{provider:n(r),factory:n(a),service:n(u),value:n(c),constant:n(l),decorator:f}},x=b.$injector=p(b,function(t,e){throw di.isString(e)&&v.push(e),io("unpr","Unknown provider: {0}",v.join(" <- "))}),E={},S=p(E,function(t,e){var n=x.get(t+$,e);return k.invoke(n.$get,n,void 0,t)}),k=S;b["$injector"+$]={$get:m(S)},k.modules=x.modules=gt();var O=h(t);return k=S.get("$injector"),k.strictDi=e,o(O,function(t){t&&k.invoke(t)}),k.loadNewModules=function(t){o(h(t),function(t){t&&k.invoke(t)})},k}function le(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===L(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(A(t))t=t();else if(R(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else E(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=C(t)?t:E(t)?t.toString():n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Jt(function(){r.$evalAsync(s)})}),s}]}function fe(t,e){return t||e?t?e?(mi(t)&&(t=t.join(" ")),mi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function he(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===ao)return n}}function pe(t){C(t)&&(t=t.split(" "));var e=gt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function de(t){return w(t)?t:{}}function $e(t,e,n,r){function i(t){try{t.apply(null,G(arguments,1))}finally{if(0===--m)for(;g.length;)try{g.pop()()}catch(t){n.error(t)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){E=null,c()}function u(){b=S(),b=y(b)?null:b,z(b,O)&&(b=O),O=b,w=b}function c(){var t=w;u(),x===l.url()&&t===b||(x=l.url(),w=b,o(k,function(t){t(l.url(),b)}))}var l=this,f=t.location,h=t.history,p=t.setTimeout,d=t.clearTimeout,v={};l.isMock=!1;var m=0,g=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){m++},l.notifyWhenNoOutstandingRequests=function(t){0===m?t():g.push(t)};var b,w,x=f.href,C=e.find("base"),E=null,S=r.history?function(){try{return h.state}catch(t){}}:$;u(),l.url=function(e,n,i){if(y(i)&&(i=null),f!==t.location&&(f=t.location),h!==t.history&&(h=t.history),e){var o=w===i;if(x===e&&(!r.history||o))return l;var s=x&&Ye(x)===Ye(e);return x=e,w=i,!r.history||s&&o?(s||(E=e),n?f.replace(e):s?f.hash=a(e):f.href=e,f.href!==e&&(E=e)):(h[n?"replaceState":"pushState"](i,"",e),u()),E&&(E=e),l}return E||f.href.replace(/%27/g,"'")},l.state=function(){return b};var k=[],A=!1,O=null;l.onUrlChange=function(e){return A||(r.history&&oi(t).on("popstate",s),oi(t).on("hashchange",s),A=!0),k.push(e),e},l.$$applicationDestroyed=function(){oi(t).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},l.defer=function(t,e){var n;return m++,n=p(function(){delete v[n],i(t)},e||0),v[n]=!0,n},l.defer.cancel=function(t){return!!v[t]&&(delete v[t],d(t),i($),!0)}}function ve(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new $e(t,r,e,n)}]}function me(){this.$get=function(){function t(t,n){function i(t){t!==h&&(p?p===t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u=gt(),c=n&&n.capacity||Number.MAX_VALUE,l=gt(),h=null,p=null;return e[t]={put:function(t,e){if(!y(e)){if(c<Number.MAX_VALUE){i(l[t]||(l[t]={key:t}))}return t in u||a++,u[t]=e,a>c&&this.remove(p.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e===h&&(h=e.p),e===p&&(p=e.n),o(e.n,e.p),delete l[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=gt(),a=0,l=gt(),h=p=null},destroy:function(){u=null,s=null,l=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function ge(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ye(){}function be(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=gt();return o(t,function(t,o){if(t in O)return void(i[o]=O[t]);var a=t.match(r);if(!a)throw po("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(O[t]=i[o])}),i}function i(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(!0===t.bindToController?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw po("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function a(t){var e=t.charAt(0);if(!e||e!==ti(e))throw po("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw po("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!mi(e)&&w(e)&&o(e,function(t,n){var r=t.match(E);t.substring(r[0].length)||(e[n]=r[0]+n)}),e}function c(t,e){if(t&&(!C(t)||!/[EACM]/.test(t)))throw po("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var l={},h="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,g=/(([\w-]+)(?::([^;]+))?;?)/,x=U("ngSrc,ngSrcset,src,srcset"),E=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,O=gt();this.directive=function t(n,r){return pt(n,"name"),$t(n,"directive"),C(n)?(a(n),pt(r,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],e.factory(n+h,["$injector","$exceptionHandler",function(t,e){var r=[];return o(l[n],function(i,o){try{var a=t.invoke(i);A(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=u(a),a.restrict=c(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(t){e(t)}}),r}])),l[n].push(r)):o(n,s(t)),this},this.component=function t(e,n){function r(t){function e(e){return A(e)||mi(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var r=n.template||n.templateUrl?n.template:"",a={controller:i,controllerAs:Se(n.controller)||n.controllerAs||"$ctrl",template:e(r),templateUrl:e(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return o(n,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}if(!C(e))return o(e,s(K(this,t))),this;var i=n.controller||function(){};return o(n,function(t,e){"$"===e.charAt(0)&&(r[e]=t,A(i)&&(i[e]=t))}),r.$inject=["$injector"],this.directive(e,r)},this.aHrefSanitizationWhitelist=function(t){return b(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var M=!0;this.debugInfoEnabled=function(t){return b(t)?(M=t,this):M};var T=!1;this.preAssignBindingsEnabled=function(t){return b(t)?(T=t,this):T};var N=!1;this.strictComponentBindingsEnabled=function(t){return b(t)?(N=t,this):N};var I=10;this.onChangesTtl=function(t){return arguments.length?(I=t,this):I};var D=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(D=t,this):D};var P=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(P=t,this):P},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,a,s,u,c,m,O,_){function R(){try{if(!--It)throw At=void 0,po("infchng","{0} $onChanges() iterations reached. Aborting!\n",I);c.$apply(function(){for(var t=[],e=0,n=At.length;e<n;++e)try{At[e]()}catch(e){t.push(e)}if(At=void 0,t.length)throw t})}finally{It++}}function U(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t}function q(t,e,n){Vt.innerHTML="<span "+e+">";var r=Vt.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function H(t,e){try{t.addClass(e)}catch(t){}}function W(t,e,n,r,i){t instanceof oi||(t=oi(t));var o=Z(t,e,t,n,r,i);W.$$addScopeClass(t);var a=null;return function(e,n,r){if(!t)throw po("multilink","This element has already been linked.");pt(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,u=r.transcludeControllers,c=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=J(c));var l;if(l="html"!==a?oi(yt(a,oi("<div>").append(t).html())):n?Wi.clone.call(t):t,u)for(var f in u)l.data("$"+f+"Controller",u[f].instance);return W.$$addScopeInfo(l,e),n&&n(l,e),o&&o(e,l,l,s),n||(t=o=null),l}}function J(t){var e=t&&t[0];return e&&"foreignobject"!==L(e)&&fi.call(e).match(/SVG/)?"svg":"html"}function Z(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,u,c,l,f,h,$;if(p){var v=n.length;for($=new Array(v),c=0;c<d.length;c+=3)f=d[c],$[f]=n[f]}else $=n;for(c=0,l=d.length;c<l;)s=$[d[c++]],o=d[c++],a=d[c++],o?(o.scope?(u=t.$new(),W.$$addScopeInfo(oi(s),u)):u=t,h=o.transcludeOnThisElement?Q(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?Q(t,e):null,o(a,u,s,r,h)):a&&a(t,s.childNodes,void 0,i)}for(var s,u,c,l,f,h,p,d=[],$=mi(t)||t instanceof oi,v=0;v<t.length;v++)s=new U,11===ii&&Y(t,v,$),u=X(t[v],[],s,0===v?r:void 0,i),c=u.length?ot(u,t[v],s,e,n,null,[],[],o):null,c&&c.scope&&W.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=t[v].childNodes)||!l.length?null:Z(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(d.push(v,c,f),h=!0,p=p||c),o=null;return h?a:null}function Y(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===Mi)for(;;){if(!(r=o?i.nextSibling:t[e+1])||r.nodeType!==Mi)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}}function Q(t,e,n){function r(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=gt();for(var o in e.$$slots)e.$$slots[o]?i[o]=Q(t,e.$$slots[o],n):i[o]=null;return r}function X(t,e,n,r,i){var o,a,s,u=t.nodeType,c=n.$attr;switch(u){case Oi:a=L(t),ct(e,xe(a),"E",r,i);for(var l,f,h,p,d,$,v=t.attributes,m=0,y=v&&v.length;m<y;m++){var b=!1,x=!1;l=v[m],f=l.name,d=l.value,p=xe(f),$=Rt.test(p),$&&(f=f.replace(vo,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=p.match(Ut);E&&lt(E[1])&&(b=f,x=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=xe(f.toLowerCase()),c[h]=f,!$&&n.hasOwnProperty(h)||(n[h]=d,Yt(t,h)&&(n[h]=!0)),wt(t,e,d,h,$),ct(e,h,"A",r,i,b,x)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Nt)break;if(s=t.className,w(s)&&(s=s.animVal),C(s)&&""!==s)for(;o=g.exec(s);)h=xe(o[2]),ct(e,h,"C",r,i)&&(n[h]=yi(o[3])),s=s.substr(o.index+o[0].length);break;case Mi:mt(e,t.nodeValue);break;case Vi:if(!Tt)break;tt(t,e,n,r,i)}return e.sort($t),e}function tt(t,e,n,r,i){try{var o=p.exec(t.nodeValue);if(o){var a=xe(o[1]);ct(e,a,"M",r,i)&&(n[a]=yi(o[2]))}}catch(t){}}function nt(t,e,n){var r=[],i=0
;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw po("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Oi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0);else r.push(t);return oi(r)}function rt(t,e,n){return function(r,i,o,a,s){return i=nt(i[0],e,n),t(r,i,o,a,s)}}function it(t,e,n,r,i,o){var a;return t?W(e,n,r,i,o):function(){return a||(a=W(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function ot(t,e,n,i,a,s,u,c,l){function h(t,e,n,r){t&&(n&&(t=rt(t,n,r)),t.require=d.require,t.directiveName=$,(E===d||d.$$isolateScope)&&(t=Ct(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=rt(e,n,r)),e.require=d.require,e.directiveName=$,(E===d||d.$$isolateScope)&&(e=Ct(e,{isolateScope:!0})),c.push(e))}function p(t,i,a,s,l){function h(t,e,n,r){var i;if(V(t)||(r=n,n=e,e=t,t=void 0),N&&(i=g),n||(n=N?k.parent():k),!r)return l(t,e,i,n,R);var o=l.$$slots[r];if(o)return o(t,e,i,n,R);if(y(o))throw po("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,et(k))}var p,d,$,v,m,g,b,k,O,M;e===a?(O=n,k=n.$$element):(k=oi(a),O=new U(k,n)),m=i,E?v=i.$new(!0):x&&(m=i.$parent),l&&(b=h,b.$$boundTransclude=l,b.isSlotFilled=function(t){return!!l.$$slots[t]}),C&&(g=st(k,O,b,C,v,i,E)),E&&(W.$$addScopeInfo(k,v,!0,!(S&&(S===E||S===E.$$originalDirective))),W.$$addScopeClass(k,!0),v.$$isolateBindings=E.$$isolateBindings,M=kt(i,O,v,v.$$isolateBindings,E),M.removeWatches&&v.$on("$destroy",M.removeWatches));for(var I in g){var j=C[I],D=g[I],P=j.$$bindings.bindToController;if(T){D.bindingInfo=P?kt(m,O,D.instance,P,j):{};var _=D();_!==D.instance&&(D.instance=_,k.data("$"+j.name+"Controller",_),D.bindingInfo.removeWatches&&D.bindingInfo.removeWatches(),D.bindingInfo=kt(m,O,D.instance,P,j))}else D.instance=D(),k.data("$"+j.name+"Controller",D.instance),D.bindingInfo=kt(m,O,D.instance,P,j)}for(o(C,function(t,e){var n=t.require;t.bindToController&&!mi(n)&&w(n)&&f(g[e].instance,at(e,n,k,g))}),o(g,function(t){var e=t.instance;if(A(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){r(t)}if(A(e.$onInit))try{e.$onInit()}catch(t){r(t)}A(e.$doCheck)&&(m.$watch(function(){e.$doCheck()}),e.$doCheck()),A(e.$onDestroy)&&m.$on("$destroy",function(){e.$onDestroy()})}),p=0,d=u.length;p<d;p++)$=u[p],Et($,$.isolateScope?v:i,k,O,$.require&&at($.directiveName,$.require,k,g),b);var R=i;for(E&&(E.template||null===E.templateUrl)&&(R=v),t&&t(R,a.childNodes,void 0,l),p=c.length-1;p>=0;p--)$=c[p],Et($,$.isolateScope?v:i,k,O,$.require&&at($.directiveName,$.require,k,g),b);o(g,function(t){var e=t.instance;A(e.$postLink)&&e.$postLink()})}l=l||{};for(var d,$,v,m,g,b=-Number.MAX_VALUE,x=l.newScopeDirective,C=l.controllerDirectives,E=l.newIsolateScopeDirective,S=l.templateDirective,k=l.nonTlbTranscludeDirective,O=!1,M=!1,N=l.hasElementTranscludeDirective,I=n.$$element=oi(e),j=s,D=i,P=!1,_=!1,R=0,q=t.length;R<q;R++){d=t[R];var F=d.$$start,H=d.$$end;if(F&&(I=nt(e,F,H)),v=void 0,b>d.priority)break;if(g=d.scope,g&&(d.templateUrl||(w(g)?(vt("new/isolated scope",E||x,d,I),E=d):vt("new/isolated scope",E,d,I)),x=x||d),$=d.name,!P&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var B,z=R+1;B=t[z++];)if(B.transclude&&!B.$$tlb||B.replace&&(B.templateUrl||B.template)){_=!0;break}P=!0}if(!d.templateUrl&&d.controller&&(C=C||gt(),vt("'"+$+"' controller",C[$],d,I),C[$]=d),g=d.transclude)if(O=!0,d.$$tlb||(vt("transclusion",k,d,I),k=d),"element"===g)N=!0,b=d.priority,v=I,I=n.$$element=oi(W.$$createComment($,n[$])),e=I[0],xt(a,G(v),e),v[0].$$parentNode=v[0].parentNode,D=it(_,v,i,b,j&&j.name,{nonTlbTranscludeDirective:k});else{var J=gt();if(w(g)){v=[];var Z=gt(),Y=gt();o(g,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,Z[t]=e,J[e]=null,Y[e]=n}),o(I.contents(),function(t){var e=Z[xe(L(t))];e?(Y[e]=!0,J[e]=J[e]||[],J[e].push(t)):v.push(t)}),o(Y,function(t,e){if(!t)throw po("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var Q in J)J[Q]&&(J[Q]=it(_,J[Q],i))}else v=oi(Dt(e)).contents();I.empty(),D=it(_,v,i,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),D.$$slots=J}if(d.template)if(M=!0,vt("template",S,d,I),S=d,g=A(d.template)?d.template(I,n):d.template,g=_t(g),d.replace){if(j=d,v=Ot(g)?[]:Ee(yt(d.templateNamespace,yi(g))),e=v[0],1!==v.length||e.nodeType!==Oi)throw po("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");xt(a,I,e);var tt={$attr:{}},ot=X(e,[],tt),ct=t.splice(R+1,t.length-(R+1));(E||x)&&ut(ot,E,x),t=t.concat(ot).concat(ct),ft(n,tt),q=t.length}else I.html(g);if(d.templateUrl)M=!0,vt("template",S,d,I),S=d,d.replace&&(j=d),p=dt(t.splice(R,t.length-R),I,n,a,O&&D,u,c,{controllerDirectives:C,newScopeDirective:x!==d&&x,newIsolateScopeDirective:E,templateDirective:S,nonTlbTranscludeDirective:k}),q=t.length;else if(d.compile)try{m=d.compile(I,n,D);var lt=d.$$originalDirective||d;A(m)?h(null,K(lt,m),F,H):m&&h(K(lt,m.pre),K(lt,m.post),F,H)}catch(t){r(t,et(I))}d.terminal&&(p.terminal=!0,b=Math.max(b,d.priority))}return p.scope=x&&!0===x.scope,p.transcludeOnThisElement=O,p.templateOnThisElement=M,p.transclude=D,l.hasElementTranscludeDirective=N,p}function at(t,e,n,r){var i;if(C(e)){var a=e.match(E),s=e.substring(a[0].length),u=a[1]||a[3],c="?"===a[2];if("^^"===u?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var l="$"+s+"Controller";i=u?n.inheritedData(l):n.data(l)}if(!i&&!c)throw po("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(mi(e)){i=[];for(var f=0,h=e.length;f<h;f++)i[f]=at(t,e[f],n,r)}else w(e)&&(i={},o(e,function(e,o){i[o]=at(t,e,n,r)}));return i||null}function st(t,e,n,r,i,o,a){var s=gt();for(var c in r){var l=r[c],f={$scope:l===a||l.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]);var p=u(h,f,!0,l.controllerAs);s[l.name]=p,t.data("$"+l.name+"Controller",p.instance)}return s}function ut(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=d(t[r],{$$isolateScope:e,$$newScope:n})}function ct(t,n,r,o,a,s,u){if(n===a)return null;var c=null;if(l.hasOwnProperty(n))for(var f,p=e.get(n+h),$=0,v=p.length;$<v;$++)if(f=p[$],(y(o)||o>f.priority)&&-1!==f.restrict.indexOf(r)){if(s&&(f=d(f,{$$start:s,$$end:u})),!f.$$bindings){var m=f.$$bindings=i(f,f.name);w(m.isolateScope)&&(f.$$isolateBindings=m.isolateScope)}t.push(f),c=f}return c}function lt(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+h),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function ft(t,e){var n=e.$attr,r=t.$attr;o(t,function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function dt(t,e,n,i,s,u,c,l){var f,h,p=[],$=e[0],v=t.shift(),m=d(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=A(v.templateUrl)?v.templateUrl(e,n):v.templateUrl,y=v.templateNamespace;return e.empty(),a(g).then(function(r){var a,d,b,x;if(r=_t(r),v.replace){if(b=Ot(r)?[]:Ee(yt(y,yi(r))),a=b[0],1!==b.length||a.nodeType!==Oi)throw po("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,g);d={$attr:{}},xt(i,e,a);var C=X(a,[],d);w(v.scope)&&ut(C,!0),t=C.concat(t),ft(n,d)}else a=$,e.html(r);for(t.unshift(m),f=ot(t,a,n,s,e,v,u,c,l),o(i,function(t,n){t===a&&(i[n]=e[0])}),h=Z(e[0].childNodes,s);p.length;){var E=p.shift(),S=p.shift(),k=p.shift(),A=p.shift(),O=e[0];if(!E.$$destroyed){if(S!==$){var M=S.className;l.hasElementTranscludeDirective&&v.replace||(O=Dt(a)),xt(k,oi(S),O),H(oi(O),M)}x=f.transcludeOnThisElement?Q(E,f.transclude,A):A,f(h,E,O,i,x)}}p=null}).catch(function(t){k(t)&&r(t)}),function(t,e,n,r,i){var o=i;e.$$destroyed||(p?p.push(e,n,r,o):(f.transcludeOnThisElement&&(o=Q(e,f.transclude,i)),f(h,e,n,r,o)))}}function $t(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function vt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw po("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,et(r))}function mt(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&W.$$addBindingClass(e),function(t,e){var i=e.parent();n||W.$$addBindingClass(i),W.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){e[0].nodeValue=t})}}})}function yt(e,n){switch(e=ti(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function bt(t,e){if("srcdoc"===e)return m.HTML;var n=L(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return m.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return m.RESOURCE_URL}function wt(t,e,r,i,o){var a=bt(t,i),s=!o,u=x[i]||o,c=n(r,s,a,u);if(c){if("multiple"===i&&"select"===L(t))throw po("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",et(t));if(S.test(i))throw po("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=gt()),l=o[i];l!==r&&(c=l&&n(l,!0,a,u),r=l),c&&(o[i]=c(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(c,function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)}))}}}})}}function xt(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===a){e[i++]=r;for(var c=i,l=c+s-1,f=e.length;c<f;c++,l++)l<f?e[c]=e[l]:delete e[c];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var h=t.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(oi.hasData(a)&&(oi.data(r,oi.data(a)),oi(a).off("$destroy")),oi.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function Ct(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function Et(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(t){r(t,et(n))}}function St(t,e){if(N)throw po("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function kt(t,e,r,i,a){function u(e,n,i){A(r.$onChanges)&&!B(n,i)&&(At||(t.$$postDigest(R),At=[]),l||(l={},At.push(c)),l[e]&&(i=l[e].previousValue),l[e]=new we(i,n))}function c(){r.$onChanges(l),l=void 0}var l,f=[],h={};return o(i,function(i,o){var c,l,p,d,v,m=i.attrName,g=i.optional,y=i.mode;switch(y){case"@":g||Xr.call(e,m)||(St(m,a.name),r[o]=e[m]=void 0),v=e.$observe(m,function(t){if(C(t)||j(t)){var e=r[o];u(o,t,e),r[o]=t}}),e.$$observers[m].$$scope=t,c=e[m],C(c)?r[o]=n(c)(t):j(c)&&(r[o]=c),h[o]=new we($o,r[o]),f.push(v);break;case"=":if(!Xr.call(e,m)){if(g)break;St(m,a.name),e[m]=void 0}if(g&&!e[m])break;l=s(e[m]),d=l.literal?z:B,p=l.assign||function(){throw c=r[o]=l(t),po("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[m],m,a.name)},c=r[o]=l(t);var b=function(e){return d(e,r[o])||(d(e,c)?p(t,e=r[o]):r[o]=e),c=e};b.$stateful=!0,v=i.collection?t.$watchCollection(e[m],b):t.$watch(s(e[m],b),null,l.literal),f.push(v);break;case"<":if(!Xr.call(e,m)){if(g)break;St(m,a.name),e[m]=void 0}if(g&&!e[m])break;l=s(e[m]);var w=l.literal,x=r[o]=l(t);h[o]=new we($o,r[o]),v=t.$watch(l,function(t,e){if(e===t){if(e===x||w&&z(e,x))return;e=x}u(o,t,e),r[o]=t},w),f.push(v);break;case"&":if(g||Xr.call(e,m)||St(m,a.name),(l=e.hasOwnProperty(m)?s(e[m]):$)===$&&g)break;r[o]=function(e){return l(t,e)}}}),{initialChanges:h,removeWatches:f.length&&function(){for(var t=0,e=f.length;t<e;++t)f[t]()}}}var At,Mt=/^\w/,Vt=t.document.createElement("div"),Tt=D,Nt=P,It=I;U.prototype={$normalize:xe,$addClass:function(t){t&&t.length>0&&O.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&O.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Ce(t,e);n&&n.length&&O.addClass(this.$$element,n);var r=Ce(e,t);r&&r.length&&O.removeClass(this.$$element,r)},$set:function(t,e,n,i){var a,s=this.$$element[0],u=Yt(s,t),c=Qt(t),l=t;if(u?(this.$$element.prop(t,e),i=u):c&&(this[c]=e,l=c),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=ht(t,"-")),"a"===(a=L(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=_(e,"src"===t);else if("img"===a&&"srcset"===t&&b(e)){for(var f="",h=yi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(h)?p:/(,)/,$=h.split(d),v=Math.floor($.length/2),m=0;m<v;m++){var g=2*m;f+=_(yi($[g]),!0),f+=" "+yi($[g+1])}var w=yi($[2*m]).split(/\s/);f+=_(yi(w[0]),!0),2===w.length&&(f+=" "+yi(w[1])),this[t]=e=f}!1!==n&&(null===e||y(e)?this.$$element.removeAttr(i):Mt.test(i)?this.$$element.attr(i,e):q(this.$$element[0],i,e));var x=this.$$observers;x&&o(x[l],function(t){try{t(e)}catch(t){r(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=gt()),i=r[t]||(r[t]=[]);return i.push(e),c.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){F(i,e)}}};var jt=n.startSymbol(),Pt=n.endSymbol(),_t="{{"===jt&&"}}"===Pt?v:function(t){return t.replace(/\{\{/g,jt).replace(/}}/g,Pt)},Rt=/^ngAttr[A-Z]/,Ut=/^(.+)Start$/;return W.$$addBindingInfo=M?function(t,e){var n=t.data("$binding")||[];mi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:$,W.$$addBindingClass=M?function(t){H(t,"ng-binding")}:$,W.$$addScopeInfo=M?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:$,W.$$addScopeClass=M?function(t,e){H(t,e?"ng-isolate-scope":"ng-scope")}:$,W.$$createComment=function(e,n){var r="";return M&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},W}]}function we(t,e){this.previousValue=t,this.currentValue=e}function xe(t){return t.replace(vo,"").replace(mo,function(t,e,n){return n?e.toUpperCase():e})}function Ce(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function Ee(t){t=oi(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Vi||n.nodeType===Mi&&""===n.nodeValue.trim())&&ci.call(t,e,1)}return t}function Se(t,e){if(e&&C(e))return e;if(C(t)){var n=yo.exec(t);if(n)return n[3]}}function ke(){var t={},e=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){$t(e,"controller"),w(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(n,i){function o(t,e,n,i){if(!t||!w(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,a,s,u){var c,l,h,p;if(s=!0===s,u&&C(u)&&(p=u),C(r)){if(!(l=r.match(yo)))throw go("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(h=l[1],p=p||l[3],!(r=t.hasOwnProperty(h)?t[h]:vt(a.$scope,h,!0)||(e?vt(i,h,!0):void 0)))throw go("ctrlreg","The controller with the name '{0}' is not registered.",h);dt(r,h,!0)}if(s){var d=(mi(r)?r[r.length-1]:r).prototype;return c=Object.create(d||null),p&&o(a,p,c,h||r.name),f(function(){var t=n.invoke(r,c,a,h);return t!==c&&(w(t)||A(t))&&(c=t,p&&o(a,p,c,h||r.name)),c},{instance:c,identifier:p})}return c=n.instantiate(r,a,h),p&&o(a,p,c,h||r.name),c}}]}function Ae(){this.$get=["$window",function(t){return oi(t.document)}]}function Oe(){this.$get=["$document","$rootScope",function(t,e){function n(){i=r.hidden}var r=t[0],i=r&&r.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return i}}]}function Me(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Ve(t){return w(t)?S(t)?t.toISOString():Z(t):t}function Te(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||y(t)||A(t)||(mi(t)?o(t,function(t){e.push(at(n)+"="+at(Ve(t)))}):e.push(at(n)+"="+at(Ve(t))))}),e.join("&")}}}function Ne(){this.$get=function(){return function(t){function e(t,r,i){null===t||y(t)||(mi(t)?o(t,function(t,n){e(t,r+"["+(w(t)?n:"")+"]")}):w(t)&&!S(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(at(r)+"="+at(Ve(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Ie(t,e){if(C(t)){var n=t.replace(So,"").trim();if(n){var r=e("Content-Type"),i=r&&0===r.indexOf(wo);if(i||je(n))try{t=Y(n)}catch(e){if(!i)return t;throw ko("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}return t}function je(t){var e=t.match(Co);return e&&Eo[e[0]].test(t)}function De(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=gt();return C(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(ti(yi(t.substr(0,n))),yi(t.substr(n+1)))}):w(t)&&o(t,function(t,n){e(ti(n),yi(t))}),r}function Pe(t){var e;return function(n){if(e||(e=De(t)),n){var r=e[ti(n)];return void 0===r&&(r=null),r}return e}}function _e(t,e,n,r){return A(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Re(t){return 200<=t&&t<300}function Ue(){var t=this.defaults={transformResponse:[Ie],transformRequest:[function(t){return!w(t)||T(t)||I(t)||N(t)?t:Z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:wt(xo),put:wt(xo),patch:wt(xo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,u,c,l,h,p){function d(e){function n(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function a(){i.$$completeOutstandingRequest($)}function s(t,e){var n,r={};return o(t,function(t,i){A(t)?null!=(n=t(e))&&(r[i]=n):r[i]=t}),r}function u(e){var n=e.headers,r=_e(e.data,Pe(n),void 0,e.transformRequest);return y(r)&&o(n,function(t,e){"content-type"===ti(e)&&delete n[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),v(e,r).then(c,c)}function c(t){var e=f({},t);return e.data=_e(t.data,t.headers,t.status,d.transformResponse),Re(t.status)?e:l.reject(e)}if(!w(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!C(p.valueOf(e.url)))throw r("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);var d=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},e);d.headers=function(e){var n,r,i,o=t.headers,a=f({},e.headers);o=f({},o.common,o[ti(e.method)]);t:for(n in o){r=ti(n);for(i in a)if(ti(i)===r)continue t;a[n]=o[n]}return s(a,wt(e))}(e),d.method=ei(d.method),d.paramSerializer=C(d.paramSerializer)?h.get(d.paramSerializer):d.paramSerializer,i.$$incOutstandingRequestCount();var m=[],g=[],b=l.resolve(d);return o(E,function(t){(t.request||t.requestError)&&m.unshift(t.request,t.requestError),(t.response||t.responseError)&&g.push(t.response,t.responseError)}),b=n(b,m),b=b.then(u),b=n(b,g),b=b.finally(a)}function v(n,r){function i(t){if(t){var n={};return o(t,function(t,r){n[r]=function(n){function r(){t(n)}e?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),n}}function u(t,n,r,i,o){function a(){f(n,t,r,i,o)}v&&(Re(t)?v.put(M,[t,n,De(r),i,o]):v.remove(M)),e?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function f(t,e,r,i,o){e=e>=-1?e:0,(Re(e)?S.resolve:S.reject)({data:t,status:e,headers:Pe(r),config:n,statusText:i,xhrStatus:o})}function h(t){f(t.data,t.status,wt(t.headers()),t.statusText,t.xhrStatus)}function $(){var t=d.pendingRequests.indexOf(n);-1!==t&&d.pendingRequests.splice(t,1)}var v,E,S=l.defer(),k=S.promise,A=n.headers,O="jsonp"===ti(n.method),M=n.url;if(O?M=p.getTrustedResourceUrl(M):C(M)||(M=p.valueOf(M)),M=m(M,n.paramSerializer(n.params)),O&&(M=g(M,n.jsonpCallbackParam)),d.pendingRequests.push(n),k.then($,$),!n.cache&&!t.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(v=w(n.cache)?n.cache:w(t.cache)?t.cache:x),v&&(E=v.get(M),b(E)?D(E)?E.then(h,h):mi(E)?f(E[1],E[0],wt(E[2]),E[3],E[4]):f(E,200,{},"OK","complete"):v.put(M,k)),y(E)){var V=Bn(n.url)?s()[n.xsrfCookieName||t.xsrfCookieName]:void 0;V&&(A[n.xsrfHeaderName||t.xsrfHeaderName]=V),a(n.method,M,r,u,A,n.timeout,n.withCredentials,n.responseType,i(n.eventHandlers),i(n.uploadEventHandlers))}return k}function m(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function g(t,e){var n=t.split("?");if(n.length>2)throw ko("badjsonp",'Illegal use more than one "?", in url, "{1}"',t);return o(rt(n[1]),function(n,r){if("JSON_CALLBACK"===n)throw ko("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(r===e)throw ko("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)}),t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var x=u("$http");t.paramSerializer=C(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var E=[];return o(n,function(t){E.unshift(C(t)?h.get(t):h.invoke(t))}),d.pendingRequests=[],function(t){o(arguments,function(t){d[t]=function(e,n){return d(f({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){d[t]=function(e,n,r){return d(f({},r||{},{method:t,url:e,data:n}))}})}("post","put","patch"),d.defaults=t,d}]}function Le(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function qe(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return Fe(t,r,t.defer,e,n[0])}]}function Fe(t,e,n,r,i){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,u="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,u,c,l,f,h,p,d,$){function v(){w&&w(),x&&x.abort()}function m(t,e,r,i,o,a){b(k)&&n.cancel(k),w=x=null,t(e,r,i,o,a)}if(s=s||t.url(),"jsonp"===ti(i))var g=r.createCallback(s),w=a(s,g,function(t,e){var n=200===t&&r.getResponse(g);m(c,t,n,"",e,"complete"),r.removeCallback(g)});else{var x=e(i,s);x.open(i,s,!0),o(l,function(t,e){b(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"===Hn(s).protocol?404:0),m(c,n,e,x.getAllResponseHeaders(),t,"complete")};var C=function(){m(c,-1,null,null,"","error")},E=function(){m(c,-1,null,null,"","abort")},S=function(){m(c,-1,null,null,"","timeout")};if(x.onerror=C,x.onabort=E,x.ontimeout=S,o(d,function(t,e){x.addEventListener(e,t)}),o($,function(t,e){x.upload.addEventListener(e,t)}),h&&(x.withCredentials=!0),p)try{x.responseType=p}catch(t){if("json"!==p)throw t}x.send(y(u)?null:u)}if(f>0)var k=n(v,f);else D(f)&&f.then(v)}}function He(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function u(o,u,h,p){function d(t){try{return t=M(t),p&&!b(t)?t:yt(t)}catch(t){r(Ao.interr(o,t))}}if(!o.length||-1===o.indexOf(t)){var $;if(!u){$=m(a(o)),$.exp=o,$.expressions=[],$.$$watchDelegate=s}return $}p=!!p;for(var v,g,w,x=0,C=[],E=[],S=o.length,k=[],A=[];x<S;){if(-1===(v=o.indexOf(t,x))||-1===(g=o.indexOf(e,v+c))){x!==S&&k.push(a(o.substring(x)));break}x!==v&&k.push(a(o.substring(x,v))),w=o.substring(v+c,g),C.push(w),E.push(n(w,d)),x=g+l,A.push(k.length),k.push("")}if(h&&k.length>1&&Ao.throwNoconcat(o),!u||C.length){var O=function(t){for(var e=0,n=C.length;e<n;e++){if(p&&y(t[e]))return;k[A[e]]=t[e]}return k.join("")},M=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return f(function(t){var e=0,n=C.length,i=new Array(n);try{for(;e<n;e++)i[e]=E[e](t);return O(i)}catch(t){r(Ao.interr(o,t))}},{exp:o,expressions:C,$$watchDelegate:function(t,e){var n;return t.$watchGroup(E,function(r,i){var o=O(r);e.call(this,o,r!==i?n:o,t),n=o})}})}}var c=t.length,l=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Be(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,r,i){function o(o,s,u,c){function l(){f?o.apply(null,h):o($)}var f=arguments.length>4,h=f?G(arguments,4):[],p=e.setInterval,d=e.clearInterval,$=0,v=b(c)&&!c,m=(v?r:n).defer(),g=m.promise;return u=b(u)?u:0,g.$$intervalId=p(function(){v?i.defer(l):t.$evalAsync(l),m.notify($++),u>0&&$>=u&&(m.resolve($),d(g.$$intervalId),delete a[g.$$intervalId]),v||t.$apply()},s),a[g.$$intervalId]=m,g}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(Vn(a[t.$$intervalId].promise),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function ze(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=ot(e[n].replace(/%2F/g,"/"));return e.join("/")}function We(t,e){for(var n=t.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),e&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}function Ge(t,e){var n=Hn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Vo[n.protocol]||null}function Ke(t,e,n){if(No.test(t))throw To("badpath",'Invalid url "{0}".',t);var r="/"!==t.charAt(0);r&&(t="/"+t);var i=Hn(t),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;e.$$path=We(o,n),e.$$search=rt(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Je(t,e){return t.slice(0,e.length)===e}function Ze(t,e){if(Je(e,t))return e.substr(t.length)}function Ye(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function Qe(t){return t.replace(/(#.+)|#$/,"$1")}function Xe(t){return t.substr(0,Ye(t).lastIndexOf("/")+1)}function tn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function en(t,e,n){this.$$html5=!0,n=n||"",Ge(t,this),this.$$parse=function(t){var n=Ze(e,t);if(!C(n))throw To("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ke(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=it(this.$$search),n=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=ze(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return b(o=Ze(t,r))?(a=o,s=n&&b(o=Ze(n,o))?e+(Ze("/",o)||o):t+a):b(o=Ze(e,r))?s=e+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function nn(t,e,n){Ge(t,this),this.$$parse=function(r){var i,o=Ze(t,r)||Ze(e,r);y(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",y(o)&&(t=r,this.replace())):(i=Ze(n,o),y(i)&&(i=o)),Ke(i,this,!1),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return Je(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}(this.$$path,i,t),this.$$compose()},this.$$compose=function(){var e=it(this.$$search),r=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=ze(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return Ye(t)===Ye(e)&&(this.$$parse(e),!0)}}function rn(t,e,n){this.$$html5=!0,nn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t===Ye(r)?o=r:(a=Ze(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=it(this.$$search),r=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=ze(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function on(t){return function(){return this[t]}}function an(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function sn(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return j(t)?(e.enabled=t,this):w(t)?(j(t.enabled)&&(e.enabled=t.enabled),j(t.requireBase)&&(e.requireBase=t.requireBase),(j(t.rewriteLinks)||C(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(t){throw c.url(i),c.$$state=o,t}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),p=r.url();if(e.enabled){if(!h&&e.requireBase)throw To("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=tn(p)+(h||"/"),l=i.history?en:rn}else f=Ye(p),l=nn;var d=Xe(f);c=new l(f,d,"#"+t),c.$$parseLinkUrl(p,p),c.$$state=r.state();var $=/^\s*(javascript|mailto):/i;o.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=oi(t.target);"a"!==L(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!C(i)||!y(s.attr(i))){var u=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");w(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=Hn(u.animVal).href),$.test(u)||!u||s.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(u,l)&&(t.preventDefault(),c.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Qe(c.absUrl())!==Qe(p)&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange(function(t,e){if(!Je(t,d))return void(a.location.href=t);n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;t=Qe(t),c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(v=!1,u(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(v||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var t=Qe(r.url()),e=Qe(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))}))}c.$$replace=!1}),c}]}function un(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return k(t)&&(t.stack&&a?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||$;return function(){var t=[];return o(arguments,function(e){t.push(r(e))}),Function.prototype.apply.call(i,e,t)}}var a=ii||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function cn(t){return t+""}function ln(t,e){return void 0!==t?t:e}function fn(t,e){return void 0===t?e:void 0===e?t:t+e}function hn(t,e){return!t(e).$stateful}function pn(t,e){switch(t.type){case Uo.MemberExpression:if(t.computed)return!1;break;case Uo.UnaryExpression:return Lo;case Uo.BinaryExpression:return"+"!==t.operator&&Lo;case Uo.CallExpression:return!1}return void 0===e?qo:e}function dn(t,e,n){var r,i,a,s=t.isPure=pn(t,n);switch(t.type){case Uo.Program:r=!0,o(t.body,function(t){dn(t.expression,e,s),r=r&&t.expression.constant}),t.constant=r;break;case Uo.Literal:t.constant=!0,t.toWatch=[];break;case Uo.UnaryExpression:dn(t.argument,e,s),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break
;case Uo.BinaryExpression:dn(t.left,e,s),dn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Uo.LogicalExpression:dn(t.left,e,s),dn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Uo.ConditionalExpression:dn(t.test,e,s),dn(t.alternate,e,s),dn(t.consequent,e,s),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Uo.Identifier:t.constant=!1,t.toWatch=[t];break;case Uo.MemberExpression:dn(t.object,e,s),t.computed&&dn(t.property,e,s),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Uo.CallExpression:a=!!t.filter&&hn(e,t.callee.name),r=a,i=[],o(t.arguments,function(t){dn(t,e,s),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=a?i:[t];break;case Uo.AssignmentExpression:dn(t.left,e,s),dn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Uo.ArrayExpression:r=!0,i=[],o(t.elements,function(t){dn(t,e,s),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=i;break;case Uo.ObjectExpression:r=!0,i=[],o(t.properties,function(t){dn(t.value,e,s),r=r&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(dn(t.key,e,!1),r=r&&t.key.constant,i.push.apply(i,t.key.toWatch))}),t.constant=r,t.toWatch=i;break;case Uo.ThisExpression:case Uo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function $n(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function vn(t){return t.type===Uo.Identifier||t.type===Uo.MemberExpression}function mn(t){if(1===t.body.length&&vn(t.body[0].expression))return{type:Uo.AssignmentExpression,left:t.body[0].expression,right:{type:Uo.NGValueParameter},operator:"="}}function gn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Uo.Literal||t.body[0].expression.type===Uo.ArrayExpression||t.body[0].expression.type===Uo.ObjectExpression)}function yn(t){return t.constant}function bn(t){this.$filter=t}function wn(t){this.$filter=t}function xn(t,e,n){this.ast=new Uo(t,n),this.astCompiler=n.csp?new wn(e):new bn(e)}function Cn(t){return A(t.valueOf)?t.valueOf():Do.call(t)}function En(){var t,e,n=gt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(i){function a(t,e){var r,o;switch(typeof t){case"string":if(t=t.trim(),o=t,!(r=n[o])){r=new xn(new Ro(v),i,v).parse(t),r.constant?r.$$watchDelegate=h:r.oneTime?r.$$watchDelegate=r.literal?f:l:r.inputs&&(r.$$watchDelegate=c),n[o]=r}return p(r,e);case"function":return p(t,e);default:return p($,e)}}function s(t){return new xn(new Ro(v),i,v).getAst(t).ast}function u(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=Cn(t))&&!n)&&(t===e||t!==t&&e!==e)}function c(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var s=u;return a=a[0],t.$watch(function(t){var e=a(t);return u(e,s,a.isPure)||(o=r(t,void 0,void 0,[e]),s=e&&Cn(e)),o},e,n,i)}for(var c=[],l=[],f=0,h=a.length;f<h;f++)c[f]=u,l[f]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var s=a[n](t);(e||(e=!u(s,c[n],a[n].isPure)))&&(l[n]=s,c[n]=s&&Cn(s))}return e&&(o=r(t,void 0,void 0,l)),o},e,n,i)}function l(t,e,n,r,i){function o(t){return r(t)}function a(t,n,r){u=t,A(e)&&e(t,n,r),b(t)&&r.$$postDigest(function(){b(u)&&s()})}var s,u;return s=r.inputs?c(t,a,n,r,i):t.$watch(o,a,n)}function f(t,e,n,r){function i(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,A(e)&&e(t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function h(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function p(t,e){if(!e)return t;var n=t.$$watchDelegate,r=!1,i=n!==f&&n!==l,o=i?function(n,i,o,a){var s=r&&a?a[0]:t(n,i,o,a);return e(s,n,i)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return b(a)?s:a};return r=!t.inputs,n&&n!==c?(o.$$watchDelegate=n,o.inputs=t.inputs):e.$stateful||(o.$$watchDelegate=c,o.inputs=t.inputs?t.inputs:[t]),o.inputs&&(o.inputs=o.inputs.map(function(t){return t.isPure===qo?function(e){return t(e)}:t})),o}var d=wi().noUnsafeEval,v={csp:d,literals:H(r),isIdentifierStart:A(t)&&t,isIdentifierContinue:A(e)&&e};return a.$$getAst=s,a}]}function Sn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return An(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function kn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return An(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function An(t,e,n){function i(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){d(t,e)},this.notify=function(e){v(t,e)}}function s(){this.$$state={status:0}}function u(r){var i,o,a;a=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var s=0,u=a.length;s<u;++s){Mn(r),o=a[s][0],i=a[s][r.status];try{A(i)?h(o,i(r.value)):1===r.status?h(o,r.value):d(o,r.value)}catch(t){d(o,t),t&&!0===t.$$passToExceptionHandler&&e(t)}}}finally{--O,n&&0===O&&t(c)}}function c(){for(;!O&&M.length;){var t=M.shift();if(!On(t)){Mn(t);var n="Possibly unhandled rejection: "+Ct(t.value);k(t.value)?e(t.value,n):e(n)}}}function l(e){!n||e.pending||2!==e.status||On(e)||(0===O&&0===M.length&&t(c),M.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++O,t(function(){u(e)}))}function h(t,e){t.$$state.status||(e===t?$(t,S("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):p(t,e))}function p(t,e){function n(e){a||(a=!0,p(t,e))}function r(e){a||(a=!0,$(t,e))}function i(e){v(t,e)}var o,a=!1;try{(w(e)||A(e))&&(o=e.then),A(o)?(t.$$state.status=-1,o.call(e,n,r,i)):(t.$$state.value=e,t.$$state.status=1,l(t.$$state))}catch(t){r(t)}}function d(t,e){t.$$state.status||$(t,e)}function $(t,e){t.$$state.value=e,t.$$state.status=2,l(t.$$state)}function v(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&t(function(){for(var t,n,o=0,a=i.length;o<a;o++){n=i[o][0],t=i[o][3];try{v(n,A(t)?t(r):r)}catch(t){e(t)}}})}function m(t){var e=new s;return d(e,t),e}function g(t,e,n){var r=null;try{A(n)&&(r=n())}catch(t){return m(t)}return D(r)?r.then(function(){return e(t)},m):e(t)}function b(t,e,n,r){var i=new s;return h(i,t),i.then(e,n,r)}function x(t){var e=new s,n=0,r=mi(t)?[]:{};return o(t,function(t,i){n++,b(t).then(function(t){r[i]=t,--n||h(e,r)},function(t){d(e,t)})}),0===n&&h(e,r),e}function C(t){var e=i();return o(t,function(t){b(t).then(e.resolve,e.reject)}),e.promise}function E(t){function e(t){h(r,t)}function n(t){d(r,t)}if(!A(t))throw S("norslvr","Expected resolverFn, got '{0}'",t);var r=new s;return t(e,n),r}var S=r("$q",TypeError),O=0,M=[];f(s.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&l(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return g(e,V,t)},function(e){return g(e,m,t)},e)}});var V=b;return E.prototype=s.prototype,E.defer=i,E.reject=m,E.when=b,E.resolve=V,E.all=x,E.race=C,E}function On(t){return!!t.pur}function Mn(t){t.pur=!0}function Vn(t){Mn(t.$$state)}function Tn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Nn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(r,c,l){function f(t){t.currentScope.$$destroyed=!0}function h(t){9===ii&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(E.$$phase)throw n("inprog","{0} already in progress",E.$$phase);E.$$phase=t}function v(){E.$$phase=null}function m(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function g(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function b(){}function x(){for(;O.length;)try{O.shift()()}catch(t){r(t)}s=null}function C(){null===s&&(s=l.defer(function(){E.$apply(x)}))}p.prototype={constructor:p,$new:function(e,n){var r;return n=n||this,e?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!==this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t),o=A(e)?e:$;if(i.$$watchDelegate)return i.$$watchDelegate(this,o,n,i,t);var s=this,u=s.$$watchers,l={fn:o,last:b,get:i,exp:r||t,eq:!!n};return a=null,u||(u=s.$$watchers=[],u.$$digestWatchIndex=-1),u.unshift(l),u.$$digestWatchIndex++,m(this,1),function(){var t=F(u,l);t>=0&&(m(s,-1),t<u.$$digestWatchIndex&&u.$$digestWatchIndex--),a=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s;if(!y(o)){if(w(o))if(i(o)){a!==p&&(a=p,v=a.length=0,f++),e=o.length,v!==e&&(f++,a.length=v=e);for(var u=0;u<e;u++)s=a[u],r=o[u],s!==s&&r!==r||s===r||(f++,a[u]=r)}else{a!==d&&(a=d={},v=0,f++),e=0;for(n in o)Xr.call(o,n)&&(e++,r=o[n],s=a[n],n in a?s!==s&&r!==r||s===r||(f++,a[n]=r):(v++,a[n]=r,f++));if(v>e){f++;for(n in a)Xr.call(o,n)||(v--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if($?($=!1,e(o,o,u)):e(o,s,u),l)if(w(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Xr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=e.length>1,f=0,h=c(t,n),p=[],d={},$=!0,v=0;return this.$watch(h,r)},$digest:function(){var t,i,o,u,c,f,h,p,$,m,g,y=e,w=this,C=[];d("$digest"),l.$$checkUrlChange(),this===E&&null!==s&&(l.defer.cancel(s),x()),a=null;do{h=!1,$=w;for(var O=0;O<S.length;O++){try{g=S[O],u=g.fn,u(g.scope,g.locals)}catch(t){r(t)}a=null}S.length=0;t:do{if(f=$.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(t=f[f.$$digestWatchIndex])if(c=t.get,(i=c($))===(o=t.last)||(t.eq?z(i,o):vi(i)&&vi(o))){if(t===a){h=!1;break t}}else h=!0,a=t,t.last=t.eq?H(i,null):i,u=t.fn,u(i,o===b?i:o,$),y<5&&(m=4-y,C[m]||(C[m]=[]),C[m].push({msg:A(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:o}))}catch(t){r(t)}if(!(p=$.$$watchersCount&&$.$$childHead||$!==w&&$.$$nextSibling))for(;$!==w&&!(p=$.$$nextSibling);)$=$.$parent}while($=p);if((h||S.length)&&!y--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(h||S.length);for(v();M<k.length;)try{k[M++]()}catch(t){r(t)}k.length=M=0,l.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&l.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var e in this.$$listenerCount)g(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=$,this.$on=this.$watch=this.$watchGroup=function(){return $},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){E.$$phase||S.length||l.defer(function(){S.length&&E.$digest()}),S.push({scope:this,fn:c(t),locals:e})},$$postDigest:function(t){k.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{v()}}catch(t){r(t)}finally{try{E.$digest()}catch(t){throw r(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&O.push(e),t=c(t),C()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do{r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(delete n[r],g(i,1,t))}},$emit:function(t,e){var n,i,o,a=[],s=this,u=!1,c={name:t,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=W([c],arguments,1);do{for(n=s.$$listeners[t]||a,c.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,l)}catch(t){r(t)}else n.splice(i,1),i--,o--;if(u)break;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,i=n,o=n,a={name:t,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return a;for(var s,u,c,l=W([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[t]||[],u=0,c=s.length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(t){r(t)}else s.splice(u,1),u--,c--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var E=new p,S=E.$$asyncQueue=[],k=E.$$postDigestQueue=[],O=E.$$applyAsyncQueue=[],M=0;return E}]}function In(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Hn(n&&n.trim()).href,""===i||i.match(o)?n:"unsafe:"+i}}}function jn(t){return t.replace(Bo,kt)}function Dn(t){if("self"===t)return t;if(C(t)){if(t.indexOf("***")>-1)throw Fo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=bi(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(O(t))return new RegExp("^"+t.source+"$");throw Fo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Pn(t){var e=[];return b(t)&&o(t,function(t){e.push(Dn(t))}),e}function _n(){this.SCE_CONTEXTS=Ho;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Pn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Pn(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?Bn(e):!!t.exec(e.href)}function i(n){var i,o,a=Hn(n.toString()),s=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=f.hasOwnProperty(t)?f[t]:null;if(!n)throw Fo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw Fo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof l?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||y(e)||""===e)return e;var n=f.hasOwnProperty(t)?f[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Ho.RESOURCE_URL){if(i(e))return e;throw Fo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Ho.HTML)return c(e);throw Fo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw Fo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),f={};return f[Ho.HTML]=o(l),f[Ho.CSS]=o(l),f[Ho.URL]=o(l),f[Ho.JS]=o(l),f[Ho.RESOURCE_URL]=o(f[Ho.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function Rn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&ii<8)throw Fo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=wt(Ho);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=v),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Ho,function(t,e){var n=ti(e);r[jn("parse_as_"+n)]=function(e){return i(t,e)},r[jn("get_trusted_"+n)]=function(e){return a(t,e)},r[jn("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Un(){this.$get=["$window","$document",function(t,e){var n={},r=t.nw&&t.nw.process,i=!r&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),o=!i&&t.history&&t.history.pushState,a=p((/android (\d+)/.exec(ti((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},c=u.body&&u.body.style,l=!1,f=!1;return c&&(l=!!("transition"in c||"webkitTransition"in c),f=!!("animation"in c||"webkitAnimation"in c)),{history:!(!o||a<4||s),hasEvent:function(t){if("input"===t&&ii)return!1;if(y(n[t])){var e=u.createElement("div");n[t]="on"+t in e}return n[t]},csp:wi(),transitions:l,animations:f,android:a}}]}function Ln(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function a(s,u){function c(t){return u||(t=zo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),i.reject(t)}a.totalPendingRequests++,C(s)&&!y(n.get(s))||(s=o.getTrustedResourceUrl(s));var l=r.defaults&&r.defaults.transformResponse;return mi(l)?l=l.filter(function(t){return t!==Ie}):l===Ie&&(l=null),r.get(s,f({cache:n,transformResponse:l},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},c)}return a.totalPendingRequests=0,a}]}function qn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=di.element(t).data("$binding");r&&o(r,function(r){if(n){new RegExp("(^|\\s)"+bi(e)+"(\\s|\\||$)").test(r)&&i.push(t)}else-1!==r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Fn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){A(o)||(u=s,s=o,o=$);var c,l=G(arguments,3),f=b(u)&&!u,h=(f?r:n).defer(),p=h.promise;return c=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(t){h.reject(t),i(t)}finally{delete a[p.$$timeoutId]}f||t.$apply()},s),p.$$timeoutId=c,a[c]=h,p}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(Vn(a[t.$$timeoutId].promise),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Hn(t){var e=t;return ii&&(Wo.setAttribute("href",e),e=Wo.href),Wo.setAttribute("href",e),{href:Wo.href,protocol:Wo.protocol?Wo.protocol.replace(/:$/,""):"",host:Wo.host,search:Wo.search?Wo.search.replace(/^\?/,""):"",hash:Wo.hash?Wo.hash.replace(/^#/,""):"",hostname:Wo.hostname,port:Wo.port,pathname:"/"===Wo.pathname.charAt(0)?Wo.pathname:"/"+Wo.pathname}}function Bn(t){var e=C(t)?Hn(t):t;return e.protocol===Go.protocol&&e.host===Go.host}function zn(){this.$get=m(t)}function Wn(t){function e(t){try{return t.cookie||""}catch(t){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,u,c,l=e(r);if(l!==o)for(o=l,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],(u=a.indexOf("="))>0&&(c=n(a.substring(0,u)),y(i[c])&&(i[c]=n(a.substring(u+1))));return i}}function Gn(){this.$get=Wn}function Kn(t){function e(r,i){if(w(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Xn),e("date",dr),e("filter",Jn),e("json",$r),e("limitTo",vr),e("lowercase",ta),e("number",tr),e("orderBy",gr),e("uppercase",ea)}function Jn(){return function(t,e,n,o){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=Qn(e);switch(u){case"function":a=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Zn(e,n,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function Zn(t,e,n,r){var i=w(t)&&n in t;return!0===e?e=z:A(e)||(e=function(t,e){return!y(t)&&(null===t||null===e?t===e:!(w(e)||w(t)&&!g(t))&&(t=ti(""+t),e=ti(""+e),-1!==t.indexOf(e)))}),function(o){return i&&!w(o)?Yn(o,t[n],e,n,!1):Yn(o,t,e,n,r)}}function Yn(t,e,n,r,i,o){var a=Qn(t),s=Qn(e);if("string"===s&&"!"===e.charAt(0))return!Yn(t,e.substring(1),n,r,i);if(mi(t))return t.some(function(t){return Yn(t,e,n,r,i)});switch(a){case"object":var u;if(i){for(u in t)if(u.charAt&&"$"!==u.charAt(0)&&Yn(t[u],e,n,r,!0))return!0;return!o&&Yn(t,e,n,r,!1)}if("object"===s){for(u in e){var c=e[u];if(!A(c)&&!y(c)){var l=u===r;if(!Yn(l?t:t[u],c,n,r,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Qn(t){return null===t?"null":typeof t}function Xn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:rr(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function tr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:rr(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function er(t){var e,n,r,i,o,a=0;for((n=t.indexOf(Jo))>-1&&(t=t.replace(Jo,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===Zo;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Zo;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>Ko&&(e=e.splice(0,Ko-1),a=n-1,n=1),{d:e,e:a,i:n}}function nr(t,e,n,r){var i=t.d,o=i.length-t.i;e=y(e)?Math.min(Math.max(n,o),r):+e;var a=e+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var f=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);f&&(i.unshift(f),t.i++)}function rr(t,e,n,r,i){if(!C(t)&&!E(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",c="";if(a)c="∞";else{o=er(u),nr(o,i,e.minFrac,e.maxFrac);var l=o.d,f=o.i,h=o.e,p=[];for(s=l.reduce(function(t,e){return t&&!e},!0);f<0;)l.unshift(0),f++;f>0?p=l.splice(f,l.length):(p=l,l=[0]);var d=[];for(l.length>=e.lgSize&&d.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)d.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),p.length&&(c+=r+p.join("")),h&&(c+="e+"+h)}return t<0&&!s?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function ir(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=Zo+t;return n&&(t=t.substr(t.length-e)),i+t}function or(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),ir(a,e,r,i)}}function ar(t,e,n){return function(r,i){var o=r["get"+t]();return i[ei((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function sr(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=ir(Math[r>0?"floor":"ceil"](r/60),2)+ir(Math.abs(r%60),2)}function ur(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function cr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function lr(t){return function(e){var n=ur(e.getFullYear()),r=cr(e),i=+r-+n;return ir(1+Math.round(i/6048e5),t)}}function fr(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function hr(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function pr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function dr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=p(e[9]+e[10]),o=p(e[9]+e[11])),a.call(r,p(e[1]),p(e[2])-1,p(e[3]));var u=p(e[4]||0)-i,c=p(e[5]||0)-o,l=p(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,C(n)&&(n=Xo.test(n)?p(n):e(n)),E(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)s=Qo.exec(r),s?(c=W(c,s,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=Q(i,l),n=tt(n,i,!0)),o(c,function(e){a=Yo[e],u+=a?a(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function $r(){return function(t,e){return y(e)&&(e=2),Z(t,e)}}function vr(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):p(e),vi(e)?t:(E(t)&&(t=t.toString()),i(t)?(n=!n||isNaN(n)?0:p(n),n=n<0?Math.max(0,t.length+n):n,e>=0?mr(t,n,n+e):0===n?mr(t,e,t.length):mr(t,Math.max(0,n+e),n)):t)}}function mr(t,e,n){return C(t)?t.slice(e,n):ui.call(t,e,n)}function gr(t){function e(e){return e.map(function(e){var n=1,r=v;if(A(e))r=e;else if(C(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return A(t.valueOf)&&(t=t.valueOf(),n(t))?t:(g(t)&&(t=t.toString(),n(t)),t)}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(w(o)&&(o=t.index),w(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(t,n,o,u){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:f.map(function(n){return a(n.get(t),e)})}}function l(t,e){for(var n=0,r=f.length;n<r;n++){var i=p(t.predicateValues[n],e.predicateValues[n]);if(i)return i*f[n].descending*h}return(p(t.tieBreaker,e.tieBreaker)||s(t.tieBreaker,e.tieBreaker))*h}if(null==t)return t;if(!i(t))throw r("orderBy")("notarray","Expected array but received: {0}",t);mi(n)||(n=[n]),0===n.length&&(n=["+"]);var f=e(n),h=o?-1:1,p=A(u)?u:s,d=Array.prototype.map.call(t,c);return d.sort(l),t=d.map(function(t){return t.value})}}function yr(t){return A(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function br(t,e){t.$name=e}function wr(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=ia,this.$$element=t,this.$$animate=r,xr(this)}function xr(t){t.$$classCache={},t.$$classCache[qa]=!(t.$$classCache[La]=t.$$element.hasClass(La))}function Cr(t){function e(t,e,n,r){t[e]||(t[e]={}),a(t[e],n,r)}function n(t,e,n,r){t[e]&&s(t[e],n,r),Er(t[e])&&(t[e]=void 0)}function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+ht(e,"-"):"",r(t,La+e,!0===n),r(t,qa+e,!1===n)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,u){y(o)?e(this,"$pending",t,u):n(this,"$pending",t,u),j(o)?o?(s(this.$error,t,u),a(this.$$success,t,u)):(a(this.$error,t,u),s(this.$$success,t,u)):(s(this.$error,t,u),s(this.$$success,t,u)),this.$pending?(r(this,oa,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,oa,!1),this.$valid=Er(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var c;c=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null),i(this,t,c),this.$$parentForm.$setValidity(t,c,this)}}function Er(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Sr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function kr(t,e,n,r,i,o){Ar(t,e,n,r,i,o),Sr(r)}function Ar(t,e,n,r,i,o){var a=ti(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=yi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),ya[a]&&r.$$hasNativeValidators&&a===n.type&&e.on(ga,function(t){if(!u){var e=this[Qr],n=e.badInput,r=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function Or(t,e){if(S(t))return t;if(C(t)){$a.lastIndex=0;var n=$a.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=ur(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function Mr(t,e){return function(n,r){var i,a;if(S(n))return n;if(C(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ca.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Vr(t,e,n,r){return function(i,o,a,s,u,c,l){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){
return b(t)&&!S(t)?n(t)||void 0:t}Tr(i,o,a,s),Ar(i,o,a,s,u,c);var p,d=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var r=n(t,p);return d&&(r=tt(r,d)),r}}),s.$formatters.push(function(t){if(t&&!S(t))throw Ba("datefmt","Expected `{0}` to be a date",t);return f(t)?(p=t,p&&d&&(p=tt(p,d,!0)),l("date")(t,r,d)):(p=null,"")}),b(a.min)||a.ngMin){var $;s.$validators.min=function(t){return!f(t)||y($)||n(t)>=$},a.$observe("min",function(t){$=h(t),s.$validate()})}if(b(a.max)||a.ngMax){var v;s.$validators.max=function(t){return!f(t)||y(v)||n(t)<=v},a.$observe("max",function(t){v=h(t),s.$validate()})}}}function Tr(t,e,n,r){var i=e[0];(r.$$hasNativeValidators=w(i.validity))&&r.$parsers.push(function(t){var n=e.prop(Qr)||{};return n.badInput||n.typeMismatch?void 0:t})}function Nr(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ha.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!E(e))throw Ba("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function Ir(t){return b(t)&&!E(t)&&(t=parseFloat(t)),vi(t)?void 0:t}function jr(t){return(0|t)===t}function Dr(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function Pr(t,e,n){var r=Number(t),i=!jr(r),o=!jr(e),a=!jr(n);if(i||o||a){var s=i?Dr(r):0,u=o?Dr(e):0,c=a?Dr(n):0,l=Math.max(s,u,c),f=Math.pow(10,l);r*=f,e*=f,n*=f,i&&(r=Math.round(r)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(r-e)%n==0}function _r(t,e,n,r,i,o){Tr(t,e,n,r),Nr(r),Ar(t,e,n,r,i,o);var a,s;if((b(n.min)||n.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||y(a)||t>=a},n.$observe("min",function(t){a=Ir(t),r.$validate()})),(b(n.max)||n.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||y(s)||t<=s},n.$observe("max",function(t){s=Ir(t),r.$validate()})),b(n.step)||n.ngStep){var u;r.$validators.step=function(t,e){return r.$isEmpty(e)||y(u)||Pr(e,a||0,u)},n.$observe("step",function(t){u=Ir(t),r.$validate()})}}function Rr(t,e,n,r,i,o){function a(t,r){e.attr(t,n[t]),n.$observe(t,r)}function s(t){if(f=Ir(t),!vi(r.$modelValue))if(l){var n=e.val();f>n&&(n=f,e.val(n)),r.$setViewValue(n)}else r.$validate()}function u(t){if(h=Ir(t),!vi(r.$modelValue))if(l){var n=e.val();h<n&&(e.val(h),n=h<f?f:h),r.$setViewValue(n)}else r.$validate()}function c(t){p=Ir(t),vi(r.$modelValue)||(l&&r.$viewValue!==e.val()?r.$setViewValue(e.val()):r.$validate())}Tr(t,e,n,r),Nr(r),Ar(t,e,n,r,i,o);var l=r.$$hasNativeValidators&&"range"===e[0].type,f=l?0:void 0,h=l?100:void 0,p=l?1:void 0,d=e[0].validity,$=b(n.min),v=b(n.max),m=b(n.step),g=r.$render;r.$render=l&&b(d.rangeUnderflow)&&b(d.rangeOverflow)?function(){g(),r.$setViewValue(e.val())}:g,$&&(r.$validators.min=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||y(f)||e>=f},a("min",s)),v&&(r.$validators.max=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||y(h)||e<=h},a("max",u)),m&&(r.$validators.step=l?function(){return!d.stepMismatch}:function(t,e){return r.$isEmpty(e)||y(p)||Pr(e,f||0,p)},a("step",c))}function Ur(t,e,n,r,i,o){Ar(t,e,n,r,i,o),Sr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||la.test(n)}}function Lr(t,e,n,r,i,o){Ar(t,e,n,r,i,o),Sr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||fa.test(n)}}function qr(t,e,n,r){var i=!n.ngTrim||"false"!==yi(n.ngTrim);y(n.name)&&e.attr("name",u());var o=function(t){var o;e[0].checked&&(o=n.value,i&&(o=yi(o)),r.$setViewValue(o,t&&t.type))};e.on("click",o),r.$render=function(){var t=n.value;i&&(t=yi(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)}function Fr(t,e,n,r,i){var o;if(b(r)){if(o=t(r),!o.constant)throw Ba("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function Hr(t,e,n,r,i,o,a,s){var u=Fr(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Fr(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return z(t,u)}),r.$parsers.push(function(t){return t?u:c})}function Br(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function r(t){return t&&t.split(" ")}function i(t){var e=t;return mi(t)?e=t.map(i).join(" "):w(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}function a(t){var e=t;if(mi(t))e=t.map(a);else if(w(t)){var n=!1;e=Object.keys(t).filter(function(e){var r=t[e];return!n&&y(r)&&(n=!0),r}),n&&e.push(void 0)}return e}t="ngClass"+t;var s;return["$parse",function(u){return{restrict:"AC",link:function(c,l,f){function h(t){t=$(r(t),1),f.$addClass(t)}function p(t){t=$(r(t),-1),f.$removeClass(t)}function d(t,e){var i=r(t),o=r(e),a=n(i,o),s=n(o,i),u=$(a,-1),c=$(s,1);f.$addClass(c),f.$removeClass(u)}function $(t,e){var n=[];return o(t,function(t){(e>0||S[t])&&(S[t]=(S[t]||0)+e,S[t]===+(e>0)&&n.push(t))}),n.join(" ")}function v(t){t===e?h(y):p(y),k=t}function m(t){var e=i(t);e!==y&&g(e)}function g(t){k===e&&d(y,t),y=t}var y,b=f[t].trim(),w=":"===b.charAt(0)&&":"===b.charAt(1),x=w?a:i,C=u(b,x),E=w?m:g,S=l.data("$classCounts"),k=!0;S||(S=gt(),l.data("$classCounts",S)),"ngClass"!==t&&(s||(s=u("$index",function(t){return 1&t})),c.$watch(s,v)),c.$watch(C,E,w)}}}]}function zr(t,e,n,r,i,o,a,s,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=ia,this.$options=za,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,xr(this),Wr(this)}function Wr(t){t.$$scope.$watch(function(e){var n=t.$$ngModelGet(e);return n===t.$modelValue||t.$modelValue!==t.$modelValue&&n!==n||t.$$setModelValue(n),n})}function Gr(t){this.$$options=t}function Kr(t,e){o(e,function(e,n){b(t[n])||(t[n]=e)})}function Jr(t,e){t.prop("selected",e),t.attr("selected",e)}var Zr={objectMaxDepth:5},Yr=/^\/(.+)\/([a-z]*)$/,Qr="validity",Xr=Object.prototype.hasOwnProperty,ti=function(t){return C(t)?t.toLowerCase():t},ei=function(t){return C(t)?t.toUpperCase():t},ni=function(t){return C(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},ri=function(t){return C(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(ti=ni,ei=ri);var ii,oi,ai,si,ui=[].slice,ci=[].splice,li=[].push,fi=Object.prototype.toString,hi=Object.getPrototypeOf,pi=r("ng"),di=t.angular||(t.angular={}),$i=0;ii=t.document.documentMode;var vi=Number.isNaN||function(t){return t!==t};$.$inject=[],v.$inject=[];var mi=Array.isArray,gi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,yi=function(t){return C(t)?t.trim():t},bi=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},wi=function(){if(!b(wi.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");wi.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else wi.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return wi.rules},xi=function(){if(b(xi.name_))return xi.name_;var e,n,r,i,o=Ei.length;for(n=0;n<o;++n)if(r=Ei[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return xi.name_=i},Ci=/:/g,Ei=["ng-","data-ng-","ng:","x-ng-"],Si=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(t.document),ki=/[A-Z]/g,Ai=!1,Oi=1,Mi=3,Vi=8,Ti=9,Ni=11,Ii={full:"1.6.8",major:1,minor:6,dot:8,codeName:"beneficial-tincture"};jt.expando="ng339";var ji=jt.cache={},Di=1;jt._data=function(t){return this.cache[t[this.expando]]||{}};var Pi=/-([a-z])/g,_i=/^-ms-/,Ri={mouseleave:"mouseout",mouseenter:"mouseover"},Ui=r("jqLite"),Li=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,qi=/<|&#?\w+;/,Fi=/<([\w:-]+)/,Hi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Bi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bi.optgroup=Bi.option,Bi.tbody=Bi.tfoot=Bi.colgroup=Bi.caption=Bi.thead,Bi.th=Bi.td;var zi=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Wi=jt.prototype={ready:Zt,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return oi(t>=0?this[t]:this[this.length+t])},length:0,push:li,sort:[].sort,splice:[].splice},Gi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Gi[ti(t)]=t});var Ki={};o("input,select,option,textarea,button,form,details".split(","),function(t){Ki[t]=!0});var Ji={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:Lt,removeData:Rt,hasData:Vt,cleanData:function(t){for(var e=0,n=t.length;e<n;e++)Rt(t[e])}},function(t,e){jt[e]=t}),o({data:Lt,inheritedData:Wt,scope:function(t){return oi.data(t,"$scope")||Wt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return oi.data(t,"$isolateScope")||oi.data(t,"$isolateScopeNoTemplate")},controller:zt,injector:function(t){return Wt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:qt,css:function(t,e,n){if(e=St(e),!b(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r,i=t.nodeType;if(i!==Mi&&2!==i&&i!==Vi&&t.getAttribute){var o=ti(e),a=Gi[o];if(!b(n))return r=t.getAttribute(e),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)}},prop:function(t,e,n){if(!b(n))return t[e];t[e]=n},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===Oi||n===Mi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===L(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(y(e))return t.innerHTML;Pt(t,!0),t.innerHTML=e},empty:Gt},function(t,e){jt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==Gt&&y(2===t.length&&t!==qt&&t!==zt?e:n)){if(w(e)){for(r=0;r<o;r++)if(t===Lt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=y(a)?Math.min(o,1):o,u=0;u<s;u++){var c=t(this[u],e,n);a=a?a+c:c}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}}),o({removeData:Rt,on:function(t,e,n,r){if(b(r))throw Ui("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Mt(t)){var i=Ut(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Xt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,c=function(e,r,i){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};u--;)e=s[u],Ri[e]?(c(Ri[e],ee),c(e,void 0,!0)):c(e)}},off:_t,one:function(t,e,n){t=oi(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Pt(t),o(new jt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Oi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Oi||n===Ni){e=new jt(e);for(var r=0,i=e.length;r<i;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Oi){var n=t.firstChild;o(new jt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){It(t,oi(e).eq(0).clone()[0])},remove:Kt,detach:function(t){Kt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r){e=new jt(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Ht,removeClass:Ft,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!qt(t,e)),(r?Ht:Ft)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Ni?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Dt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Ut(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:$,type:s,target:t},e.type&&(r=f(r,e)),i=wt(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){jt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)y(i)?(i=t(this[o],e,n,r),b(i)&&(i=oi(i))):Bt(i,t(this[o],e,n,r));return b(i)?i:this}}),jt.prototype.bind=jt.prototype.on,jt.prototype.unbind=jt.prototype.off;var Zi=Object.create(null);ie.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t),this._lastIndex)},_transformKey:function(t){return vi(t)?Zi:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Yi=ie,Qi=[function(){this.$get=[function(){return Yi}]}],Xi=/^([^(]+?)=>/,to=/^[^(]*\(\s*([^)]*)\)/m,eo=/,/,no=/^\s*(_?)(\S+?)\1\s*$/,ro=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,io=r("$injector");ce.$$annotate=ue;var oo=r("$animate"),ao=1,so=function(){this.$get=$},uo=function(){var t=new Yi,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(t,e,n){var r=!1;return e&&(e=C(e)?e.split(" "):mi(e)?e:[],o(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){o(e,function(e){var n=t.get(e);if(n){var r=pe(e.attr("class")),i="",a="";o(n,function(t,e){t!==!!r[e]&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Ht(t,i),a&&Ft(t,a)}),t.delete(e)}}),e.length=0}function s(n,o,s){var u=t.get(n)||{},c=i(u,o,!0),l=i(u,s,!1);(c||l)&&(t.set(n,u),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:$,on:$,off:$,pin:$,push:function(t,e,r,i){i&&i(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&s(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},co=["$provide",function(t){var e=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw oo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.customFilter=function(t){return 1===arguments.length&&(r=A(t)?t:null),r},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,oo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=he(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&oi(r),i=i&&oi(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",de(o))},move:function(n,r,i,o){return r=r&&oi(r),i=i&&oi(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",de(o))},leave:function(e,n){return t.push(e,"leave",de(n),function(){e.remove()})},addClass:function(e,n,r){return r=de(r),r.addClass=fe(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=de(r),r.removeClass=fe(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=de(i),i.addClass=fe(i.addClass,n),i.removeClass=fe(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=de(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=fe(o.tempClasses,i),t.push(e,"animate",o)}}}]}],lo=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},fo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function a(t){this.setHost(t);var e=n(),o=function(t){i(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){r()?o(t):e(t)},this._state=0}return a.chain=function(t,e){function n(){if(r===t.length)return void e(!0);t[r](function(t){if(!1===t)return void e(!1);r++,n()})}var r=0;n()},a.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:$,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},a}]},ho=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=H(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:i,end:i}}}]},po=r("$compile"),$o=new ye;be.$inject=["$provide","$$sanitizeUriProvider"],we.prototype.isFirstChange=function(){return this.previousValue===$o};var vo=/^((?:x|data)[:\-_])/i,mo=/[:\-_]+(.)/g,go=r("$controller"),yo=/^(\S+)(\s+as\s+([\w$]+))?$/,bo=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof oi&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},wo="application/json",xo={"Content-Type":wo+";charset=utf-8"},Co=/^\[|^\{(?!\{)/,Eo={"[":/]$/,"{":/}$/},So=/^\)]\}',?\n/,ko=r("$http"),Ao=di.$interpolateMinErr=r("$interpolate");Ao.throwNoconcat=function(t){throw Ao("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Ao.interr=function(t,e){return Ao("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Oo=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=di.callbacks,n={};return{createCallback:function(r){var i="_"+(e.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return n[o]=e[i]=a,o},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){var r=n[t];delete e[r.id],delete n[t]}}}},Mo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Vo={http:80,https:443,ftp:21},To=r("$location"),No=/^\s*[\\\/]{2,}/,Io={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:on("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Mo.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:on("$$protocol"),host:on("$$host"),port:on("$$port"),path:an("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(C(t)||E(t))t=t.toString(),this.$$search=rt(t);else{if(!w(t))throw To("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=H(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:an("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([rn,nn,en],function(t){t.prototype=Object.create(Io),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==en||!this.$$html5)throw To("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var jo=r("$parse"),Do={}.constructor.prototype.valueOf,Po=gt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Po[t]=!0});var _o={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ro=function(t){this.options=t};Ro.prototype={constructor:Ro,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Po[e],o=Po[n],a=Po[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw jo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=ti(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=_o[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Uo=function(t,e){this.lexer=t,this.options=e};Uo.Program="Program",Uo.ExpressionStatement="ExpressionStatement",Uo.AssignmentExpression="AssignmentExpression",Uo.ConditionalExpression="ConditionalExpression",Uo.LogicalExpression="LogicalExpression",Uo.BinaryExpression="BinaryExpression",Uo.UnaryExpression="UnaryExpression",Uo.CallExpression="CallExpression",Uo.MemberExpression="MemberExpression",Uo.Identifier="Identifier",Uo.Literal="Literal",Uo.ArrayExpression="ArrayExpression",Uo.Property="Property",Uo.ObjectExpression="ObjectExpression",Uo.ThisExpression="ThisExpression",Uo.LocalsExpression="LocalsExpression",Uo.NGValueParameter="NGValueParameter",Uo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Uo.Program,body:t}},expressionStatement:function(){return{type:Uo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!vn(t))throw jo("lval","Trying to assign a value to a non l-value");t={type:Uo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Uo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Uo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Uo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Uo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Uo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Uo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Uo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Uo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=H(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Uo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Uo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Uo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Uo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Uo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Uo.Identifier,name:t.text}},constant:function(){return{type:Uo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Uo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Uo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Uo.ObjectExpression,properties:e}},throwError:function(t,e){throw jo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw jo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw jo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text
;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Uo.ThisExpression},$locals:{type:Uo.LocalsExpression}}};var Lo=1,qo=2;bn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},dn(t,e.$filter);var n,r="";if(this.stage="assign",n=mn(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=$n(t.body);e.stage="inputs",o(a,function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push({name:r,isPure:t.isPure}),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,cn,ln,fn);return this.state=this.stage=void 0,u},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(t){return t.name}).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,a){var s,u,c,l,f,h=this;if(r=r||$,!a&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case Uo.Program:o(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case Uo.Literal:l=this.escape(t.value),this.assign(e,l),r(e||l);break;case Uo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),r(l);break;case Uo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,l),r(l);break;case Uo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case Uo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case Uo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),r(e);break;case Uo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){t.computed?(u=h.nextId(),h.recurse(t.property,u),h.getStringValue(u),i&&1!==i&&h.if_(h.not(h.computedMember(s,u)),h.lazyAssign(h.computedMember(s,u),"{}")),l=h.computedMember(s,u),h.assign(e,l),n&&(n.computed=!0,n.name=u)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),l=h.nonComputedMember(s,t.property.name),h.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!i);break;case Uo.CallExpression:e=e||this.nextId(),t.filter?(u=h.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",h.assign(e,l),r(e)):(u=h.nextId(),s={},c=[],h.recurse(t.callee,u,s,function(){h.if_(h.notNull(u),function(){o(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l=s.name?h.member(s.context,s.name,s.computed)+"("+c.join(",")+")":u+"("+c.join(",")+")",h.assign(e,l)},function(){h.assign(e,"undefined")}),r(e)}));break;case Uo.AssignmentExpression:u=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,u),l=h.member(s.context,s.name,s.computed)+t.operator+u,h.assign(e,l),r(e||l)})},1);break;case Uo.ArrayExpression:c=[],o(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),r(e||l);break;case Uo.ObjectExpression:c=[],f=!1,o(t.properties,function(t){t.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Uo.Identifier?t.key.name:""+t.key.value,u=h.nextId(),h.recurse(t.value,u),h.assign(h.member(e,s,t.computed),u)})):(o(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){c.push(h.escape(e.key.type===Uo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),r(e||l);break;case Uo.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Uo.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Uo.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(C(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw jo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},wn.prototype={compile:function(t){var e=this;dn(t,e.$filter);var n,r;(n=mn(t))&&(r=this.recurse(n));var i,a=$n(t.body);a&&(i=[],o(a,function(t,n){var r=e.recurse(t);r.isPure=t.isPure,t.input=r,i.push(r),t.watchId=n}));var s=[];o(t.body,function(t){s.push(e.recurse(t.expression))});var u=0===t.body.length?$:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(r){n=r(t,e)}),n};return r&&(u.assign=function(t,e,n){return r(t,n,e)}),i&&(u.inputs=i),u},recurse:function(t,e,n){var r,i,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Uo.Literal:return this.value(t.value,e);case Uo.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Uo.BinaryExpression:case Uo.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case Uo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Uo.Identifier:return s.identifier(t.name,e,n);case Uo.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,e,n):this.nonComputedMember(r,i,e,n);case Uo.CallExpression:return a=[],o(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,r,o){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,r,o));var c=i.apply(void 0,s,o);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,r,o){var s,u=i(t,n,r,o);if(null!=u.value){for(var c=[],l=0;l<a.length;++l)c.push(a[l](t,n,r,o));s=u.value.apply(u.context,c)}return e?{value:s}:s};case Uo.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,o,a){var s=r(t,n,o,a),u=i(t,n,o,a);return s.context[s.name]=u,e?{value:u}:u};case Uo.ArrayExpression:return a=[],o(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case Uo.ObjectExpression:return a=[],o(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===Uo.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case Uo.ThisExpression:return function(t){return e?{value:t}:t};case Uo.LocalsExpression:return function(t,n){return e?{value:n}:n};case Uo.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=fn(s,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=(b(s)?s:0)-(b(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,a){var s=i&&t in i?i:r;n&&1!==n&&s&&null==s[t]&&(s[t]={});var u=s?s[t]:void 0;return e?{context:s,name:t,value:u}:u}},computedMember:function(t,e,n,r){return function(i,o,a,s){var u,c,l=t(i,o,a,s);return null!=l&&(u=e(i,o,a,s),u=cn(u),r&&1!==r&&l&&!l[u]&&(l[u]={}),c=l[u]),n?{context:l,name:u,value:c}:c}},nonComputedMember:function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s);r&&1!==r&&u&&null==u[e]&&(u[e]={});var c=null!=u?u[e]:void 0;return n?{context:u,name:e,value:c}:c}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}},xn.prototype={constructor:xn,parse:function(t){var e=this.getAst(t),n=this.astCompiler.compile(e.ast);return n.literal=gn(e.ast),n.constant=yn(e.ast),n.oneTime=e.oneTime,n},getAst:function(t){var e=!1;return t=t.trim(),":"===t.charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var Fo=r("$sce"),Ho={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Bo=/_([a-z])/g,zo=r("$compile"),Wo=t.document.createElement("a"),Go=Hn(t.location.href);Wn.$inject=["$document"],Kn.$inject=["$provide"];var Ko=22,Jo=".",Zo="0";Xn.$inject=["$locale"],tr.$inject=["$locale"];var Yo={yyyy:or("FullYear",4,0,!1,!0),yy:or("FullYear",2,0,!0,!0),y:or("FullYear",1,0,!1,!0),MMMM:ar("Month"),MMM:ar("Month",!0),MM:or("Month",2,1),M:or("Month",1,1),LLLL:ar("Month",!1,!0),dd:or("Date",2),d:or("Date",1),HH:or("Hours",2),H:or("Hours",1),hh:or("Hours",2,-12),h:or("Hours",1,-12),mm:or("Minutes",2),m:or("Minutes",1),ss:or("Seconds",2),s:or("Seconds",1),sss:or("Milliseconds",3),EEEE:ar("Day"),EEE:ar("Day",!0),a:fr,Z:sr,ww:lr(2),w:lr(1),G:hr,GG:hr,GGG:hr,GGGG:pr},Qo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Xo=/^-?\d+$/;dr.$inject=["$locale"];var ta=m(ti),ea=m(ei);gr.$inject=["$parse"];var na=m({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===fi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ra={};o(Gi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!==t){var r=xe("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),ra[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Ji,function(t,e){ra[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(Yr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=xe("ng-"+t);ra[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===fi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){if(!e)return void("href"===t&&i.$set(a,null));i.$set(a,e),ii&&o&&r.prop(o,i[a])})}}}});var ia={$addControl:$,$$renameControl:br,$removeControl:$,$setValidity:$,$setDirty:$,$setPristine:$,$setSubmitted:$},oa="ng-pending";wr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],wr.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){$t(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),F(this.$$controls,t),t.$$parentForm=ia},$setDirty:function(){this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,Ha),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Fa,Ha+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Cr({clazz:wr,set:function(t,e,n){var r=t[e];if(r){-1===r.indexOf(n)&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(F(r,n),0===r.length&&delete t[e])}});var aa=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||$}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:wr,compile:function(n,i){n.addClass(Fa).addClass(La);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",u),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",u)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var c=o?r(s.$name):$;o&&(c(t,s),i.$observe(o,function(e){s.$name!==e&&(c(t,void 0),s.$$parentForm.$$renameControl(s,e),(c=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(t,void 0),f(s,ia)})}}}}}]},sa=aa(),ua=aa(!0),ca=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,la=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,fa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ha=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,pa=/^(\d{4,})-(\d{2})-(\d{2})$/,da=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,$a=/^(\d{4,})-W(\d\d)$/,va=/^(\d{4,})-(\d\d)$/,ma=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ga="keydown wheel mousedown",ya=gt();o("date,datetime-local,month,time,week".split(","),function(t){ya[t]=!0});var ba={text:kr,date:Vr("date",pa,Mr(pa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Vr("datetimelocal",da,Mr(da,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Vr("time",ma,Mr(ma,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Vr("week",$a,Or,"yyyy-Www"),month:Vr("month",va,Mr(va,["yyyy","MM"]),"yyyy-MM"),number:_r,url:Ur,email:Lr,radio:qr,range:Rr,checkbox:Hr,hidden:$,button:$,submit:$,reset:$,file:$},wa=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(ba[ti(a.type)]||ba.text)(i,o,a,s[0],e,t,n,r)}}}}],xa=/^(true|false|\d+)$/,Ca=function(){function t(t,e,n){var r=b(n)?n:9===ii?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return xa.test(n.ngValue)?function(e,n,r){t(n,r,e.$eval(r.ngValue))}:function(e,n,r){e.$watch(r.ngValue,function(e){t(n,r,e)})}}}},Ea=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=yt(t)})}}}}],Sa=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=y(t)?"":t})}}}}],ka=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],Aa=m({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Oa=Br("",!0),Ma=Br("Odd",0),Va=Br("Even",1),Ta=yr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Na=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ia={},ja={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=xe("ng-"+t);Ia[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e]);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};ja[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Da=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=mt(s.clone),t.leave(c).done(function(t){!1!==t&&(c=null)}),s=null))})}}}],Pa=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:di.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,p,d=0,$=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).done(function(t){!1!==t&&(h=null)}),h=p,p=null)};r.$watch(o,function(o){var u=function(t){!1===t||!b(s)||s&&!r.$eval(s)||e()},h=++d;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&h===d){var e=r.$new();c.template=t;var s=l(e,function(t){$(),n.enter(t,null,i).done(u)});f=e,p=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===d&&($(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):($(),c.template=null)})}}}}],_a=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(fi.call(r[0]).match(/SVG/))return r.empty(),void e(Tt(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],Ra=yr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ua=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?yi(i):i,u=function(t){if(!y(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(a?yi(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){if(mi(t))return t.join(i)}),r.$isEmpty=function(t){return!t||!t.length}}}},La="ng-valid",qa="ng-invalid",Fa="ng-pristine",Ha="ng-dirty",Ba=r("ngModel");zr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],zr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return A(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){A(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Ba("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,et(this.$$element))},$render:$,$isEmpty:function(t){return y(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ha),this.$$animate.addClass(this.$$element,Fa)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,Ha),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!vi(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function r(t,e){a===s.$$currentValidationRunId&&s.$setValidity(t,e)}function i(t){a===s.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var a=this.$$currentValidationRunId,s=this;return function(){var t=s.$$parserName||"parse";return y(s.$$parserValid)?(r(t,null),!0):(s.$$parserValid||(o(s.$validators,function(t,e){r(e,null)}),o(s.$asyncValidators,function(t,e){r(e,null)})),r(t,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return o(s.$validators,function(i,o){var a=Boolean(i(t,e));n=n&&a,r(o,a)}),!!n||(o(s.$asyncValidators,function(t,e){r(e,null)}),!1)}()?void function(){var n=[],a=!0;o(s.$asyncValidators,function(i,o){var s=i(t,e);if(!D(s))throw Ba("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);r(o,void 0),n.push(s.then(function(){r(o,!0)},function(){a=!1,r(o,!1)}))}),n.length?s.$$q.all(n).then(function(){i(a)},$):i(!0)}():void i(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){r.$modelValue!==o&&r.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,r=this;if(this.$$parserValid=!y(n)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),y(n)){this.$$parserValid=!1;break}vi(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(r.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");E(e[t])?e=e[t]:E(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,$))},$$format:function(){for(var t=this.$formatters,e=t.length,n=this.$modelValue;e--;)n=t[e](n);return n},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},Cr({clazz:zr,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var za,Wa=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:zr,priority:1,compile:function(e){return e.addClass(Fa).addClass("ng-untouched").addClass(La),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$$setUpdateOnEvents(),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],Ga=/(\s+|^)default(\s+|$)/;Gr.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=f({},t),o(t,function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=yi(n.replace(Ga,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Kr(t,this.$$options)),Kr(t,za.$$options),new Gr(t)}},za=new Gr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Ka=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:za,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},Ja=yr({terminal:!0,priority:1e3}),Za=r("ngOptions"),Ya=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Qa=["$compile","$document","$parse",function(e,n,r){function a(t,e,n){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(Ya);if(!s)throw Za("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,et(e));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],h=r(s[2]?s[1]:u),p=l&&r(l),d=p||h,$=f&&r(f),v=f?function(t,e){return $(n,e)}:function(t){return re(t)},m=function(t,e){return v(t,C(t,e))},g=r(s[2]||s[1]),y=r(s[3]||""),b=r(s[4]||""),w=r(s[8]),x={},C=c?function(t,e){return x[c]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:f,getTrackByValue:m,getWatchables:r(w,function(t){var e=[];t=t||[];for(var r=a(t),i=r.length,o=0;o<i;o++){var u=t===r?o:r[o],c=t[u],l=C(c,u),f=v(c,l);if(e.push(f),s[2]||s[1]){var h=g(n,l);e.push(h)}if(s[4]){var p=b(n,l);e.push(p)}}return e}),getOptions:function(){for(var t=[],e={},r=w(n)||[],i=a(r),s=i.length,u=0;u<s;u++){var c=r===i?u:i[u],l=r[c],h=C(l,c),p=d(n,h),$=v(p,h),x=g(n,h),E=y(n,h),S=b(n,h),k=new o($,p,x,E,S);t.push(k),e[$]=k}return{items:t,selectValueMap:e,
getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return f?H(t.viewValue):t.viewValue}}}}}function s(t,r,i,s){function l(t,e){var n=u.cloneNode(!1);e.appendChild(n),h(t,n)}function f(t){var e=x.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=x&&d.readValue();if(x)for(var e=x.items.length-1;e>=0;e--){var n=x.items[e];Kt(b(n.group)?n.element.parentNode:n.element)}x=C.getOptions();var i={};if(x.items.forEach(function(t){var e;b(t.group)?(e=i[t.group],e||(e=c.cloneNode(!1),E.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),l(t,e)):l(t,E)}),r[0].appendChild(E),$.$render(),!$.$isEmpty(t)){var o=d.readValue();(C.trackBy||v?z(t,o):t===o)||($.$setViewValue(o),$.$render())}}for(var d=s[0],$=s[1],v=i.multiple,m=0,g=r.children(),y=g.length;m<y;m++)if(""===g[m].value){d.hasEmptyOption=!0,d.emptyOption=g.eq(m);break}r.empty();var w=!!d.emptyOption;oi(u.cloneNode(!1)).val("?");var x,C=a(i.ngOptions,r,t),E=n[0].createDocumentFragment();d.generateUnknownOptionValue=function(t){return"?"},v?(d.writeValue=function(t){if(x){var e=t&&t.map(f)||[];x.items.forEach(function(t){t.element.selected&&!q(e,t)&&(t.element.selected=!1)})}},d.readValue=function(){var t=r.val()||[],e=[];return o(t,function(t){var n=x.selectValueMap[t];n&&!n.disabled&&e.push(x.getViewValueFromOption(n))}),e},C.trackBy&&t.$watchCollection(function(){if(mi($.$viewValue))return $.$viewValue.map(function(t){return C.getTrackByValue(t)})},function(){$.$render()})):(d.writeValue=function(t){if(x){var e=r[0].options[r[0].selectedIndex],n=x.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(d.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):d.selectUnknownOrEmptyOption(t)}},d.readValue=function(){var t=x.selectValueMap[r.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),x.getViewValueFromOption(t)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue($.$viewValue)},function(){$.$render()})),w&&(e(d.emptyOption)(t),r.prepend(d.emptyOption),d.emptyOption[0].nodeType===Vi?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),$.$render(),e.on("$destroy",function(){var t=d.$isEmptyOptionSelected();d.hasEmptyOption=!1,d.emptyOption=void 0,t&&$.$render()}))}):d.emptyOption.removeClass("ng-scope")),t.$watchCollection(C.getWatchables,p)}var u=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=$},post:s}}}],Xa=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(t){s.text(t||"")}var l,f=u.count,h=u.$attr.when&&s.attr(u.$attr.when),p=u.offset||0,d=a.$eval(h)||{},v={},m=e.startSymbol(),g=e.endSymbol(),b=m+f+"-"+p+g,w=di.noop;o(u,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+ti(n[2]);d[r]=s.attr(u.$attr[e])}}),o(d,function(t,n){v[n]=e(t.replace(r,b))}),a.$watch(f,function(e){var r=parseFloat(e),i=vi(r);if(i||r in d||(r=t.pluralCat(r-p)),!(r===l||i&&vi(l))){w();var o=v[r];y(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=$,c()):w=a.$watch(o,c),l=r}})}}}],ts=["$parse","$animate","$compile",function(t,e,n){var a=r("ngRepeat"),s=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},u=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,l){var f=l.ngRepeat,h=n.$$createComment("end ngRepeat",f),p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var d=p[1],$=p[2],v=p[3],m=p[4];if(!(p=d.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",d);var g=p[3]||p[1],y=p[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var b,w,x,C,E={$id:re};return m?b=t(m):(x=function(t,e){return re(e)},C=function(t){return t}),function(t,n,r,l,p){b&&(w=function(e,n,r){return y&&(E[y]=e),E[g]=n,E.$index=r,b(t,E)});var d=gt();t.$watchCollection($,function(r){var l,$,m,b,E,S,k,A,O,M,V,T,N=n[0],I=gt();if(v&&(t[v]=r),i(r))O=r,A=w||x;else{A=w||C,O=[];for(var j in r)Xr.call(r,j)&&"$"!==j.charAt(0)&&O.push(j)}for(b=O.length,V=new Array(b),l=0;l<b;l++)if(E=r===O?l:O[l],S=r[E],k=A(E,S,l),d[k])M=d[k],delete d[k],I[k]=M,V[l]=M;else{if(I[k])throw o(V,function(t){t&&t.scope&&(d[t.id]=t)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,k,S);V[l]={id:k,scope:void 0,clone:void 0},I[k]=!0}for(var D in d){if(M=d[D],T=mt(M.clone),e.leave(T),T[0].parentNode)for(l=0,$=T.length;l<$;l++)T[l].$$NG_REMOVED=!0;M.scope.$destroy()}for(l=0;l<b;l++)if(E=r===O?l:O[l],S=r[E],M=V[l],M.scope){m=N;do{m=m.nextSibling}while(m&&m.$$NG_REMOVED);u(M)!==m&&e.move(mt(M.clone),null,N),N=c(M),s(M.scope,l,g,S,y,E,b)}else p(function(t,n){M.scope=n;var r=h.cloneNode(!1);t[t.length++]=r,e.enter(t,null,N),N=r,M.clone=t,I[M.id]=M,s(M.scope,l,g,S,y,E,b)});d=I})}}}}],es=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ns=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],rs=yr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),is=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(s,function(n){for(var r,i;l.length;)t.cancel(l.pop());for(r=0,i=f.length;r<i;++r){var s=mt(c[r].clone);f[r].$destroy();(l[r]=t.leave(s)).done(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],os=yr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})})}}),as=yr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),ss=r("ngTransclude"),us=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){function a(t,n){t.length&&u(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function u(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==Mi||r.nodeValue.trim())return!0}}if(!o)throw ss("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",et(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var c=r.ngTransclude||r.ngTranscludeSlot;o(a,null,c),c&&!o.isSlotFilled(c)&&s()}}}}],cs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],ls={$setViewValue:$,$render:$},fs=["$element","$scope",function(e,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(t){u||(u=!0,n.$$postDigest(function(){n.$$destroyed||(u=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,a=new Yi;o.selectValueMap={},o.ngModelCtrl=ls,o.multiple=!1,o.unknownOption=oi(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),Jr(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),Jr(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+re(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),Jr(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&Jr(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=$}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&Jr(oi(n),!1),o.hasOption(t)){o.removeUnknownOption();var r=re(t);e.val(r in o.selectValueMap?r:t);var i=e[0].options[e[0].selectedIndex];Jr(oi(i),!0)}else o.selectUnknownOrEmptyOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==Vi){$t(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=a.get(t)||0;a.set(t,n+1),r()}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.delete(t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(t,e-1))},o.hasOption=function(t){return!!a.get(t)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return e[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&e[0].options[e[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(t){null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)};var s=!1,u=!1;o.registerOption=function(t,e,n,a,s){if(n.$attr.ngValue){var u,c=NaN;n.$observe("value",function(t){var n,r=e.prop("selected");b(c)&&(o.removeOption(u),delete o.selectValueMap[c],n=!0),c=re(t),u=t,o.selectValueMap[c]=t,o.addOption(t,e),e.attr("value",c),n&&r&&i()})}else a?n.$observe("value",function(t){o.readValue();var n,r=e.prop("selected");b(u)&&(o.removeOption(u),n=!0),u=t,o.addOption(t,e),n&&r&&i()}):s?t.$watch(s,function(t,r){n.$set("value",t);var a=e.prop("selected");r!==t&&o.removeOption(r),o.addOption(t,e),r&&a&&i()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),r(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&i(!0)})}}],hs=function(){function t(t,e,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=$);if(i.ngModelCtrl=a,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return o(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),t},i.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(q(t,e.value)||q(t,i.selectValueMap[e.value]));n!==e.selected&&Jr(oi(e),n)})};var s,u=NaN;t.$watch(function(){u!==a.$viewValue||z(s,a.$viewValue)||(s=wt(a.$viewValue),a.$render()),u=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:fs,priority:1,link:{pre:t,post:e}}},ps=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return b(n.ngValue)||(b(n.value)?r=t(n.value,!0):(i=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o=e.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(t,e,n,r,i)}}}}],ds=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},$s=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(C(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,et(e));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||y(o)||o.test(e)}}}}},vs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=p(t);i=vi(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}}},ms=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=p(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};if(t.angular.bootstrap)return void(t.console&&console.log("WARNING: Tried to load angular more than once."));!function(){var e;if(!Ai){var n=xi();ai=y(n)?t.jQuery:n?t[n]:void 0,ai&&ai.fn.on?(oi=ai,f(ai.fn,{scope:Wi.scope,isolateScope:Wi.isolateScope,controller:Wi.controller,injector:Wi.injector,inheritedData:Wi.inheritedData}),e=ai.cleanData,ai.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)(n=ai._data(r,"events"))&&n.$destroy&&ai(r).triggerHandler("$destroy");e(t)}):oi=jt,di.element=oi,Ai=!0}}(),function(n){f(n,{errorHandlingConfig:e,bootstrap:ct,copy:H,extend:f,merge:h,equals:z,element:oi,forEach:o,injector:ce,noop:$,bind:K,toJson:Z,fromJson:Y,identity:v,isUndefined:y,isDefined:b,isString:C,isFunction:A,isObject:w,isNumber:E,isElement:R,isArray:mi,version:Ii,isDate:S,lowercase:ti,uppercase:ei,callbacks:{$$counter:0},getTestability:ft,reloadWithDebugInfo:lt,$$minErr:r,$$csp:wi,$$encodeUriSegment:ot,$$encodeUriQuery:at,$$stringify:yt}),si=bt(t),si("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:In}),t.provider("$compile",be).directive({a:na,input:wa,textarea:wa,form:sa,script:cs,select:hs,option:ps,ngBind:Ea,ngBindHtml:ka,ngBindTemplate:Sa,ngClass:Oa,ngClassEven:Va,ngClassOdd:Ma,ngCloak:Ta,ngController:Na,ngForm:ua,ngHide:ns,ngIf:Da,ngInclude:Pa,ngInit:Ra,ngNonBindable:Ja,ngPluralize:Xa,ngRepeat:ts,ngShow:es,ngStyle:rs,ngSwitch:is,ngSwitchWhen:os,ngSwitchDefault:as,ngOptions:Qa,ngTransclude:us,ngModel:Wa,ngList:Ua,ngChange:Aa,pattern:$s,ngPattern:$s,required:ds,ngRequired:ds,minlength:ms,ngMinlength:ms,maxlength:vs,ngMaxlength:vs,ngValue:Ca,ngModelOptions:Ka}).directive({ngInclude:_a}).directive(ra).directive(Ia),t.provider({$anchorScroll:le,$animate:co,$animateCss:ho,$$animateJs:so,$$animateQueue:uo,$$AnimateRunner:fo,$$animateAsyncRun:lo,$browser:ve,$cacheFactory:me,$controller:ke,$document:Ae,$$isDocumentHidden:Oe,$exceptionHandler:Me,$filter:Kn,$$forceReflow:bo,$interpolate:He,$interval:Be,$http:Ue,$httpParamSerializer:Te,$httpParamSerializerJQLike:Ne,$httpBackend:qe,$xhrFactory:Le,$jsonpCallbacks:Oo,$location:sn,$log:un,$parse:En,$rootScope:Nn,$q:Sn,$$q:kn,$sce:Rn,$sceDelegate:_n,$sniffer:Un,$templateCache:ge,$templateRequest:Ln,$$testability:qn,$timeout:Fn,$window:zn,$$rAF:Tn,$$jqLite:ne,$$Map:Qi,$$cookieReader:Gn})}]).info({angularVersion:"1.6.8"})}(di),di.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var r=n;void 0===r&&(r=Math.min(e(t),3));var i=Math.pow(10,r);return{v:r,f:(t*i|0)%i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,o=n(t,e);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),oi(function(){ut(t.document,ct)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
},{}],173:[function(require,module,exports){
require("./angular"),module.exports=angular;
},{"./angular":172}],174:[function(require,module,exports){
"use strict";function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){for(var r,e=getLens(o),t=e[0],n=e[1],u=new Arr(_byteLength(o,t,n)),p=0,a=n>0?t-4:t,h=0;h<a;h+=4)r=revLookup[o.charCodeAt(h)]<<18|revLookup[o.charCodeAt(h+1)]<<12|revLookup[o.charCodeAt(h+2)]<<6|revLookup[o.charCodeAt(h+3)],u[p++]=r>>16&255,u[p++]=r>>8&255,u[p++]=255&r;return 2===n&&(r=revLookup[o.charCodeAt(h)]<<2|revLookup[o.charCodeAt(h+1)]>>4,u[p++]=255&r),1===n&&(r=revLookup[o.charCodeAt(h)]<<10|revLookup[o.charCodeAt(h+1)]<<4|revLookup[o.charCodeAt(h+2)]>>2,u[p++]=r>>8&255,u[p++]=255&r),u}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;
},{}],175:[function(require,module,exports){

},{}],176:[function(require,module,exports){
"use strict";function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return fromString(e,t);if(ArrayBuffer.isView(e))return fromArrayLike(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var f=fromObject(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(f)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),f=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,numberIsNaN(r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(e,a)===i(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===s)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(e,a+l)!==i(t,l)){c=!1;break}if(c)return a}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i=e[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=e[f+1],128==(192&s)&&(c=(31&i)<<6|63&s)>127&&(o=c);break;case 3:s=e[f+1],a=e[f+2],128==(192&s)&&128==(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:s=e[f+1],a=e[f+2],h=e[f+3],128==(192&s)&&128==(192&a)&&128==(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}function base64clean(e){if(e=e.split("=")[0],e=e.trim().replace(INVALID_BASE64_RE,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!==e}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,f>>>=0,this===e)return 0;for(var i=f-n,o=r-t,u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;
},{"base64-js":174,"ieee754":178}],177:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;r<n;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};
},{}],178:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],179:[function(require,module,exports){
arguments[4][85][0].apply(exports,arguments)
},{"dup":85}],180:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function basename(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}for(var l=[],u=i;u<n.length;u++)l.push("..");return l=l.concat(o.slice(i)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var e=basename(r);return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
}).call(this,require('_process'))

},{"_process":181}],181:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],182:[function(require,module,exports){
(function (setImmediate,clearImmediate){
function Timeout(e,t){this._id=e,this._clearFn=t}var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]};
}).call(this,require("timers").setImmediate,require("timers").clearImmediate)

},{"process/browser.js":181,"timers":182}],183:[function(require,module,exports){
"use strict";var angular=require("angular");require("angular-ui-bootstrap"),require("angular-route"),require("angular-xeditable"),require("angular-animate"),window.jQuery=require("jquery"),require("owasp-threat-dragon-core"),SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(e){return e.getScreenCTM().inverse().multiply(this.getScreenCTM())};var app=angular.module("app",["ui.bootstrap","ngRoute","xeditable","ngAnimate","templates","owasp-threat-dragon-core","common"]);require("./config.route"),require("./services"),require("./layout"),require("./welcome"),require("./threatmodels"),app.config(["$qProvider",function(e){e.errorOnUnhandledRejections(!1)}]),app.run(["$rootScope","$location",function(e,r){e.location=r}]),app.config(["$locationProvider",function(e){e.hashPrefix("")}]),app.run(["$route","$rootScope","routemediator",function(e,r,o){o.setRoutingHandlers()}]),app.run(["editableOptions",function(e){e.theme="bs3"}]);
},{"./config.route":184,"./layout":185,"./services":188,"./threatmodels":191,"./welcome":192,"angular":173,"angular-animate":166,"angular-route":168,"angular-ui-bootstrap":170,"angular-xeditable":171,"jquery":179,"owasp-threat-dragon-core":150}],184:[function(require,module,exports){
"use strict";function routeConfigurator(e,t){function o(t,o){return e.when(t,o),e}t.forEach(function(e){o(e.url,e.config)}),e.otherwise({redirectTo:"/"})}function getRoutes(){return[{url:"/",config:{templateUrl:"./public/app/welcome/welcome.html",title:"Welcome Page",settings:{}}},{url:"/welcome",config:{templateUrl:"./public/app/welcome/welcome.html",title:"Welcome Page",settings:{}}},{url:"/threatmodel",config:{templateUrl:"./public/app/threatmodels/repos.html",title:"Choose a Repo",settings:{}}},{url:"/threatmodel/:organisation/:repo",config:{templateUrl:"./public/app/threatmodels/branches.html",title:"Choose a Branch",settings:{}}},{url:"/threatmodel/:organisation/:repo/:branch",config:{templateUrl:"./public/app/threatmodels/models.html",title:"Choose a Model",settings:{}}},{url:"/threatmodel/:organisation/:repo/:branch/:model",config:{title:"Threat Model Details",templateUrl:"threatmodels/threatmodeldetail.html",settings:{}}},{url:"/threatmodel/edit/:organisation/:repo/:branch/:model",config:{title:"Edit Threat Model",templateUrl:"threatmodels/threatmodeledit.html",settings:{}}},{url:"/new/threatmodel",config:{title:"Choose a Repo For Your New Model",templateUrl:"./public/app/threatmodels/repos.html",settings:{}}},{url:"/new/threatmodel/:organisation/:repo",config:{title:"Choose a Branch For Your New Model",templateUrl:"./public/app/threatmodels/branches.html",settings:{}}},{url:"/new/threatmodel/:organisation/:repo/:branch",config:{title:"Create a New Model",templateUrl:"threatmodels/threatmodeledit.html",settings:{}}},{url:"/threatmodel/:organisation/:repo/:branch/:model/diagram/:diagramId",config:{title:"Threat Model Diagram",templateUrl:"diagrams/diagrameditor.html",reloadOnSearch:!1,settings:{}}},{url:"/threatmodel/:organisation/:repo/:branch/:model/diagram/:diagramId/threatReport",config:{title:"Threat Model Report",templateUrl:"report/ThreatReport.html",settings:{}}}]}var app=require("angular").module("app");app.constant("routes",getRoutes()),app.config(["$routeProvider","routes",routeConfigurator]);
},{"angular":173}],185:[function(require,module,exports){
"use strict";var app=require("angular").module("app");app.controller("shell",["$rootScope","$scope","common","config",require("./shell")]);
},{"./shell":186,"angular":173}],186:[function(require,module,exports){
"use strict";function shell(e,n,o,t){var l="shell",c=o.logger.getLogFn(l,"success"),a=t.events;n.$on("$viewContentLoaded",function(){e.appLoaded=!0}),function(){c("Threat Dragon loaded!",null,!0),o.activateController([],l)}(),e.$on("$routeChangeStart",function(e,n,o){}),e.$on(a.controllerActivateSuccess,function(e){})}module.exports=shell;
},{}],187:[function(require,module,exports){
"use strict";function datacontext(t,e,r,o){function a(t){var r="threatmodel/repos";t&&(r+="?page="+t);var o={headers:{Accept:"application/json"}};return e.get(r,o)}function n(t,r,o){var a="threatmodel/"+t+"/"+r+"/branches";o&&(a+="?page="+o);var n={headers:{Accept:"application/json"}};return e.get(a,n)}function l(t,r,o){var a="threatmodel/"+t+"/"+r+"/"+o+"/models",n={headers:{Accept:"application/json"}};return e.get(a,n)}function i(r,o){function a(e){return M.threatModel=e.data,M.threatModelLocation=l,t.resolve(M.threatModel)}function n(e){return M.threatModel=null,M.threatModelLocation=null,t.reject(e)}var l={organisation:r.organisation,repo:r.repo,branch:r.branch,model:r.model};if(M.threatModel&&JSON.stringify(l)===JSON.stringify(M.threatModelLocation)&&!o)return t.when(M.threatModel);var i=s(l)+"/data",d={headers:{Accept:"application/json"}};return e.get(i,d).then(a,n)}function d(r,o){function a(){return M.threatModelLocation=l,t.resolve({model:M.threatModel,location:M.threatModelLocation})}function n(e){return M.threatModelLocation=null,t.reject(e)}var l={organisation:r.organisation,repo:r.repo,branch:r.branch,model:o.summary.title},i=s(l)+"/create";return M.threatModel=o,e.put(i,o).then(a,n)}function c(){function r(){var t=s(a);return e.delete(t)}function o(){return t.resolve({model:M.threatModel,location:M.threatModelLocation})}var a=Object.assign({},M.threatModelLocation);if(a.model===M.threatModel.summary.title){var n=s(M.threatModelLocation)+"/update";return e.put(n,M.threatModel)}return M.threatModelLocation.model=M.threatModel.summary.title,d(M.threatModelLocation,M.threatModel).then(r).then(o)}function u(){function r(){return M.threatModel=null,M.threatModelLocation=null,t.resolve(M.threatModel)}function o(e){return t.reject(e)}var a=s(M.threatModelLocation);return e.delete(a).then(r,o)}function h(e,r){var o=M.threatModel.detail.diagrams.find(function(t){return t.id==e});return o?(o.diagramJson=r.diagramJson,o.size=r.size,c()):t.reject(new Error("invalid diagram id"))}function s(t){return"threatmodel/"+o.getModelPath(t)}var M={repos:a,branches:n,models:l,load:i,create:d,update:c,deleteModel:u,saveThreatModelDiagram:h,threatModel:null,threatModelLocation:null};return M}module.exports=datacontext;
},{}],188:[function(require,module,exports){
var angular=require("angular"),app=angular.module("app");app.factory("datacontext",["$q","$http","common","threatmodellocator",require("./datacontext")]),app.factory("threatmodellocator",[require("./threatmodellocator")]);
},{"./datacontext":187,"./threatmodellocator":189,"angular":173}],189:[function(require,module,exports){
"use strict";function threatmodellocator(){function o(o){return{organisation:o.organisation,repo:o.repo,branch:o.branch,model:o.model}}function e(o){var e="";return e+=o.organisation+"/",e+=o.repo+"/",e+=o.branch+"/",e+=o.model}function t(o,e){return e.model!=o.model}return{getModelLocation:o,getModelPath:e,getModelPathFromRouteParams:e,willMoveModel:t,newModelLocation:"/new/threatmodel"}}module.exports=threatmodellocator;
},{}],190:[function(require,module,exports){
"use strict";function github(n,a,t,e,o){function i(){d.error=null,d.organisation=a.organisation,d.repo=a.repo,d.branch=a.branch,d.organisation||d.repo?d.branch?p(d.organisation,d.repo,d.branch):g(d.organisation,d.repo):r()}function r(){return o.repos(t.search().page).then(function(n){d.pagination=n.data.pagination,d.pagination.page=parseInt(d.pagination.page,10),d.repos=n.data.repos},function(n){d.repos=[],l(n)})}function g(n,a){return o.branches(n,a,t.search().page).then(function(n){d.pagination=n.data.pagination,d.pagination.page=parseInt(d.pagination.page,10),d.branches=n.data.branches},function(n){d.branches=[],l(n)})}function p(n,a,t){return o.models(n,a,t).then(function(n){d.models=n.data},function(n){d.models=[],l(n)})}function c(n){t.url(f()+"threatmodel/"+d.organisation+"/"+d.repo+"/"+n)}function u(n){t.url(f()+"threatmodel/"+n)}function s(){d.pagination.next?t.search("page",d.pagination.page+1):x("Cannot navigate to next page")}function h(){d.pagination.prev?t.search("page",d.pagination.page-1):x("Cannot navigate to previous page")}function f(){return"/new/threatmodel"===t.path().substr(0,16)?"new/":""}function l(n){d.error=n,x(n.data.message)}var d=this,b="github",m=e.logger.getLogFn,v=m(b),x=m(b,"error");d.title="Load From GitHub",d.selectBranch=c,d.selectRepo=u,d.nextPage=s,d.previousPage=h,d.uriPrefix=f,function(){e.activateController([i()],b).then(function(){v("Activated GitHub Controller")})}()}module.exports=github;
},{}],191:[function(require,module,exports){
var app=require("angular").module("app"),github=require("./github");app.controller("github",["$q","$routeParams","$location","common","datacontext",github]);
},{"./github":190,"angular":173}],192:[function(require,module,exports){
"use strict";var app=require("angular").module("app");app.controller("welcome",["$location","common","commonConfig",require("./welcome")]);
},{"./welcome":193,"angular":173}],193:[function(require,module,exports){
"use strict";function welcome(o,e,t){function n(){var e="threatmodel/";e+=t.config.demoModelLocation.organisation+"/",e+=t.config.demoModelLocation.repo+"/",e+=t.config.demoModelLocation.branch+"/",e+=t.config.demoModelLocation.model,o.path(e)}var c="welcome",i=this,l=e.logger.getLogFn,a=l(c);i.title="Welcome",i.loadDemoModel=n,function(){e.activateController([],c).then(function(){a("Activated Welcome View")})}()}module.exports=welcome;
},{}]},{},[183])


//# sourceMappingURL=./td/public/app/threatdragon.js.map